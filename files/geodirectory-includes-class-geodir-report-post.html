<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Geodirectory Code Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.png" />
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/base.css?updated=1652337338">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/template.css?updated=1652337338">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
            <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/js/all.min.js" integrity="sha256-0vuk8LXoyrmCjp1f0O300qo1M75ZQyhH9X3J6d+scmk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@7.2.0/dist/js/autoComplete.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8KCYZ2CYMS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8KCYZ2CYMS', {
		'content_group' : 'WooCommerce Core Code Reference',
	});
</script>
        <script src="../js/prism.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            window.dispatchEvent(new HashChangeEvent('hashchange'));
        });
    </script>
</head>
<body id="top">
    <header class="phpdocumentor-top-header">
    <section class="phpdocumentor-section">
        <div class="site-branding">
            <a class="site-logo" href="../index.html"><img width="180" src="../images/logo.png" alt="WPGeodirectory" /></a>
        </div>
        <nav class="main-navigation">
            <ul>
                <li><a href="../hooks/hooks.html">Hooks Reference</a></li>
                <li><a href="https://docs.woocommerce.com/">Documentation</a></li>
                <li><a href="https://woocommerce.github.io/woocommerce-rest-api-docs/">REST API Docs</a></li>
                <li><a href="https://woocommerce.com/careers/?utm_source=woocommerce+core+code+reference&utm_medium=devdocs&utm_campaign=woo+careers" target="_blank">We're hiring!</a></li>
            </ul>
        </nav>
    </section>
</header>

<div class="phpdocumentor-header">
    <section class="phpdocumentor-section">
        <h1 class="phpdocumentor-title">Geodirectory Code Reference</h1>
        <section class="phpdocumentor-search">
    <label class="phpdocumentor-label">
        <span class="visually-hidden">Search (click ESC to close search results)</span>
        <input id="autoComplete" tabindex="1" type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading..." disabled />
    </label>
</section>

    </section>
</div>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <aside class="phpdocumentor-column -four phpdocumentor-sidebar">
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                <h3 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/default.html"><abbr title="\">Global</abbr></a></h3>
                                        <h4 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/elementorpro.html"><abbr title="\ElementorPro">ElementorPro</abbr></a></h4>
                <ul class="phpdocumentor-list">
                                            <li><a href="../namespaces/elementorpro-modules.html"><abbr title="\ElementorPro\Modules">Modules</abbr></a></li>
                                    </ul>
                        </section>

        <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                    <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/Geodirectory.html"><abbr title="\Geodirectory">Geodirectory</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectory.html"><abbr title="\GeoDirectory">GeoDirectory</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/GeoDirectory-Templates.html"><abbr title="\GeoDirectory\Templates">Templates</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAbstracts.html"><abbr title="\GeoDirectoryAbstracts">GeoDirectoryAbstracts</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAPI.html"><abbr title="\GeoDirectoryAPI">GeoDirectoryAPI</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClasses.html"><abbr title="\GeoDirectoryClasses">GeoDirectoryClasses</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminFunctions.html"><abbr title="\GeoDirectoryAdminFunctions">GeoDirectoryAdminFunctions</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoruAdmin.html"><abbr title="\GeoDirectoruAdmin">GeoDirectoruAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdmin.html"><abbr title="\GeoDirectoryAdmin">GeoDirectoryAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirAdmin.html"><abbr title="\GeoDirAdmin">GeoDirAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectroyAdmin.html"><abbr title="\GeoDirectroyAdmin">GeoDirectroyAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminSystemStatus.html"><abbr title="\GeoDirectoryAdminSystemStatus">GeoDirectoryAdminSystemStatus</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminTools.html"><abbr title="\GeoDirectoryAdminTools">GeoDirectoryAdminTools</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminWidgets.html"><abbr title="\GeoDirectoryAdminWidgets">GeoDirectoryAdminWidgets</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClassesEmails.html"><abbr title="\GeoDirectoryClassesEmails">GeoDirectoryClassesEmails</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClassesData.html"><abbr title="\GeoDirectoryClassesData">GeoDirectoryClassesData</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDIrectoryClassesData.html"><abbr title="\GeoDIrectoryClassesData">GeoDIrectoryClassesData</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/ElementorPro.html"><abbr title="\ElementorPro">ElementorPro</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/ElementorPro-Modules.html"><abbr title="\ElementorPro\Modules">Modules</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryFunctions.html"><abbr title="\GeoDirectoryFunctions">GeoDirectoryFunctions</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryparamarraytermsAnarrayoftermobjects.html"><abbr title="\GeoDirectoryparamarraytermsAnarrayoftermobjects">GeoDirectoryparamarraytermsAnarrayoftermobjects</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WP.html"><abbr title="\WP">WP</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/WP-Background.html"><abbr title="\WP\Background">Background</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryTemplates.html"><abbr title="\GeoDirectoryTemplates">GeoDirectoryTemplates</abbr></a></h3>
                        </section>
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../indices/files.html">Files</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../hooks/hooks.html">Hooks Reference</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <ul class="phpdocumentor-breadcrumbs">
    </ul>

    <article class="phpdocumentor-element -file">
        <h2 class="phpdocumentor-content__title">class-geodir-report-post.php</h2>

                

        
                    <h3 class="phpdocumentor-elements__header" id="source-code">
                Source code
                <a href="#source-code" class="headerlink"><i class="fas fa-link"></i></a>
            </h3>
            <pre id="source-view" tabindex="-1" class="language-php line-numbers linkable-line-numbers"><code>&lt;?php
/**
 * GeoDir_Report_Post class
 *
 * @package GeoDirectory
 * @since   2.1.1.12
 */

// Exit if accessed directly
if ( ! defined( &#039;ABSPATH&#039; ) ) exit;

/**
 * GeoDir_Report_Post class.
 */
class GeoDir_Report_Post {

	/**
	 * Setup.
	 */
	public static function init() {
		if ( is_admin() ) {
			add_filter( &#039;geodir_admin_email_settings&#039;, array( __CLASS__, &#039;filter_admin_email_settings&#039; ), 1, 1 );

			add_action( &#039;geodir_settings_general&#039;, array( __CLASS__, &#039;setup_admin_page&#039; ), 1, 1 );
			add_filter( &#039;geodir_get_sections_general&#039;, array( __CLASS__, &#039;add_admin_section&#039; ), 10, 1 );
			add_filter( &#039;geodir_general_default_options&#039;, array( __CLASS__, &#039;add_admin_setting&#039; ), 10, 2 );
			add_action( &#039;geodir_admin_field_list_reported_posts&#039;, array( __CLASS__, &#039;output_list_table&#039; ), 10, 1 );

			if ( ! empty( $_REQUEST[&#039;section&#039;] ) &amp;&amp; $_REQUEST[&#039;section&#039;] == &#039;report_post&#039; ) {
				add_filter( &#039;manage_geodirectory_page_gd-settings_columns&#039;, array( __CLASS__, &#039;get_admin_columns&#039; ), 20, 1 );
			}
		}

		add_action( &#039;geodir_report_post_created&#039;, array( __CLASS__, &#039;on_report_post_created&#039; ), 10, 3 );
	}

	public static function get_admin_columns( $columns = array() ) {
		$columns = array(
			&#039;cb&#039; =&gt; &#039;&lt;input type=&quot;checkbox&quot; /&gt;&#039;,
			&#039;post_title&#039; =&gt; __( &#039;Post Title&#039;, &#039;geodirectory&#039; ),
			&#039;post_author&#039; =&gt; __( &#039;Post Author&#039;, &#039;geodirectory&#039; ),
			&#039;post_date&#039; =&gt; __( &#039;Post Date&#039;, &#039;geodirectory&#039; ),
			&#039;user_name&#039; =&gt; __( &#039;Reported By&#039;, &#039;geodirectory&#039; ),
			&#039;report_date&#039; =&gt; __( &#039;Reported On&#039;, &#039;geodirectory&#039; ),
			&#039;reports&#039; =&gt; __( &#039;Reports&#039;, &#039;geodirectory&#039; ),
		);

		return $columns;
	}

	public static function setup_admin_page() {
		global $current_section, $hide_save_button, $hide_advanced_toggle;

		if ( $current_section == &#039;report_post&#039; ) {
			$hide_advanced_toggle = true;
			$hide_save_button = true;
		}
	}

	public static function add_admin_section( $sections ) {
		$offset = array_search( &#039;pages&#039;, array_keys( $sections ) );
		$offset = $offset === false ? 2 : $offset + 1;
		$num_reports = GeoDir_Report_Post::get_counts();
		if ( ! empty( $num_reports-&gt;pending ) ) {
			$pending_count = &#039; &lt;span class=&quot;awaiting-mod count-&#039; . (int) $num_reports-&gt;pending . &#039;&quot;&gt;&lt;span class=&quot;pending-count&quot; aria-hidden=&quot;true&quot;&gt;&#039; . (int) $num_reports-&gt;pending . &#039;&lt;/span&gt;&lt;span class=&quot;screen-reader-text&quot;&gt;&#039; . wp_sprintf( __( &#039;%d reported posts awaiting moderation&#039;, &#039;geodirectory&#039; ), (int) $num_reports-&gt;pending ) . &#039;&lt;/span&gt;&lt;/span&gt;&#039;;
		} else {
			$pending_count = &#039;&#039;;
		}
		$push_sections = array( &#039;report_post&#039; =&gt; __( &#039;Reported Posts&#039;, &#039;geodirectory&#039; ) . $pending_count );

		$sections = array_merge( array_slice( $sections, 0, $offset ), $push_sections, array_slice( $sections, $offset ) );

		return $sections;
	}

	public static function add_admin_setting( $settings, $current_section ) {
		if ( $current_section == &#039;report_post&#039; &amp;&amp; isset( $_REQUEST[&#039;section&#039;] ) &amp;&amp; $_REQUEST[&#039;section&#039;] == &#039;report_post&#039; ) {
			if ( ! empty( $post_id ) ) {
				$title = wp_sprintf( __( &#039;Reports for &quot;%s&quot;&#039;, &#039;geodirectory&#039; ), _draft_or_post_title( $post_id ) );
			} else {
				$title = __( &#039;Reported Posts&#039;, &#039;geodirectory&#039; );
			}

			$settings = apply_filters( &#039;geodir_admin_report_post_settings&#039;, 
				array(
					array(
						&#039;type&#039;  =&gt; &#039;page-title&#039;,
						&#039;id&#039;    =&gt; &#039;report_post&#039;,
						&#039;title&#039; =&gt; $title,
						&#039;desc&#039;  =&gt; &#039;&#039;
					),
					array(
						&#039;name&#039; =&gt; &#039;&#039;,
						&#039;desc&#039; =&gt; &#039;&#039;,
						&#039;id&#039; =&gt; &#039;list_reported_posts&#039;,
						&#039;type&#039; =&gt; &#039;list_reported_posts&#039;,
						&#039;css&#039; =&gt; &#039;min-width:300px;&#039;,
						&#039;std&#039; =&gt; &#039;40&#039;
					)
				) 
			);
		}

		return $settings;
	}

	public static function output_list_table( $setting ) {
		global $post_id, $status, $reason;

		if ( ! current_user_can( &#039;manage_options&#039; ) ) {
			wp_die(
				&#039;&lt;h1&gt;&#039; . __( &#039;You need a higher level of permission.&#039;, &#039;geodirectory&#039; ) . &#039;&lt;/h1&gt;&#039; .
				&#039;&lt;p&gt;&#039; . __( &#039;Sorry, you are not allowed to mage post reports.&#039;, &#039;geodirectory&#039; ) . &#039;&lt;/p&gt;&#039;,
				403
			);
		}
		//echo &#039;&lt;tr style=&quot;display:none&quot;&gt;&lt;td&gt;&lt;/td&gt;&lt;/table&gt;&#039;;
		echo &#039;&lt;tr style=&quot;display:none&quot;&gt;&lt;td&gt;&lt;/td&gt;&lt;/table&gt;&lt;/form&gt;&lt;form method=&quot;get&quot; enctype=&quot;multipart/form-data&quot; action=&quot;&#039; . admin_url( &#039;admin.php&#039; ) . &#039;&quot;&gt;&#039;;

		$args = array();

		$wp_list_table = new GeoDir_Admin_Report_Post_List_Table( $args );
		$pagenum = $wp_list_table-&gt;get_pagenum();

		// Handle bulk actions.
		$wp_list_table-&gt;process_bulk_action();

		$wp_list_table-&gt;prepare_items();

		add_screen_option( &#039;per_page&#039; );
		?&gt;
		&lt;div class=&quot;wrap&quot;&gt;
&lt;?php
if ( isset( $_REQUEST[&#039;resolved&#039;] ) || isset( $_REQUEST[&#039;rejected&#039;] ) || isset( $_REQUEST[&#039;deleted_&#039;] ) || isset( $_REQUEST[&#039;deleted&#039;] ) || isset( $_REQUEST[&#039;pending&#039;] ) || isset( $_REQUEST[&#039;draft&#039;] ) || isset( $_REQUEST[&#039;trash&#039;] ) ) {
	$resolved  = isset( $_REQUEST[&#039;resolved&#039;] ) ? (int) $_REQUEST[&#039;resolved&#039;] : 0;
	$rejected   = isset( $_REQUEST[&#039;rejected&#039;] ) ? (int) $_REQUEST[&#039;rejected&#039;] : 0;
	$deleted_   = isset( $_REQUEST[&#039;deleted_&#039;] ) ? (int) $_REQUEST[&#039;deleted_&#039;] : 0;
	$deleted   = isset( $_REQUEST[&#039;deleted&#039;] ) ? (int) $_REQUEST[&#039;deleted&#039;] : 0;
	$pending   = isset( $_REQUEST[&#039;pending&#039;] ) ? (int) $_REQUEST[&#039;pending&#039;] : 0;
	$draft   = isset( $_REQUEST[&#039;draft&#039;] ) ? (int) $_REQUEST[&#039;draft&#039;] : 0;
	$trash   = isset( $_REQUEST[&#039;trash&#039;] ) ? (int) $_REQUEST[&#039;trash&#039;] : 0;

	if ( $resolved &gt; 0 || $rejected &gt; 0 || $deleted_ &gt; 0 || $deleted &gt; 0 || $pending &gt; 0 || $draft &gt; 0 || $trash &gt; 0 ) {
		if ( $resolved &gt; 0 ) {
			$messages[] = sprintf( _n( &#039;%s item marked as resolved.&#039;, &#039;%s items marked as resolved.&#039;, $resolved ), $resolved );
		}

		if ( $rejected &gt; 0 ) {
			$messages[] = sprintf( _n( &#039;%s item marked as rejected.&#039;, &#039;%s items marked as rejected.&#039;, $rejected ), $rejected );
		}

		if ( $deleted_ &gt; 0 ) {
			$messages[] = sprintf( _n( &#039;%s item deleted.&#039;, &#039;%s items deleted.&#039;, $deleted_ ), $deleted_ );
		}

		if ( $deleted &gt; 0 ) {
			$messages[] = sprintf( _n( &#039;%s post deleted permanently.&#039;, &#039;%s posts deleted permanently.&#039;, $deleted ), $deleted );
		}

		if ( $pending &gt; 0 ) {
			$messages[] = sprintf( _n( &#039;%s post unpublished.&#039;, &#039;%s posts unpublished.&#039;, $pending ), $pending );
		}

		if ( $draft &gt; 0 ) {
			$messages[] = sprintf( _n( &#039;%s post moved to draft.&#039;, &#039;%s posts moved to draft.&#039;, $draft ), $draft );
		}

		if ( $trash &gt; 0 ) {
			$messages[] = sprintf( _n( &#039;%s post moved to trash.&#039;, &#039;%s posts moved to trash.&#039;, $trash ), $trash );
		}

		echo &#039;&lt;div id=&quot;moderated&quot; class=&quot;updated notice is-dismissible&quot;&gt;&lt;p&gt;&#039; . implode( &quot;&lt;br/&gt;\n&quot;, $messages ) . &#039;&lt;/p&gt;&lt;/div&gt;&#039;;
	}
}
?&gt;
			&lt;input type=&quot;hidden&quot; name=&quot;page&quot; value=&quot;gd-settings&quot; /&gt;
			&lt;input type=&quot;hidden&quot; name=&quot;tab&quot; value=&quot;general&quot; /&gt;
			&lt;input type=&quot;hidden&quot; name=&quot;section&quot; value=&quot;report_post&quot; /&gt;
		&lt;?php $wp_list_table-&gt;views(); ?&gt;

		&lt;?php $wp_list_table-&gt;search_box( __( &#039;Search Items&#039;, &#039;geodirectory&#039; ), &#039;report_post&#039; ); ?&gt;

		&lt;?php if ( ! empty( $post_id ) ) { ?&gt;
		&lt;input type=&quot;hidden&quot; name=&quot;p&quot; value=&quot;&lt;?php echo esc_attr( (int) $post_id ); ?&gt;&quot; /&gt;
		&lt;?php } ?&gt;
		&lt;input type=&quot;hidden&quot; name=&quot;status&quot; value=&quot;&lt;?php echo esc_attr( $status ); ?&gt;&quot; /&gt;
		&lt;input type=&quot;hidden&quot; name=&quot;_total&quot; value=&quot;&lt;?php echo esc_attr( $wp_list_table-&gt;get_pagination_arg( &#039;total_items&#039; ) ); ?&gt;&quot; /&gt;
		&lt;input type=&quot;hidden&quot; name=&quot;_per_page&quot; value=&quot;&lt;?php echo esc_attr( $wp_list_table-&gt;get_pagination_arg( &#039;per_page&#039; ) ); ?&gt;&quot; /&gt;
		&lt;input type=&quot;hidden&quot; name=&quot;_page&quot; value=&quot;&lt;?php echo esc_attr( $wp_list_table-&gt;get_pagination_arg( &#039;page&#039; ) ); ?&gt;&quot; /&gt;

		&lt;?php if ( isset( $_REQUEST[&#039;paged&#039;] ) ) { ?&gt;
			&lt;input type=&quot;hidden&quot; name=&quot;paged&quot; value=&quot;&lt;?php echo esc_attr( absint( $_REQUEST[&#039;paged&#039;] ) ); ?&gt;&quot; /&gt;
		&lt;?php } ?&gt;

		&lt;?php $wp_list_table-&gt;display(); ?&gt;
		&lt;/div&gt;

		&lt;div id=&quot;ajax-response&quot;&gt;&lt;/div&gt;&lt;/form&gt;&lt;form&gt;
	&lt;?php
	}

	public static function get_reasons() {
		$reasons = array(
			__( &#039;Copyright Issue&#039;, &#039;geodirectory&#039; ),
			__( &#039;Harassment&#039;, &#039;geodirectory&#039; ),
			__( &#039;Inappropriate&#039;, &#039;geodirectory&#039; ),
			__( &#039;Incorrect Details&#039;, &#039;geodirectory&#039; ),
			__( &#039;Offensive or Hateful&#039;, &#039;geodirectory&#039; ),
			__( &#039;Privacy Concern&#039;, &#039;geodirectory&#039; ),
			__( &#039;Spam&#039;, &#039;geodirectory&#039; ),
			__( &#039;Violence&#039;, &#039;geodirectory&#039; ),
			__( &#039;Other&#039;, &#039;geodirectory&#039; )
		);

		$reasons = apply_filters( &#039;geodir_report_post_reasons&#039;, $reasons );

		return array_combine( $reasons, $reasons );
	}

	public static function filter_admin_email_settings( $settings ) {
		if ( $merge_settings = self::admin_email_settings() ) {
			$position = count( $settings );
			$settings = array_merge( array_slice( $settings, 0, $position ), $merge_settings, array_slice( $settings, $position ) );
		}

		return $settings;
	}

	public static function admin_email_settings() {
		$settings = array(
			array(
				&#039;type&#039; =&gt; &#039;title&#039;,
				&#039;id&#039; =&gt; &#039;email_admin_report_post_settings&#039;,
				&#039;name&#039; =&gt; __( &#039;Post reported by user&#039;, &#039;geodirectory&#039; ),
				&#039;desc&#039; =&gt; &#039;&#039;,
			),
			array(
				&#039;type&#039; =&gt; &#039;checkbox&#039;,
				&#039;id&#039; =&gt; &#039;email_admin_report_post&#039;,
				&#039;name&#039; =&gt; __( &#039;Enable email&#039;, &#039;geodirectory&#039; ),
				&#039;desc&#039; =&gt; __( &#039;Send an email to admin after post reported by user.&#039;, &#039;geodirectory&#039; ),
				&#039;default&#039; =&gt; 1,
			),
			array(
				&#039;type&#039; =&gt; &#039;text&#039;,
				&#039;id&#039; =&gt; &#039;email_admin_report_post_subject&#039;,
				&#039;name&#039; =&gt; __( &#039;Subject&#039;, &#039;geodirectory&#039; ),
				&#039;desc&#039; =&gt; __( &#039;The email subject.&#039;, &#039;geodirectory&#039; ),
				&#039;class&#039; =&gt; &#039;active-placeholder&#039;,
				&#039;desc_tip&#039; =&gt; true,
				&#039;placeholder&#039; =&gt; GeoDir_Defaults::email_admin_report_post_subject(),
				&#039;advanced&#039; =&gt; true
			),
			array(
				&#039;type&#039; =&gt; &#039;textarea&#039;,
				&#039;id&#039; =&gt; &#039;email_admin_report_post_body&#039;,
				&#039;name&#039; =&gt; __( &#039;Body&#039;, &#039;geodirectory&#039; ),
				&#039;desc&#039; =&gt; __( &#039;The email body, this can be text or HTML.&#039;, &#039;geodirectory&#039; ),
				&#039;class&#039; =&gt; &#039;code gd-email-body&#039;,
				&#039;desc_tip&#039; =&gt; true,
				&#039;advanced&#039; =&gt; true,
				&#039;placeholder&#039; =&gt; GeoDir_Defaults::email_admin_report_post_body(),
				&#039;custom_desc&#039; =&gt; __( &#039;Available template tags:&#039;, &#039;geodirectory&#039; ) . &#039; &#039; . self::admin_report_post_email_tags()
			),
			array(
				&#039;type&#039; =&gt; &#039;sectionend&#039;,
				&#039;id&#039; =&gt; &#039;email_admin_report_post_settings&#039;
			)
		);

		return $settings;
	}

	public static function admin_report_post_email_tags( $inline = true ) { 
		$tags = array( &#039;[#blogname#]&#039;, &#039;[#site_name#]&#039;, &#039;[#site_url#]&#039;, &#039;[#site_name_url#]&#039;, &#039;[#login_url#]&#039;, &#039;[#login_link#]&#039;, &#039;[#date#]&#039;, &#039;[#time#]&#039;, &#039;[#date_time#]&#039;, &#039;[#current_date#]&#039;, &#039;[#to_name#]&#039;, &#039;[#to_email#]&#039;, &#039;[#from_name#]&#039;, &#039;[#from_email#]&#039;, &#039;[#post_id#]&#039;, &#039;[#post_status#]&#039;, &#039;[#post_date#]&#039;, &#039;[#post_author_ID#]&#039;, &#039;[#post_author_name#]&#039;, &#039;[#client_name#]&#039;, &#039;[#listing_title#]&#039;, &#039;[#listing_url#]&#039;, &#039;[#listing_link#]&#039;, &#039;[#report_id#]&#039;, &#039;[#report_post_user_name#]&#039;, &#039;[#report_post_user_email#]&#039;, &#039;[#report_post_user_ip#]&#039;, &#039;[#report_post_date#]&#039;, &#039;[#report_post_reason#]&#039;, &#039;[#report_post_message#]&#039;, &#039;[#report_post_section_link#]&#039; );

		$tags = apply_filters( &#039;geodir_email_admin_report_post_email_tags&#039;, $tags );

		if ( $inline ) {
			$tags = &#039;&lt;code&gt;&#039; . implode( &#039;&lt;/code&gt; &lt;code&gt;&#039;, $tags ) . &#039;&lt;/code&gt;&#039;;
		}

		return $tags;
	}

	public static function on_report_post_created( $report_id, $item, $data ) {
		$post = geodir_get_post_info( (int) $item-&gt;post_id );
		if ( empty( $post ) ) {
			return;
		}

		$email_name = &#039;admin_report_post&#039;;

		if ( ! GeoDir_Email::is_email_enabled( $email_name ) ) {
			return false;
		}

		$recipient = GeoDir_Email::get_admin_email();

		if ( empty( $post ) || ! is_email( $recipient ) ) {
			return;
		}

		$email_vars = array(
			&#039;post&#039; =&gt; $post,
			&#039;to_email&#039; =&gt; $recipient,
			&#039;report_id&#039; =&gt; $item-&gt;id,
			&#039;report_post_user_id&#039; =&gt; ! empty( $item-&gt;user_id ) ? $item-&gt;user_id : __( &#039;n/a&#039;, &#039;geodirectory&#039; ),
			&#039;report_post_user_name&#039; =&gt; $item-&gt;user_name,
			&#039;report_post_user_email&#039; =&gt; $item-&gt;user_email,
			&#039;report_post_user_ip&#039; =&gt; $item-&gt;user_ip,
			&#039;report_post_date&#039; =&gt; date_i18n( geodir_date_time_format(), strtotime( $item-&gt;report_date ) ),
			&#039;report_post_reason&#039; =&gt; $item-&gt;reason,
			&#039;report_post_message&#039; =&gt; ! empty( $item-&gt;message ) ? $item-&gt;message : __( &#039;n/a&#039;, &#039;geodirectory&#039; ),
			&#039;report_post_section_link&#039; =&gt; admin_url( &#039;admin.php?page=gd-settings&#039; )
		);

		do_action( &#039;geodir_pre_&#039; . $email_name . &#039;_email&#039;, $email_name, $email_vars );

		$subject      = GeoDir_Email::get_subject( $email_name, $email_vars );
		$message_body = GeoDir_Email::get_content( $email_name, $email_vars );
		$headers      = GeoDir_Email::get_headers( $email_name, $email_vars );
		$attachments  = GeoDir_Email::get_attachments( $email_name, $email_vars );

		$plain_text = GeoDir_Email::get_email_type() != &#039;html&#039; ? true : false;
		$template   = $plain_text ? &#039;emails/plain/geodir-email-&#039; . $email_name . &#039;.php&#039; : &#039;emails/geodir-email-&#039; . $email_name . &#039;.php&#039;;

		$content = geodir_get_template_html( $template, array(
			&#039;email_name&#039;    =&gt; $email_name,
			&#039;email_vars&#039;    =&gt; $email_vars,
			&#039;email_heading&#039;	=&gt; &#039;&#039;,
			&#039;sent_to_admin&#039; =&gt; true,
			&#039;plain_text&#039;    =&gt; $plain_text,
			&#039;message_body&#039;  =&gt; $message_body,
		) );

		$sent = GeoDir_Email::send( $recipient, $subject, $content, $headers, $attachments );

		do_action( &#039;geodir_post_&#039; . $email_name . &#039;_email&#039;, $email_vars );
	}

	public static function get_form( $gd_post, $inline = false ) {
		if ( empty( $gd_post ) ) {
			return false;
		}

		$content = apply_filters( &#039;geodir_report_post_pre_get_form&#039;, NULL, $gd_post, $inline );
		if ( $content ) {
			return $content;
		}

		$user_name = &#039;&#039;;
		$user_email = &#039;&#039;;
		if ( $user_id = (int) get_current_user_id() ) {
			$user_name = geodir_get_client_name( $user_id );
			$userdata = get_userdata( $user_id );

			if ( ! empty( $userdata-&gt;user_email ) ) {
				$user_email = $userdata-&gt;user_email;
			}
		}

		$design_style = geodir_design_style();

		$template = $design_style ? $design_style . &#039;/report-post-form.php&#039; : &#039;report-post-form.php&#039;;

		$params = array(
			&#039;post&#039; =&gt; $gd_post,
			&#039;user_name&#039; =&gt; $user_name,
			&#039;user_email&#039; =&gt; $user_email,
			&#039;inline&#039; =&gt; $inline,
			&#039;post_type_name&#039; =&gt; geodir_post_type_singular_name( $gd_post-&gt;post_type, true )
		);
		$params = apply_filters( &#039;geodir_report_post_form_template_params&#039;, $params, $gd_post );

		$content = geodir_get_template_html( $template, $params );

		return $content;
	}

	public static function handle_request( $request ) {
		$response = GeoDir_Report_Post::process_request( $request );

		if ( is_wp_error( $response ) ) {
			$message = aui()-&gt;alert(
				array(
					&#039;type&#039;=&gt; &#039;warning&#039;,
					&#039;content&#039;=&gt; $response-&gt;get_error_message(),
					&#039;class&#039; =&gt; &#039;geodir-report-post-msg mb-3 text-left&#039;
				)
			);
			wp_send_json_error( array( &#039;message&#039; =&gt; $message ) );
		} else {
			if ( ! empty( $response[&#039;message&#039;] ) ) {
				$response[&#039;message&#039;] = aui()-&gt;alert(
					array(
						&#039;type&#039;=&gt; &#039;success&#039;,
						&#039;content&#039;=&gt; $response[&#039;message&#039;],
						&#039;class&#039; =&gt; &#039;geodir-report-post-msg m-3 text-left&#039;
					)
				);
			}

			wp_send_json_success( $response );
		}
	}

	public static function process_request( $request ) {
		global $wpdb;

		$gd_post = ! empty( $request[&#039;post_id&#039;] ) ? geodir_get_post_info( absint( $request[&#039;post_id&#039;] ) ) : array();

		if ( empty( $gd_post ) ) {
			return new WP_Error( &#039;invalid_post&#039;, __( &#039;Invalid post.&#039;, &#039;geodirectory&#039; ) );
		}

		if ( ! apply_filters( &#039;geodir_allow_report_post&#039;, true, $gd_post ) ) {
			return new WP_Error( &#039;invalid_access&#039;, __( &#039;You can\&#039; report this post.&#039;, &#039;geodirectory&#039; ) );
		}

		$request[&#039;user_id&#039;] = (int) get_current_user_id();

		if ( $request[&#039;user_id&#039;] ) {
			$request[&#039;geodir_name&#039;] = geodir_get_client_name( $request[&#039;user_id&#039;] );
			$userdata = get_userdata( $request[&#039;user_id&#039;] );

			if ( ! empty( $userdata-&gt;user_email ) ) {
				$request[&#039;geodir_email&#039;] = $userdata-&gt;user_email;
			}
		}

		// Sanitize data
		$data = self::sanitize_data( $request, $gd_post );

		$data[&#039;post_id&#039;] = absint( $gd_post-&gt;ID );
		$data[&#039;user_ip&#039;] = sanitize_text_field( geodir_get_ip() );
		$data[&#039;report_date&#039;] = date_i18n( &#039;Y-m-d H:i:s&#039; );

		// Pre validation
		$data = self::validate_data( $data, $request, $gd_post );

		if ( is_wp_error( $data ) ) {
			return $data;
		}

		$report_id = self::save( $data, true );

		if ( is_wp_error( $report_id ) ) {
			return $report_id;
		}

		if ( ! $report_id ) {
			return new WP_Error( &#039;report_post_error&#039;, __( &#039;Something went wrong in saving report post item.&#039;, &#039;geodirectory&#039; ) );
		}

		$response = array( &#039;id&#039; =&gt; (int) $report_id,&#039;message&#039; =&gt; wp_sprintf( __( &#039;%s has been reported successfully.&#039;, &#039;geodirectory&#039; ), geodir_post_type_singular_name( $gd_post-&gt;post_type, true ) ) );

		return apply_filters( &#039;geodir_report_post_response&#039;, $response, $gd_post, $request );
	}

	public static function sanitize_data( $request, $gd_post ) {
		$data = array();
		if ( isset( $request[&#039;user_id&#039;] ) ) {
			$data[&#039;user_id&#039;] = absint( $request[&#039;user_id&#039;] );
		}

		if ( isset( $request[&#039;geodir_name&#039;] ) ) {
			$data[&#039;user_name&#039;] = sanitize_text_field( wp_unslash( $request[&#039;geodir_name&#039;] ) );
		}

		if ( isset( $request[&#039;geodir_email&#039;] ) ) {
			$data[&#039;user_email&#039;] = sanitize_email( $request[&#039;geodir_email&#039;] );
		}

		if ( isset( $request[&#039;geodir_reason&#039;] ) ) {
			$data[&#039;reason&#039;] = sanitize_text_field( wp_unslash( $request[&#039;geodir_reason&#039;] ) );
		}

		if ( isset( $request[&#039;geodir_message&#039;] ) ) {
			$data[&#039;message&#039;] = sanitize_textarea_field( wp_unslash( $request[&#039;geodir_message&#039;] ) );
		}

		return apply_filters( &#039;geodir_report_post_sanitize_data&#039;, $data, $request, $gd_post );
	}

	public static function validate_data( $data, $request, $gd_post ) {
		if ( ! is_wp_error( $data ) ) {
			if ( empty( $data[&#039;user_name&#039;] ) ) {
				return new WP_Error( &#039;report_post_validatation_error&#039;, __( &#039;A valid full name is required.&#039;, &#039;geodirectory&#039; ) );
			}

			if ( ! ( ! empty( $data[&#039;user_email&#039;] ) &amp;&amp; is_email( $data[&#039;user_email&#039;] ) ) ) {
				return new WP_Error( &#039;report_post_validatation_error&#039;, __( &#039;A valid email address is required.&#039;, &#039;geodirectory&#039; ) );
			}

			if ( empty( $data[&#039;reason&#039;] ) ) {
				return new WP_Error( &#039;report_post_validatation_error&#039;, __( &#039;Select reason for reporting the item.&#039;, &#039;geodirectory&#039; ) );
			}

			if ( ! empty( $data[&#039;user_email&#039;] ) &amp;&amp; self::get_item_by( array( &#039;post_id&#039; =&gt; $gd_post-&gt;ID, &#039;user_email&#039; =&gt; $data[&#039;user_email&#039;], &#039;status&#039; =&gt; &#039;&#039; ) ) ) {
				return new WP_Error( &#039;report_post_validatation_error&#039;, __( &#039;You have already reported this item before.&#039;, &#039;geodirectory&#039; ) );
			}
		}

		return apply_filters( &#039;geodir_report_post_validate_data&#039;, $data, $request, $gd_post );
	}

	public static function has_reported( $request, $post_id ) {
		return apply_filters( &#039;geodir_user_has_reported&#039;, $data, $request, $gd_post );
	}

	public static function save( $data, $wp_error = false ) {
		global $wpdb;

		$update = false;
		$item = array();
		if ( ! empty( $data[&#039;id&#039;] ) ) {
			$item = self::get_item( (int) $data[&#039;id&#039;] );

			if ( empty( $item ) ) {
				if ( $wp_error ) {
					return new WP_Error( &#039;report_post_error&#039;, __( &#039;Could not find report post item.&#039;, &#039;geodirectory&#039; ) );
				} else {
					return 0;
				}
			}

			$update = true;
		}

		if ( $update ) {
			$report_id = $data[&#039;id&#039;];

			$data = apply_filters( &#039;geodir_report_post_update_data&#039;, $data, $item );

			if ( false === $wpdb-&gt;update( GEODIR_POST_REPORTS_TABLE, $data, array( &#039;id&#039; =&gt; $report_id ) ) ) {
				if ( $wp_error ) {
					return new WP_Error( &#039;db_update_error&#039;, __( &#039;Could not save report post item.&#039;, &#039;geodirectory&#039; ), $wpdb-&gt;last_error );
				} else {
					return 0;
				}
			}

			$item_after = self::get_item( (int) $report_id );

			do_action( &#039;geodir_report_post_updated&#039;, $report_id, $item_after, $item, $data );
		} else {
			if ( isset( $data[&#039;id&#039;] ) ) {
				unset( $data[&#039;id&#039;] );
			}

			$data = apply_filters( &#039;geodir_report_post_insert_data&#039;, $data );

			if ( false === $wpdb-&gt;insert( GEODIR_POST_REPORTS_TABLE, $data ) ) {
				if ( $wp_error ) {
					return new WP_Error( &#039;db_insert_error&#039;, __( &#039;Could not save report post.&#039;, &#039;geodirectory&#039; ), $wpdb-&gt;last_error );
				} else {
					return 0;
				}
			}

			$report_id = (int) $wpdb-&gt;insert_id;

			$item_after = self::get_item( $report_id );

			do_action( &#039;geodir_report_post_created&#039;, $report_id, $item_after, $data );
		}

		wp_cache_delete( &quot;geodir-post-report-0&quot;, &#039;counts&#039; );
		if ( ! empty( $item_after ) ) {
			wp_cache_delete( &quot;geodir-post-report-&quot; . $item_after-&gt;post_id, &#039;counts&#039; );
		}

		do_action( &#039;geodir_report_post_saved&#039;, $report_id, $data, $item_after, $update );

		return $report_id;
	}

	public static function get_item( $id ) {
		global $wpdb;

		$item = $wpdb-&gt;get_row( $wpdb-&gt;prepare( &quot;SELECT * FROM &quot; . GEODIR_POST_REPORTS_TABLE . &quot; WHERE id = %d LIMIT 1&quot;, array( $id ) ) );

		return $item;
	}

	public static function get_item_by( $params ) {
		global $wpdb;

		if ( empty( $params ) ) {
			return array();
		}

		$where = array();
		$args = array();

		foreach ( $params as $field =&gt; $value ) {
			if ( in_array( $field, array( &#039;post_id&#039;, &#039;user_id&#039; ) ) ) {
				$where[] = $field . &#039; = %d&#039;;
				$args[] = $value;
			} elseif ( in_array( $field, array( &#039;user_ip&#039;, &#039;user_name&#039;, &#039;user_email&#039;, &#039;status&#039; ) ) ) {
				$where[] = $field . &#039; = %s&#039;;
				$args[] = $value;
			}
		}

		if ( empty( $where ) ) {
			return array();
		}

		$item = $wpdb-&gt;get_row( $wpdb-&gt;prepare( &quot;SELECT * FROM &quot; . GEODIR_POST_REPORTS_TABLE . &quot; WHERE &quot; . implode( &#039; AND &#039;, $where ) . &quot; LIMIT 1&quot;, $args ) );

		return $item;
	}

	public static function get_counts( $post_id = 0 ) {
		global $wpdb;

		$post_id = (int) $post_id;

		$count = wp_cache_get( &quot;geodir-post-report-{$post_id}&quot;, &#039;counts&#039; );
		if ( false !== $count ) {
			return $count;
		}

		$where = &#039;&#039;;
		if ( $post_id &gt; 0 ) {
			$where = $wpdb-&gt;prepare( &#039;WHERE post_id = %d&#039;, $post_id );
		}

		$totals = (array) $wpdb-&gt;get_results( &quot;SELECT status, COUNT( * ) AS total FROM &quot; . GEODIR_POST_REPORTS_TABLE . &quot; {$where} GROUP BY status&quot;, ARRAY_A );

		$report_count = array(
			&#039;resolved&#039; =&gt; 0,
			&#039;pending&#039;  =&gt; 0,
			&#039;rejected&#039; =&gt; 0,
			&#039;total&#039; =&gt; 0,
			&#039;all&#039; =&gt; 0,
		);

		foreach ( $totals as $row ) {
			switch ( $row[&#039;status&#039;] ) {
				case &#039;resolved&#039;:
					$report_count[&#039;resolved&#039;] = $row[&#039;total&#039;];
					break;
				case &#039;rejected&#039;:
					$report_count[&#039;rejected&#039;] = $row[&#039;total&#039;];
					break;
				default:
					$report_count[&#039;pending&#039;] = $row[&#039;total&#039;];
					break;
			}

			$report_count[&#039;total&#039;] += $row[&#039;total&#039;];
			$report_count[&#039;all&#039;] += $row[&#039;total&#039;];
		}

		$stats = $report_count;

		$stats_object = (object) $stats;

		wp_cache_set( &quot;geodir-post-report-{$post_id}&quot;, $stats_object, &#039;counts&#039; );

		return $stats_object;
	}

	public static function set_status( $status, $id ) {
		global $wpdb;

		$item = self::get_item( (int) $id );

		if ( empty( $item ) ) {
			return false;
		}

		if ( $item-&gt;status === $status ) {
			return false;
		}

		$result = $wpdb-&gt;update( GEODIR_POST_REPORTS_TABLE, array( &#039;status&#039; =&gt; $status, &#039;updated_date&#039; =&gt; date_i18n( &#039;Y-m-d H:i:s&#039; ) ), array( &#039;id&#039; =&gt; $id ) );

		if ( ! $result ) {
			return false;
		}

		self::delete_cache( $item-&gt;post_id );

		do_action( &#039;geodir_report_post_set_status&#039;, $status, $id, $item );

		return true;
	}

	public static function delete( $id ) {
		global $wpdb;

		$item = self::get_item( (int) $id );

		if ( empty( $item ) ) {
			return false;
		}

		$result = $wpdb-&gt;delete( GEODIR_POST_REPORTS_TABLE, array( &#039;id&#039; =&gt; $id ) );

		if ( ! $result ) {
			return false;
		}

		self::delete_cache( $item-&gt;post_id );

		do_action( &#039;geodir_report_post_item_deleted&#039;, $id, $item );

		return true;
	}

	public static function set_post_status( $post_status, $id ) {
		$item = self::get_item( (int) $id );

		if ( empty( $item-&gt;post_id ) ) {
			return false;
		}

		$gd_post = geodir_get_post_info( $item-&gt;post_id );
		if ( empty( $gd_post ) ) {
			return false;
		}

		if ( $gd_post-&gt;post_status === $post_status ) {
			return false;
		}

		$post_data = array();
		$post_data[&#039;ID&#039;] = $gd_post-&gt;ID;
		$post_data[&#039;post_status&#039;] = $post_status;

		$post_data = apply_filters( &#039;geodir_repost_post_set_post_status_data&#039;, $post_data, $gd_post, $post_status, $item );

		$result = wp_update_post( $post_data );

		do_action( &#039;geodir_repost_post_after_set_post_status&#039;, $gd_post, $post_status, $item );

		if ( ! $result ) {
			return false;
		}

		// Mark as resolved.
		self::set_status( &#039;resolved&#039;, $item-&gt;id );

		self::delete_cache( $item-&gt;post_id );

		do_action( &#039;geodir_repost_post_set_post_status&#039;, $post_status, $item, $gd_post );

		return true;
	}

	public static function delete_post( $id, $force = false ) {
		$item = self::get_item( (int) $id );

		if ( empty( $item-&gt;post_id ) ) {
			return false;
		}

		$gd_post = geodir_get_post_info( $item-&gt;post_id );
		if ( empty( $gd_post ) ) {
			return false;
		}

		do_action( &#039;geodir_repost_post_before_delete_post&#039;, $gd_post, $item, $force );

		if ( $force ) {
			$result = wp_delete_post( $gd_post-&gt;ID, true );
		} else {
			$result = wp_trash_post( $gd_post-&gt;ID );
		}

		if ( ! $result ) {
			return false;
		}

		if ( $force ) {
			// Delete
			self::delete( $item-&gt;id );
		} else {
			// Mark as resolved.
			self::set_status( &#039;resolved&#039;, $item-&gt;id );
		}

		self::delete_cache( $gd_post-&gt;ID );

		do_action( &#039;geodir_repost_post_after_delete_post&#039;, $gd_post, $item, $force );

		return true;
	}

	public static function delete_cache( $post_id = 0 ) {
		wp_cache_delete( &quot;geodir-post-report-0&quot;, &#039;counts&#039; );

		if ( $post_id ) {
			wp_cache_delete( &quot;geodir-post-report-&quot; . (int) $post_id, &#039;counts&#039; );
		}
	}
}
</code></pre>
            </article>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <footer class="phpdocumentor phpdocumentor-footer">
    <div class="phpdocumentor-section">
        <span>Geodirectory Code Reference API documentation generated by <a href="http://www.phpdoc.org/">phpDocumentor</a> on May 12th, 2022 at 06:35 am.</span>
    </div>
</footer>

    <script>
        cssVars({});
    </script>
    <script>
        var searchParams = {
            'searchIndex': '..\/js\/searchIndex.json'
        };
    </script>
    <script src="../js/searchIndex.js?updated=1652337338"></script>
    <script src="../js/search.js?updated=1652337338"></script>
</body>
</html>
