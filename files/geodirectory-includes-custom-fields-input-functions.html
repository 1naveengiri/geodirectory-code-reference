<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Geodirectory Code Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.png" />
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/base.css?updated=1652337338">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/template.css?updated=1652337338">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
            <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/js/all.min.js" integrity="sha256-0vuk8LXoyrmCjp1f0O300qo1M75ZQyhH9X3J6d+scmk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@7.2.0/dist/js/autoComplete.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8KCYZ2CYMS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8KCYZ2CYMS', {
		'content_group' : 'WooCommerce Core Code Reference',
	});
</script>
        <script src="../js/prism.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            window.dispatchEvent(new HashChangeEvent('hashchange'));
        });
    </script>
</head>
<body id="top">
    <header class="phpdocumentor-top-header">
    <section class="phpdocumentor-section">
        <div class="site-branding">
            <a class="site-logo" href="../index.html"><img width="180" src="../images/logo.png" alt="WPGeodirectory" /></a>
        </div>
        <nav class="main-navigation">
            <ul>
                <li><a href="../hooks/hooks.html">Hooks Reference</a></li>
                <li><a href="https://docs.woocommerce.com/">Documentation</a></li>
                <li><a href="https://woocommerce.github.io/woocommerce-rest-api-docs/">REST API Docs</a></li>
                <li><a href="https://woocommerce.com/careers/?utm_source=woocommerce+core+code+reference&utm_medium=devdocs&utm_campaign=woo+careers" target="_blank">We're hiring!</a></li>
            </ul>
        </nav>
    </section>
</header>

<div class="phpdocumentor-header">
    <section class="phpdocumentor-section">
        <h1 class="phpdocumentor-title">Geodirectory Code Reference</h1>
        <section class="phpdocumentor-search">
    <label class="phpdocumentor-label">
        <span class="visually-hidden">Search (click ESC to close search results)</span>
        <input id="autoComplete" tabindex="1" type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading..." disabled />
    </label>
</section>

    </section>
</div>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <aside class="phpdocumentor-column -four phpdocumentor-sidebar">
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                <h3 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/default.html"><abbr title="\">Global</abbr></a></h3>
                                        <h4 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/elementorpro.html"><abbr title="\ElementorPro">ElementorPro</abbr></a></h4>
                <ul class="phpdocumentor-list">
                                            <li><a href="../namespaces/elementorpro-modules.html"><abbr title="\ElementorPro\Modules">Modules</abbr></a></li>
                                    </ul>
                        </section>

        <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                    <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/Geodirectory.html"><abbr title="\Geodirectory">Geodirectory</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectory.html"><abbr title="\GeoDirectory">GeoDirectory</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/GeoDirectory-Templates.html"><abbr title="\GeoDirectory\Templates">Templates</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAbstracts.html"><abbr title="\GeoDirectoryAbstracts">GeoDirectoryAbstracts</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAPI.html"><abbr title="\GeoDirectoryAPI">GeoDirectoryAPI</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClasses.html"><abbr title="\GeoDirectoryClasses">GeoDirectoryClasses</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminFunctions.html"><abbr title="\GeoDirectoryAdminFunctions">GeoDirectoryAdminFunctions</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoruAdmin.html"><abbr title="\GeoDirectoruAdmin">GeoDirectoruAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdmin.html"><abbr title="\GeoDirectoryAdmin">GeoDirectoryAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirAdmin.html"><abbr title="\GeoDirAdmin">GeoDirAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectroyAdmin.html"><abbr title="\GeoDirectroyAdmin">GeoDirectroyAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminSystemStatus.html"><abbr title="\GeoDirectoryAdminSystemStatus">GeoDirectoryAdminSystemStatus</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminTools.html"><abbr title="\GeoDirectoryAdminTools">GeoDirectoryAdminTools</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminWidgets.html"><abbr title="\GeoDirectoryAdminWidgets">GeoDirectoryAdminWidgets</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClassesEmails.html"><abbr title="\GeoDirectoryClassesEmails">GeoDirectoryClassesEmails</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClassesData.html"><abbr title="\GeoDirectoryClassesData">GeoDirectoryClassesData</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDIrectoryClassesData.html"><abbr title="\GeoDIrectoryClassesData">GeoDIrectoryClassesData</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/ElementorPro.html"><abbr title="\ElementorPro">ElementorPro</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/ElementorPro-Modules.html"><abbr title="\ElementorPro\Modules">Modules</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryFunctions.html"><abbr title="\GeoDirectoryFunctions">GeoDirectoryFunctions</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryparamarraytermsAnarrayoftermobjects.html"><abbr title="\GeoDirectoryparamarraytermsAnarrayoftermobjects">GeoDirectoryparamarraytermsAnarrayoftermobjects</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WP.html"><abbr title="\WP">WP</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/WP-Background.html"><abbr title="\WP\Background">Background</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryTemplates.html"><abbr title="\GeoDirectoryTemplates">GeoDirectoryTemplates</abbr></a></h3>
                        </section>
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../indices/files.html">Files</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../hooks/hooks.html">Hooks Reference</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <ul class="phpdocumentor-breadcrumbs">
    </ul>

    <article class="phpdocumentor-element -file">
        <h2 class="phpdocumentor-content__title">input-functions.php</h2>

                

            <section class="phpdocumentor-functions">
        <h3 class="phpdocumentor-elements__header" id="functions">
            Functions
            <a href="#functions" class="headerlink"><i class="fas fa-link"></i></a>
        </h3>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_fieldset">
        geodir_cfi_fieldset()
        <a href="#function_geodir_cfi_fieldset" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.20">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">20</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: fieldset</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_fieldset</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_text">
        geodir_cfi_text()
        <a href="#function_geodir_cfi_text" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.65">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">65</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: text</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_text</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_email">
        geodir_cfi_email()
        <a href="#function_geodir_cfi_email" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.154">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">154</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: email</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_email</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_phone">
        geodir_cfi_phone()
        <a href="#function_geodir_cfi_phone" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.226">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">226</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: phone</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_phone</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_url">
        geodir_cfi_url()
        <a href="#function_geodir_cfi_url" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.298">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">298</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: url</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_url</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_radio">
        geodir_cfi_radio()
        <a href="#function_geodir_cfi_radio" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.372">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">372</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: radio</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_radio</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_checkbox">
        geodir_cfi_checkbox()
        <a href="#function_geodir_cfi_checkbox" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.441">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">441</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: checkbox</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_checkbox</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_textarea">
        geodir_cfi_textarea()
        <a href="#function_geodir_cfi_textarea" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.520">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">520</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: textarea</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_textarea</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_select">
        geodir_cfi_select()
        <a href="#function_geodir_cfi_select" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.600">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">600</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: select</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_select</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_multiselect">
        geodir_cfi_multiselect()
        <a href="#function_geodir_cfi_multiselect" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.685">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">685</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: multiselect</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_multiselect</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_html">
        geodir_cfi_html()
        <a href="#function_geodir_cfi_html" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.808">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">808</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: html</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_html</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_datepicker">
        geodir_cfi_datepicker()
        <a href="#function_geodir_cfi_datepicker" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.871">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">871</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: datepicker</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_datepicker</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_time">
        geodir_cfi_time()
        <a href="#function_geodir_cfi_time" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.991">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">991</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: time</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_time</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_address">
        geodir_cfi_address()
        <a href="#function_geodir_cfi_address" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.1065">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1065</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: address</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_address</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">global</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <section class="phpdocumentor-description"><p>null|int $mapzoom Map zoom level.</p>
</section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_taxonomy">
        geodir_cfi_taxonomy()
        <a href="#function_geodir_cfi_taxonomy" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.1346">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1346</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: taxonomy</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_taxonomy</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_categories">
        geodir_cfi_categories()
        <a href="#function_geodir_cfi_categories" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.1488">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1488</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: taxonomy</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_categories</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_tags">
        geodir_cfi_tags()
        <a href="#function_geodir_cfi_tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.1628">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1628</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: tags</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_tags</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_business_hours">
        geodir_cfi_business_hours()
        <a href="#function_geodir_cfi_business_hours" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.1769">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1769</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: business_hours</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_business_hours</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_files">
        geodir_cfi_files()
        <a href="#function_geodir_cfi_files" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions.php"><a href="../files/geodirectory-includes-custom-fields-input-functions.html#source-view.1889">geodirectory/includes/custom-fields/input-functions.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1889</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: images</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_files</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
            </section>

                    <h3 class="phpdocumentor-elements__header" id="source-code">
                Source code
                <a href="#source-code" class="headerlink"><i class="fas fa-link"></i></a>
            </h3>
            <pre id="source-view" tabindex="-1" class="language-php line-numbers linkable-line-numbers"><code>&lt;?php
/**
 * Custom fields input functions
 *
 * @since 1.6.6
 * @package GeoDirectory
 */



/**
 * Get the html input for the custom field: fieldset
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_fieldset($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_fieldset_{$html_var}&quot;)){
        /**
         * Filter the fieldset html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_fieldset_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        ?&gt;
        &lt;h5 id=&quot;geodir_fieldset_&lt;?php echo (int) $cf[&#039;id&#039;]; ?&gt;&quot; class=&quot;geodir-fieldset-row&quot;
            gd-fieldset=&quot;&lt;?php echo (int) $cf[&#039;id&#039;]; ?&gt;&quot;&gt;&lt;?php echo __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; ); ?&gt;
            &lt;?php if ( $cf[&#039;desc&#039;] != &#039;&#039; ) {
                echo &#039;&lt;small&gt;( &#039; . __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; ) . &#039; )&lt;/small&gt;&#039;;
            } ?&gt;&lt;/h5&gt;
        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_fieldset&#039;,&#039;geodir_cfi_fieldset&#039;,10,2);



/**
 * Get the html input for the custom field: text
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_text($html,$cf){

    // don&#039;t show title in admin
    if(is_admin() &amp;&amp; isset($cf[&#039;htmlvar_name&#039;]) &amp;&amp; $cf[&#039;htmlvar_name&#039;]==&#039;post_title&#039;){return &#039;&#039;;}

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_text_{$html_var}&quot;)){
        /**
         * Filter the text html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_text_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;

        $value = geodir_get_cf_value($cf);
        $type = $cf[&#039;type&#039;];
        $fix_html5_decimals = &#039;&#039;;
        //number and float validation $validation_pattern
        if(isset($cf[&#039;data_type&#039;]) &amp;&amp; $cf[&#039;data_type&#039;]==&#039;INT&#039;){$type = &#039;number&#039;; $fix_html5_decimals =&#039; lang=&quot;EN&quot; &#039;;}
        elseif(isset($cf[&#039;data_type&#039;]) &amp;&amp; $cf[&#039;data_type&#039;]==&#039;FLOAT&#039;){$type = &#039;float&#039;;$fix_html5_decimals =&#039; lang=&quot;EN&quot; &#039;;}

        //validation
        if(isset($cf[&#039;validation_pattern&#039;]) &amp;&amp; $cf[&#039;validation_pattern&#039;]){
            $validation = &#039; pattern=&quot;&#039;.$cf[&#039;validation_pattern&#039;].&#039;&quot; &#039;;
        }else{$validation=&#039;&#039;;}

        // validation message
        if(isset($cf[&#039;validation_msg&#039;]) &amp;&amp; $cf[&#039;validation_msg&#039;]){
            $validation_msg = &#039;title=&quot;&#039;.$cf[&#039;validation_msg&#039;].&#039;&quot;&#039;;
        }else{$validation_msg=&#039;&#039;;}

        $frontend_title = __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
        if ( $cf[&#039;name&#039;] == &#039;service_distance&#039; ) {
            $type = &#039;number&#039;;
            $fix_html5_decimals =&#039; lang=&quot;EN&quot; &#039;;

            if ( geodir_get_option( &#039;search_distance_long&#039; ) == &#039;km&#039; ) {
                $frontend_title .= &#039; &#039; . __( &#039;(km)&#039;, &#039;geodirectory&#039;);
            } else {
                $frontend_title .= &#039; &#039; . __( &#039;(miles)&#039;, &#039;geodirectory&#039;);
            }
        }
        ?&gt;

        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;input field_type=&quot;&lt;?php echo $type;?&gt;&quot; name=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;
                   &lt;?php echo $fix_html5_decimals;
                   if(!empty($cf[&#039;placeholder_value&#039;])){ echo &#039;placeholder=&quot;&#039;.esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;).&#039;&quot;&#039;; }
                   ?&gt;
                   value=&quot;&lt;?php echo esc_attr(stripslashes($value));?&gt;&quot; type=&quot;&lt;?php echo $type;?&gt;&quot; class=&quot;geodir_textfield&quot; &lt;?php echo $validation;echo $validation_msg;?&gt; /&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_text&#039;,&#039;geodir_cfi_text&#039;,10,2);


/**
 * Get the html input for the custom field: email
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_email($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_email_{$html_var}&quot;)){
        /**
         * Filter the email html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_email_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        if ($value == $cf[&#039;default&#039;]) {
            $value = &#039;&#039;;
        }

        //validation
        if(isset($cf[&#039;validation_pattern&#039;]) &amp;&amp; $cf[&#039;validation_pattern&#039;]){
            $validation = &#039; pattern=&quot;&#039;.$cf[&#039;validation_pattern&#039;].&#039;&quot; &#039;;
        }else{$validation=&#039;&#039;;}

        // validation message
        if(isset($cf[&#039;validation_msg&#039;]) &amp;&amp; $cf[&#039;validation_msg&#039;]){
            $validation_msg = &#039;title=&quot;&#039;.$cf[&#039;validation_msg&#039;].&#039;&quot;&#039;;
        }else{$validation_msg=&#039;&#039;;}
        ?&gt;

        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;input field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; name=&quot;&lt;?php  echo $cf[&#039;name&#039;];?&gt;&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;
                   &lt;?php if(!empty($cf[&#039;placeholder_value&#039;])){ echo &#039;placeholder=&quot;&#039;.esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;).&#039;&quot;&#039;; } ?&gt;
                   value=&quot;&lt;?php echo esc_attr(stripslashes($value));?&gt;&quot; type=&quot;email&quot; class=&quot;geodir_textfield&quot; &lt;?php echo $validation;echo $validation_msg;?&gt; /&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_email&#039;,&#039;geodir_cfi_email&#039;,10,2);



/**
 * Get the html input for the custom field: phone
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_phone($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_phone_{$html_var}&quot;)){
        /**
         * Filter the phone html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_phone_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        if ($value == $cf[&#039;default&#039;]) {
            $value = &#039;&#039;;
        }

        //validation
        if(isset($cf[&#039;validation_pattern&#039;]) &amp;&amp; $cf[&#039;validation_pattern&#039;]){
            $validation = &#039; pattern=&quot;&#039;.$cf[&#039;validation_pattern&#039;].&#039;&quot; &#039;;
        }else{$validation=&#039;&#039;;}

        // validation message
        if(isset($cf[&#039;validation_msg&#039;]) &amp;&amp; $cf[&#039;validation_msg&#039;]){
            $validation_msg = &#039;title=&quot;&#039;.$cf[&#039;validation_msg&#039;].&#039;&quot;&#039;;
        }else{$validation_msg=&#039;&#039;;}
        ?&gt;

        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;input field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; name=&quot;&lt;?php  echo $cf[&#039;name&#039;];?&gt;&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;
                &lt;?php if(!empty($cf[&#039;placeholder_value&#039;])){ echo &#039;placeholder=&quot;&#039;.esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;).&#039;&quot;&#039;; } ?&gt;
                   value=&quot;&lt;?php echo esc_attr(stripslashes($value));?&gt;&quot; type=&quot;tel&quot; class=&quot;geodir_textfield&quot; &lt;?php echo $validation;echo $validation_msg;?&gt; /&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_phone&#039;,&#039;geodir_cfi_phone&#039;,10,2);



/**
 * Get the html input for the custom field: url
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_url($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_url_{$html_var}&quot;)){
        /**
         * Filter the url html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_url_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        if ($value == $cf[&#039;default&#039;]) {
            $value = &#039;&#039;;
        }
        //validation
        if(isset($cf[&#039;validation_pattern&#039;]) &amp;&amp; $cf[&#039;validation_pattern&#039;]){
            $validation = &#039; pattern=&quot;&#039;.$cf[&#039;validation_pattern&#039;].&#039;&quot; &#039;;
        }else{$validation=&#039;&#039;;}

        // validation message
        if(isset($cf[&#039;validation_msg&#039;]) &amp;&amp; $cf[&#039;validation_msg&#039;]){
            $validation_msg = __( $cf[&#039;validation_msg&#039;], &#039;geodirectory&#039; );
        }else{$validation_msg = __(&#039;Please enter a valid URL including http://&#039;, &#039;geodirectory&#039;);}
        ?&gt;

        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;input field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; name=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;
                &lt;?php if(!empty($cf[&#039;placeholder_value&#039;])){ echo &#039;placeholder=&quot;&#039;.esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;).&#039;&quot;&#039;; } ?&gt;
                   value=&quot;&lt;?php echo esc_attr(stripslashes($value));?&gt;&quot; type=&quot;url&quot; class=&quot;geodir_textfield&quot;
                   oninvalid=&quot;setCustomValidity(&#039;&lt;?php echo esc_attr($validation_msg); ?&gt;&#039;)&quot;
                   onchange=&quot;try{setCustomValidity(&#039;&#039;)}catch(e){}&quot;
                &lt;?php echo $validation;?&gt;
            /&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_url&#039;,&#039;geodir_cfi_url&#039;,10,2);


/**
 * Get the html input for the custom field: radio
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_radio($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_radio_{$html_var}&quot;)){
        /**
         * Filter the radio html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_radio_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {
        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        ?&gt;
        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;?php if ($cf[&#039;option_values&#039;]) {
                $option_values = geodir_string_values_to_options($cf[&#039;option_values&#039;], true);

                if (!empty($option_values)) {
                    foreach ($option_values as $option_value) {
                        if (empty($option_value[&#039;optgroup&#039;])) {
                            ?&gt;
                            &lt;span class=&quot;gd-radios&quot; role=&quot;radio&quot;&gt;&lt;input name=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; &lt;?php checked(stripslashes($value), $option_value[&#039;value&#039;]);?&gt; value=&quot;&lt;?php echo esc_attr($option_value[&#039;value&#039;]); ?&gt;&quot; class=&quot;gd-checkbox&quot; field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; type=&quot;radio&quot; aria-label=&quot;&lt;?php esc_attr_e( $option_value[&#039;label&#039;] ); ?&gt;&quot; /&gt;&lt;?php echo $option_value[&#039;label&#039;]; ?&gt;&lt;/span&gt;
                            &lt;?php
                        }
                    }
                }
            }
            ?&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
            
    }


    return $html;
}
add_filter(&#039;geodir_custom_field_input_radio&#039;,&#039;geodir_cfi_radio&#039;,10,2);


/**
 * Get the html input for the custom field: checkbox
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_checkbox($html,$cf){

    // check it its a terms and conditions in admin area
    if(is_admin() &amp;&amp; isset($cf[&#039;field_type_key&#039;]) &amp;&amp; $cf[&#039;field_type_key&#039;]==&#039;terms_conditions&#039;){ return $html;}

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_checkbox_{$html_var}&quot;)){
        /**
         * Filter the checkbox html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_checkbox_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        // Set default checked.
        if ( $value === &#039;&#039; &amp;&amp; $cf[&#039;default&#039;] ) {
            $value = &#039;1&#039;;
        }
        ?&gt;

        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;?php if ($value != &#039;1&#039;) {
                $value = &#039;0&#039;;
            }?&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; value=&quot;&lt;?php echo esc_attr($value);?&gt;&quot;/&gt;
            &lt;input  &lt;?php if ($value == &#039;1&#039;) {
                echo &#039;checked=&quot;checked&quot;&#039;;
            }?&gt;  value=&quot;1&quot; class=&quot;gd-checkbox&quot; field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; type=&quot;checkbox&quot;
                 onchange=&quot;if(this.checked){jQuery(&#039;#&lt;?php echo $cf[&#039;name&#039;];?&gt;&#039;).val(&#039;1&#039;);} else{ jQuery(&#039;#&lt;?php echo $cf[&#039;name&#039;];?&gt;&#039;).val(&#039;0&#039;);}&quot;/&gt;
            &lt;?php
            if(isset($cf[&#039;field_type_key&#039;]) &amp;&amp; $cf[&#039;field_type_key&#039;]==&#039;terms_conditions&#039;){
                $tc = geodir_terms_and_conditions_page_id();
                $tc_link = get_permalink($tc);
                echo &quot;&lt;a href=&#039;$tc_link&#039; target=&#039;_blank&#039;&gt;&quot;.__($cf[&#039;desc&#039;], &#039;geodirectory&#039;).&quot; &lt;i class=\&quot;fas fa-external-link-alt\&quot; aria-hidden=\&quot;true\&quot;&gt;&lt;/i&gt;&lt;/a&gt;&quot;;
            }else{ ?&gt;
               &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
               &lt;?php 
            }
            ?&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_checkbox&#039;,&#039;geodir_cfi_checkbox&#039;,10,2);


/**
 * Get the html input for the custom field: textarea
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_textarea($html,$cf){

    // don&#039;t show title in admin
    if(is_admin() &amp;&amp; isset($cf[&#039;htmlvar_name&#039;]) &amp;&amp; $cf[&#039;htmlvar_name&#039;]==&#039;post_content&#039;){return &#039;&#039;;}

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_textarea_{$html_var}&quot;)){
        /**
         * Filter the textarea html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_textarea_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        $extra_fields = maybe_unserialize($cf[&#039;extra_fields&#039;]);
		$html_editor = ! empty( $extra_fields[&#039;advanced_editor&#039;] );
        ?&gt;

        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;&lt;?php


            if ( apply_filters( &#039;geodir_custom_field_allow_html_editor&#039;, $html_editor, $cf ) ) {

                $editor_settings = array(&#039;media_buttons&#039; =&gt; false, &#039;textarea_rows&#039; =&gt; 10);?&gt;

            &lt;div class=&quot;editor&quot; field_id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; field_type=&quot;editor&quot;&gt;
                &lt;?php wp_editor(stripslashes($value), $cf[&#039;name&#039;], $editor_settings); ?&gt;
                &lt;/div&gt;&lt;?php

            } else {
				$attributes = apply_filters( &#039;geodir_cfi_textarea_attributes&#039;, array(), $cf );
				$attributes = is_array( $attributes ) &amp;&amp; ! empty( $attributes ) ? implode( &#039; &#039;, $attributes ) : &#039;&#039;; 
                ?&gt;&lt;textarea field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; class=&quot;geodir_textarea&quot; name=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;
                &lt;?php if(!empty($cf[&#039;placeholder_value&#039;])){ echo &#039;placeholder=&quot;&#039;.esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;).&#039;&quot;&#039;; } ?&gt;
                            id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; &lt;?php echo $attributes; ?&gt;&gt;&lt;?php echo stripslashes($value);?&gt;&lt;/textarea&gt;&lt;?php

            }?&gt;


            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_textarea&#039;,&#039;geodir_cfi_textarea&#039;,10,2);


/**
 * Get the html input for the custom field: select
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_select($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_select_{$html_var}&quot;)){
        /**
         * Filter the select html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_select_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);
		$frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
		$placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : &#039;&#039;;
        ?&gt;
        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row geodir_custom_fields clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;?php
            $option_values_arr = geodir_string_values_to_options($cf[&#039;option_values&#039;], true);
            $select_options = &#039;&#039;;
            if (!empty($option_values_arr)) {
                foreach ($option_values_arr as $key =&gt; $option_row) {
					if (isset($option_row[&#039;optgroup&#039;]) &amp;&amp; ($option_row[&#039;optgroup&#039;] == &#039;start&#039; || $option_row[&#039;optgroup&#039;] == &#039;end&#039;)) {
                        $option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;

                        $select_options .= $option_row[&#039;optgroup&#039;] == &#039;start&#039; ? &#039;&lt;optgroup label=&quot;&#039; . esc_attr($option_label) . &#039;&quot;&gt;&#039; : &#039;&lt;/optgroup&gt;&#039;;
                    } else {
                        $option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;
                        $option_value = isset($option_row[&#039;value&#039;]) ? $option_row[&#039;value&#039;] : &#039;&#039;;
                        $selected = selected($option_value,stripslashes($value), false);

                        $select_options .= &#039;&lt;option value=&quot;&#039; . esc_attr($option_value) . &#039;&quot; &#039; . $selected . &#039;&gt;&#039; . $option_label . &#039;&lt;/option&gt;&#039;;
                    }

					if ( $key == 0 &amp;&amp; empty( $option_row[&#039;optgroup&#039;] ) &amp;&amp; ! empty( $option_label ) &amp;&amp; isset( $option_row[&#039;value&#039;] ) &amp;&amp; $option_row[&#039;value&#039;] === &#039;&#039; ) {
						$placeholder = $option_label;
					}
                }
            }

			if ( empty( $placeholder ) ) {
				$placeholder = wp_sprintf( __( &#039;Select %s&amp;hellip;&#039;, &#039;geodirectory&#039; ), $frontend_title );
			}
            ?&gt;
            &lt;select field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; name=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;
                    class=&quot;geodir_textfield textfield_x geodir-select&quot;
                    data-placeholder=&quot;&lt;?php echo esc_attr( $placeholder ); ?&gt;&quot;
                    option-ajaxchosen=&quot;false&quot; data-allow_clear=&quot;true&quot;&gt;&lt;?php echo $select_options;?&gt;&lt;/select&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_select&#039;,&#039;geodir_cfi_select&#039;,10,2);


/**
 * Get the html input for the custom field: multiselect
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_multiselect($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_multiselect_{$html_var}&quot;)){
        /**
         * Filter the multiselect html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_multiselect_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        $frontend_title = __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
        $placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : wp_sprintf( __( &#039;Select %s&amp;hellip;&#039;, &#039;geodirectory&#039; ), $frontend_title );
        $extra_fields = !empty($cf[&#039;extra_fields&#039;]) ? maybe_unserialize($cf[&#039;extra_fields&#039;]) : NULL;
        $multi_display = !empty($extra_fields[&#039;multi_display_type&#039;]) ? $extra_fields[&#039;multi_display_type&#039;] : &#039;select&#039;;
        ?&gt;
        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;; ?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;; ?&gt;
            &lt;/label&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;&quot; value=&quot;&quot;/&gt;
            &lt;?php if ($multi_display == &#039;select&#039;) { ?&gt;
            &lt;div class=&quot;geodir_multiselect_list&quot;&gt;
                &lt;select field_type=&quot;&lt;?php echo $cf[&#039;type&#039;]; ?&gt;&quot; name=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;[]&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;&quot;
                        multiple=&quot;multiple&quot; class=&quot;geodir_textfield textfield_x geodir-select&quot;
                        data-placeholder=&quot;&lt;?php echo esc_attr( $placeholder ); ?&gt;&quot;
                        option-ajaxchosen=&quot;false&quot; data-allow_clear=&quot;true&quot;&gt;
                    &lt;?php
                    } else {
                        echo &#039;&lt;ul class=&quot;gd_multi_choice gd-ios-scrollbars&quot;&gt;&#039;;
                    }

                    $option_values_arr = geodir_string_values_to_options($cf[&#039;option_values&#039;], true);
                    $select_options = &#039;&#039;;
                    if (!empty($option_values_arr)) {
                        foreach ($option_values_arr as $option_row) {
                            if (isset($option_row[&#039;optgroup&#039;]) &amp;&amp; ($option_row[&#039;optgroup&#039;] == &#039;start&#039; || $option_row[&#039;optgroup&#039;] == &#039;end&#039;)) {
                                $option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;

                                if ($multi_display == &#039;select&#039;) {
                                    $select_options .= $option_row[&#039;optgroup&#039;] == &#039;start&#039; ? &#039;&lt;optgroup label=&quot;&#039; . esc_attr($option_label) . &#039;&quot;&gt;&#039; : &#039;&lt;/optgroup&gt;&#039;;
                                } else {
                                    $select_options .= $option_row[&#039;optgroup&#039;] == &#039;start&#039; ? &#039;&lt;li&gt;&#039; . $option_label . &#039;&lt;/li&gt;&#039; : &#039;&#039;;
                                }
                            } else {
                                if (!is_array($value) &amp;&amp; $value != &#039;&#039;) {
                                    $value = trim($value);
                                }
                                
                                $option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;
                                $option_value = isset($option_row[&#039;value&#039;]) ? $option_row[&#039;value&#039;] : &#039;&#039;;
                                $selected = $option_value == $value ? &#039;selected=&quot;selected&quot;&#039; : &#039;&#039;;
                                $selected = &#039;&#039;;
                                $checked = &#039;&#039;;

                                if ((!is_array($value) &amp;&amp; trim($value) != &#039;&#039;) || (is_array($value) &amp;&amp; !empty($value))) {
                                    if (!is_array($value)) {
                                        $value_array = explode(&#039;,&#039;, $value);
                                    } else {
                                        $value_array = $value;
                                    }
                                    
                                    $value_array = stripslashes_deep($value_array);

                                    if (is_array($value_array)) {
                                        $value_array = array_map(&#039;trim&#039;, $value_array);
                                        
                                        if (in_array($option_value, $value_array)) {
                                            $selected = &#039;selected=&quot;selected&quot;&#039;;
                                            $checked = &#039;checked=&quot;checked&quot;&#039;;
                                        }
                                    }
                                }

                                if ($multi_display == &#039;select&#039;) {
                                    $select_options .= &#039;&lt;option value=&quot;&#039; . esc_attr($option_value) . &#039;&quot; &#039; . $selected . &#039;&gt;&#039; . $option_label . &#039;&lt;/option&gt;&#039;;
                                } else {
                                    $select_options .= &#039;&lt;li&gt;&lt;input name=&quot;&#039; . $cf[&#039;name&#039;] . &#039;[]&quot; &#039; . $checked . &#039; value=&quot;&#039; . esc_attr($option_value) . &#039;&quot; class=&quot;gd-&#039; . $multi_display . &#039;&quot; field_type=&quot;&#039; . $multi_display . &#039;&quot; type=&quot;&#039; . $multi_display . &#039;&quot; /&gt;&amp;nbsp;&#039; . $option_label . &#039; &lt;/li&gt;&#039;;
                                }
                            }
                        }
                    }
                    echo $select_options;

                    if ($multi_display == &#039;select&#039;) { ?&gt;&lt;/select&gt;&lt;/div&gt;
        &lt;?php } else { ?&gt;&lt;/ul&gt;&lt;?php } ?&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;
        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_multiselect&#039;,&#039;geodir_cfi_multiselect&#039;,10,2);


/**
 * Get the html input for the custom field: html
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_html($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_html_{$html_var}&quot;)){
        /**
         * Filter the html html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_html_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);
        ?&gt;

        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;; ?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;; ?&gt;
            &lt;/label&gt;

            &lt;?php $editor_settings = array(&#039;media_buttons&#039; =&gt; false, &#039;textarea_rows&#039; =&gt; 10); ?&gt;

            &lt;div class=&quot;editor&quot; field_id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;&quot; field_type=&quot;editor&quot;&gt;
                &lt;?php wp_editor(stripslashes($value), $cf[&#039;name&#039;], $editor_settings); ?&gt;
            &lt;/div&gt;

            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;

        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_html&#039;,&#039;geodir_cfi_html&#039;,10,2);



/**
 * Get the html input for the custom field: datepicker
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_datepicker($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_datepicker_{$html_var}&quot;)){
        /**
         * Filter the datepicker html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_datepicker_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

		$name = $cf[&#039;name&#039;];
        $extra_fields = ! empty( $cf[&#039;extra_fields&#039;] ) ? maybe_unserialize( $cf[&#039;extra_fields&#039;] ) : NULL;
        $date_format = ! empty( $extra_fields[&#039;date_format&#039;] ) ? $extra_fields[&#039;date_format&#039;] : &#039;yy-mm-dd&#039;;
        $jquery_date_format = $date_format;

        // check if we need to change the format or not
        $date_format_len = strlen(str_replace(&#039; &#039;, &#039;&#039;, $date_format));
        if($date_format_len&gt;5){// if greater then 5 then it&#039;s the old style format.

            $search = array(&#039;dd&#039;,&#039;d&#039;,&#039;DD&#039;,&#039;mm&#039;,&#039;m&#039;,&#039;MM&#039;,&#039;yy&#039;); //jQuery UI datepicker format
            $replace = array(&#039;d&#039;,&#039;j&#039;,&#039;l&#039;,&#039;m&#039;,&#039;n&#039;,&#039;F&#039;,&#039;Y&#039;);//PHP date format

            $date_format = str_replace($search, $replace, $date_format);
        }else{
            $jquery_date_format = geodir_date_format_php_to_jqueryui( $jquery_date_format );
        }

        if($value==&#039;0000-00-00&#039;){$value=&#039;&#039;;}//if date not set, then mark it empty
        if($value &amp;&amp; !isset($_REQUEST[&#039;backandedit&#039;])) {
            //$time = strtotime($value);
            //$value = date_i18n($date_format, $time);
        }
        $value = geodir_date($value, &#039;Y-m-d&#039;, $date_format);

        ?&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
            jQuery(function() {
                jQuery(&quot;#&lt;?php echo $cf[&#039;name&#039;];?&gt;_show&quot;).datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: &quot;&lt;?php echo $jquery_date_format;?&gt;&quot;,
                    altFormat: &quot;yy-mm-dd&quot;,
                    altField: &quot;#&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;,
                    onClose: function(dateText, inst) {
                        if(dateText == &#039;&#039;) {
                            jQuery(inst.settings[&quot;altField&quot;]).val(&#039;&#039;);
                        }
                    }&lt;?php
                    // Check for default value date range
                    if ( ! empty( $extra_fields[&#039;date_range&#039;] ) ) {
                       echo &#039;,yearRange: &quot;&#039; . esc_attr( $extra_fields[&#039;date_range&#039;] ) . &#039;&quot;&#039;;
                    }
                    /**
                     * Used to add extra option to datepicker per custom field.
                     *
                     * @since 1.5.7
                     * @param string $name The custom field name.
                     */
                    echo apply_filters( &quot;gd_datepicker_extra_{$name}&quot;, &#039;&#039; ); ?&gt;
                });
                &lt;?php if ( ! empty( $value ) ) { ?&gt;
                jQuery(&quot;#&lt;?php echo $name;?&gt;_show&quot;).datepicker(&quot;setDate&quot;, &#039;&lt;?php echo $value;?&gt;&#039;);
                &lt;?php } ?&gt;
                jQuery(&quot;input#&lt;?php echo $name;?&gt;_show&quot;).on(&#039;change&#039;, function(e) {
                    if (!jQuery(this).val()) {
                        jQuery(&quot;input#&lt;?php echo $cf[&#039;name&#039;];?&gt;&quot;).val(&#039;&#039;);
                    }
                });
            });
        &lt;/script&gt;
        &lt;div id=&quot;&lt;?php echo $name;?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $name ); ?&gt;&quot;&gt;

                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;

            &lt;input field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; name=&quot;&lt;?php echo $name;?&gt;_show&quot; id=&quot;&lt;?php echo $name;?&gt;_show&quot;
                &lt;?php if(!empty($cf[&#039;placeholder_value&#039;])){ echo &#039;placeholder=&quot;&#039;.esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;).&#039;&quot;&#039;; } ?&gt;
                   value=&quot;&lt;?php echo esc_attr($value);?&gt;&quot; type=&quot;text&quot; class=&quot;geodir_textfield&quot;/&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo $name;?&gt;&quot; id=&quot;&lt;?php echo $name;?&gt;&quot;&gt;

            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_datepicker&#039;,&#039;geodir_cfi_datepicker&#039;,10,2);


/**
 * Get the html input for the custom field: time
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_time($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_time_{$html_var}&quot;)){
        /**
         * Filter the time html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_time_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        $name = $cf[&#039;name&#039;];

        if ($value != &#039;&#039;)
            $value = date(&#039;H:i&#039;, strtotime($value));
        ?&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
            jQuery(document).ready(function () {

                jQuery(&#039;#&lt;?php echo $name;?&gt;&#039;).timepicker({
                    showPeriod: true,
                    showLeadingZero: true,
                    showPeriod: true,
                });
            });
        &lt;/script&gt;
        &lt;div id=&quot;&lt;?php echo $name;?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $name ); ?&gt;&quot;&gt;

                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;
            &lt;input readonly=&quot;readonly&quot; field_type=&quot;&lt;?php echo $cf[&#039;type&#039;];?&gt;&quot; name=&quot;&lt;?php echo $name;?&gt;&quot;
                &lt;?php if(!empty($cf[&#039;placeholder_value&#039;])){ echo &#039;placeholder=&quot;&#039;.esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;).&#039;&quot;&#039;; } ?&gt;
                   id=&quot;&lt;?php echo $name;?&gt;&quot; value=&quot;&lt;?php echo esc_attr($value);?&gt;&quot; type=&quot;text&quot; class=&quot;geodir_textfield&quot;/&gt;

            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;
        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_time&#039;,&#039;geodir_cfi_time&#039;,10,2);


/**
 * Get the html input for the custom field: address
 *
 * @global null|int $mapzoom Map zoom level.
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_address( $html, $cf ) {
    global $mapzoom;

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_address_{$html_var}&quot;)){
        /**
         * Filter the address html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_address_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        global $post,$gd_post,$geodirectory;

        if(empty($gd_post)){
            $gd_post = geodir_get_post_info($post-&gt;ID);
        }
//echo &#039;###&#039;;
        //print_r($gd_post);
        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);
        $name = $cf[&#039;name&#039;];
        $type = $cf[&#039;type&#039;];
        $frontend_desc = $cf[&#039;desc&#039;];
        $is_required = $cf[&#039;is_required&#039;];
        $required_msg = $cf[&#039;required_msg&#039;];
        $frontend_title = $cf[&#039;frontend_title&#039;];
        $is_admin = $cf[&#039;for_admin_use&#039;];
        $extra_fields = stripslashes_deep(maybe_unserialize($cf[&#039;extra_fields&#039;]));
        $prefix = $name . &#039;_&#039;;

        // steet2
        if(!isset($extra_fields[&#039;street2_lable&#039;])){$extra_fields[&#039;street2_lable&#039;] = &#039;&#039;;}

        ($frontend_title != &#039;&#039;) ? $address_title = $frontend_title : $address_title = geodir_ucwords($prefix . &#039; street&#039;);
        ($extra_fields[&#039;street2_lable&#039;] != &#039;&#039;) ? $street2_title = $extra_fields[&#039;street2_lable&#039;] : $zip_title = geodir_ucwords($prefix . &#039; street2&#039;);
        ($extra_fields[&#039;zip_lable&#039;] != &#039;&#039;) ? $zip_title = $extra_fields[&#039;zip_lable&#039;] : $zip_title = geodir_ucwords($prefix . &#039; zip/post code &#039;);
        ($extra_fields[&#039;map_lable&#039;] != &#039;&#039;) ? $map_title = $extra_fields[&#039;map_lable&#039;] : $map_title = geodir_ucwords(&#039;set address on map&#039;);
        ($extra_fields[&#039;mapview_lable&#039;] != &#039;&#039;) ? $mapview_title = $extra_fields[&#039;mapview_lable&#039;] : $mapview_title = geodir_ucwords($prefix . &#039; mapview&#039;);

        $street  = $gd_post-&gt;street;
        $street2 = isset( $gd_post-&gt;street2 ) ? $gd_post-&gt;street2 : &#039;&#039;;
        $zip     = isset( $gd_post-&gt;zip ) ? $gd_post-&gt;zip : &#039;&#039;;
        $lat     = isset( $gd_post-&gt;latitude) ? $gd_post-&gt;latitude : &#039;&#039;;
        $lng     = isset( $gd_post-&gt;longitude) ? $gd_post-&gt;longitude : &#039;&#039;;
        $mapview = isset( $gd_post-&gt;mapview ) ? $gd_post-&gt;mapview : &#039;&#039;;
        $post_mapzoom = isset( $gd_post-&gt;mapzoom ) ? $gd_post-&gt;mapzoom : &#039;&#039;;

        // Map zoom
        if ( ! empty( $post_mapzoom ) ) {
            $_mapzoom = absint( $post_mapzoom );
        } elseif ( ! empty( $_REQUEST[&#039;mapzoom&#039;] ) ) {
            $_mapzoom = absint( $_REQUEST[&#039;mapzoom&#039;] );
        } else {
            $_mapzoom = 0;
        }

        if ( ! empty( $_mapzoom ) &amp;&amp; $_mapzoom &gt; 0 &amp;&amp; $_mapzoom &lt; 21 ) {
            $mapzoom = $_mapzoom;
        } else {
            $mapzoom = 12; // Default zoom
        }

        /**
         * Filter add listing page map zoom.
         *
         * @since 2.0.0.94
         *
         * @param int $mapzoom Map zoom level.
         * @param object $gd_post The GeoDirectory post object.
         */
        $mapzoom = apply_filters( &#039;geodir_add_listing_page_map_zoom&#039;, $mapzoom, $gd_post );

        $location = $geodirectory-&gt;location-&gt;get_default_location();
        if (empty($city)) $city = isset($location-&gt;city) ? $location-&gt;city : &#039;&#039;;
        if (empty($region)) $region = isset($location-&gt;region) ? $location-&gt;region : &#039;&#039;;
        if (empty($country)) $country = isset($location-&gt;country) ? $location-&gt;country : &#039;&#039;;

        $lat_lng_blank = false;
        if (empty($lat) &amp;&amp; empty($lng)) {
            $lat_lng_blank = true;
        }

        if (empty($lat)) $lat = isset($location-&gt;city_latitude) ? $location-&gt;city_latitude : &#039;&#039;;
        if (empty($lng)) $lng = isset($location-&gt;city_longitude) ? $location-&gt;city_longitude : &#039;&#039;;

        /**
         * Filter the default latitude.
         *
         * @since 1.0.0
         *
         * @param float $lat Default latitude.
         * @param bool $is_admin For admin use only?.
         */
        $lat = apply_filters(&#039;geodir_default_latitude&#039;, $lat, $is_admin);
        /**
         * Filter the default longitude.
         *
         * @since 1.0.0
         *
         * @param float $lat Default longitude.
         * @param bool $is_admin For admin use only?.
         */
        $lng = apply_filters(&#039;geodir_default_longitude&#039;, $lng, $is_admin);

        $locate_me = !empty($extra_fields[&#039;show_map&#039;]) &amp;&amp; GeoDir_Maps::active_map() != &#039;none&#039; ? true : false;
        $locate_me_class = $locate_me ? &#039; gd-form-control&#039; : &#039;&#039;;
        $placeholder = $cf[&#039;placeholder_value&#039;] != &#039;&#039; ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Enter a location&#039;, &#039;geodirectory&#039; );
        ?&gt;
        &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;street&#039;;?&gt;_row&quot;
             class=&quot;&lt;?php if ($is_required) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $prefix . &#039;street&#039; ); ?&gt;&quot;&gt;&lt;?php _e($address_title, &#039;geodirectory&#039;); ?&gt; &lt;?php if ($is_required) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;&lt;/label&gt;
            &lt;?php if ($locate_me) { ?&gt;
            &lt;div class=&quot;gd-input-group gd-locate-me&quot;&gt;
            &lt;?php }
            // NOTE autocomplete=&quot;new-password&quot; seems to be the only way to disable chrome autofill and others.
            ?&gt;
                &lt;input autocomplete=&quot;new-password&quot; type=&quot;text&quot; field_type=&quot;&lt;?php echo $type;?&gt;&quot; name=&quot;&lt;?php echo &#039;street&#039;;?&gt;&quot; id=&quot;&lt;?php echo $prefix . &#039;street&#039;;?&gt;&quot; class=&quot;geodir_textfield&lt;?php echo $locate_me_class;?&gt;&quot; value=&quot;&lt;?php echo esc_attr(stripslashes($street)); ?&gt;&quot; &lt;?php if(!empty($placeholder)){ echo &#039;placeholder=&quot;&#039; . esc_html( $placeholder ) . &#039;&quot;&#039;; } ?&gt; /&gt;
                &lt;?php if ($locate_me) { ?&gt;
                &lt;span class=&quot;gd-locate-me-btn gd-input-group-addon&quot; title=&quot;&lt;?php esc_attr_e(&#039;My location&#039;, &#039;geodirectory&#039;); ?&gt;&quot;&gt;&lt;i class=&quot;fas fa-crosshairs fa-fw&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;
            &lt;/div&gt;
            &lt;?php } ?&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($frontend_desc, &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($is_required) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($required_msg, &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;
        
        &lt;?php

        if (isset($extra_fields[&#039;show_street2&#039;]) &amp;&amp; $extra_fields[&#039;show_street2&#039;]) { ?&gt;
            &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;street2&#039;; ?&gt;_row&quot;
                 class=&quot;geodir_form_row clearfix gd-fieldset-details&quot;&gt;
                &lt;label for=&quot;&lt;?php echo esc_attr( $prefix . &#039;street2&#039; ); ?&gt;&quot;&gt;
                    &lt;?php _e($street2_title, &#039;geodirectory&#039;); ?&gt;
                &lt;/label&gt;
                &lt;input type=&quot;text&quot; field_type=&quot;&lt;?php echo $type; ?&gt;&quot; name=&quot;&lt;?php echo &#039;street2&#039;; ?&gt;&quot;
                       id=&quot;&lt;?php echo $prefix . &#039;street2&#039;; ?&gt;&quot; class=&quot;geodir_textfield autofill&quot;
                       value=&quot;&lt;?php echo esc_attr(stripslashes($street2)); ?&gt;&quot;/&gt;
                &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php echo sprintf( __(&#039;Please enter listing %s&#039;, &#039;geodirectory&#039;), __($street2_title, &#039;geodirectory&#039;) );?&gt;&lt;/span&gt;
            &lt;/div&gt;
        &lt;?php
        }

        /**
         * Called after the address input on the add listings.
         *
         * This is used by the location manage to add further locations info etc.
         *
         * @since 1.0.0
         * @param array $cf The array of setting for the custom field. {@see geodir_custom_field_save()}.
         */
        do_action(&#039;geodir_address_extra_listing_fields&#039;, $cf);

        if (isset($extra_fields[&#039;show_zip&#039;]) &amp;&amp; $extra_fields[&#039;show_zip&#039;]) { ?&gt;
            &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;zip&#039;; ?&gt;_row&quot;
                 class=&quot;&lt;?php echo ( ! empty( $extra_fields[&#039;zip_required&#039;] ) ? &#039;required_field &#039; : &#039;&#039; ); ?&gt;geodir_form_row clearfix gd-fieldset-details&quot;&gt;
                &lt;label for=&quot;&lt;?php echo esc_attr( $prefix . &#039;zip&#039; ); ?&gt;&quot;&gt;
                    &lt;?php _e($zip_title, &#039;geodirectory&#039;); ?&gt; &lt;?php echo ( ! empty( $extra_fields[&#039;zip_required&#039;] ) ? &#039;&lt;span&gt;*&lt;/span&gt;&#039; : &#039;&#039; ); ?&gt;
                &lt;/label&gt;
                &lt;input type=&quot;text&quot; field_type=&quot;&lt;?php echo $type; ?&gt;&quot; name=&quot;&lt;?php echo &#039;zip&#039;; ?&gt;&quot;
                       id=&quot;&lt;?php echo $prefix . &#039;zip&#039;; ?&gt;&quot; class=&quot;geodir_textfield autofill&quot;
                       value=&quot;&lt;?php echo esc_attr(stripslashes($zip)); ?&gt;&quot;/&gt;
                &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php echo sprintf( __(&#039;Please enter listing %s&#039;, &#039;geodirectory&#039;), __($zip_title, &#039;geodirectory&#039;) );?&gt;&lt;/span&gt;
                &lt;?php echo ( ! empty( $extra_fields[&#039;zip_required&#039;] ) ? &#039;&lt;span class=&quot;geodir_message_error&quot;&gt;&#039; . __( &#039;Zip/Post Code is required!&#039;, &#039;geodirectory&#039; ) . &#039;&lt;/span&gt;&#039; : &#039;&#039; ); ?&gt;
            &lt;/div&gt;
        &lt;?php } ?&gt;

        &lt;?php  if (isset($extra_fields[&#039;show_map&#039;]) &amp;&amp; $extra_fields[&#039;show_map&#039;]) { ?&gt;

            &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;map&#039;; ?&gt;_row&quot; class=&quot;geodir_form_row clearfix gd-fieldset-details&quot;&gt;
                &lt;?php
                if ( geodir_core_multi_city() ) {
                    add_filter( &#039;geodir_add_listing_map_restrict&#039;, &#039;__return_false&#039; );
                }

                /**
                 * Contains add listing page map functions.
                 *
                 * @since 1.0.0
                 */
                include( GEODIRECTORY_PLUGIN_DIR . &#039;templates/map.php&#039; );
                if ($lat_lng_blank) {
                    $lat = &#039;&#039;;
                    $lng = &#039;&#039;;
                }
                ?&gt;
                &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php echo stripslashes( __( &#039;Click on &quot;Set Address on Map&quot; and then you can also drag pinpoint to locate the correct address&#039;, &#039;geodirectory&#039; ) ); ?&gt;&lt;/span&gt;
            &lt;/div&gt;
            &lt;?php
            /* show lat lng */
            $style_latlng = ((isset($extra_fields[&#039;show_latlng&#039;]) &amp;&amp; $extra_fields[&#039;show_latlng&#039;]) || is_admin()) ? &#039;&#039; : &#039;style=&quot;display:none&quot;&#039;; ?&gt;
            &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;latitude&#039;; ?&gt;_row&quot;
                 class=&quot;&lt;?php if ($is_required) echo &#039;required_field&#039;; ?&gt; geodir_form_row clearfix gd-fieldset-details&quot; &lt;?php echo $style_latlng; ?&gt;&gt;
                &lt;label for=&quot;&lt;?php echo esc_attr( $prefix . &#039;latitude&#039; ); ?&gt;&quot;&gt;
                    &lt;?php _e( &#039;Address Latitude&#039;, &#039;geodirectory&#039; ); ?&gt;
                    &lt;?php if ($is_required) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;; ?&gt;
                &lt;/label&gt;
                &lt;input type=&quot;number&quot; field_type=&quot;&lt;?php echo $type; ?&gt;&quot; name=&quot;&lt;?php echo &#039;latitude&#039;; ?&gt;&quot;
                       id=&quot;&lt;?php echo $prefix . &#039;latitude&#039;; ?&gt;&quot; class=&quot;geodir_textfield&quot;
                       value=&quot;&lt;?php echo esc_attr(stripslashes($lat)); ?&gt;&quot; size=&quot;25&quot;
                       min=&quot;-90&quot; max=&quot;90&quot; step=&quot;any&quot; lang=&#039;EN&#039;

                /&gt;
                &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e( &#039;Please enter latitude for google map perfection. eg. : &lt;b&gt;39.955823048131286&lt;/b&gt;&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/span&gt;
                &lt;?php if ($is_required) { ?&gt;
                    &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($required_msg, &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
                &lt;?php } ?&gt;
            &lt;/div&gt;

            &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;longitude&#039;; ?&gt;_row&quot;
                 class=&quot;&lt;?php if ($is_required) echo &#039;required_field&#039;; ?&gt; geodir_form_row clearfix gd-fieldset-details&quot; &lt;?php echo $style_latlng; ?&gt;&gt;
                &lt;label for=&quot;&lt;?php echo esc_attr( $prefix . &#039;longitude&#039; ); ?&gt;&quot;&gt;
                    &lt;?php _e( &#039;Address Longitude&#039;, &#039;geodirectory&#039; ); ?&gt;
                    &lt;?php if ($is_required) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;; ?&gt;
                &lt;/label&gt;
                &lt;input type=&quot;number&quot; field_type=&quot;&lt;?php echo $type; ?&gt;&quot; name=&quot;&lt;?php echo &#039;longitude&#039;; ?&gt;&quot;
                       id=&quot;&lt;?php echo $prefix . &#039;longitude&#039;; ?&gt;&quot; class=&quot;geodir_textfield&quot;
                       value=&quot;&lt;?php echo esc_attr(stripslashes($lng)); ?&gt;&quot; size=&quot;25&quot;
                       min=&quot;-180&quot; max=&quot;180&quot; step=&quot;any&quot; lang=&#039;EN&#039;
                /&gt;
                &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e( &#039;Please enter longitude for google map perfection. eg. : &lt;b&gt;-75.14408111572266&lt;/b&gt;&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/span&gt;
                &lt;?php if ($is_required) { ?&gt;
                    &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($required_msg, &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
                &lt;?php } ?&gt;
            &lt;/div&gt;
        &lt;?php } ?&gt;

        &lt;?php if (isset($extra_fields[&#039;show_mapview&#039;]) &amp;&amp; $extra_fields[&#039;show_mapview&#039;]) { ?&gt;
            &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;mapview&#039;; ?&gt;_row&quot; class=&quot;geodir_form_row clearfix gd-fieldset-details&quot;&gt;
                &lt;label for=&quot;&lt;?php echo esc_attr( $prefix . &#039;mapview&#039; ); ?&gt;&quot;&gt;&lt;?php _e($mapview_title, &#039;geodirectory&#039;); ?&gt;&lt;/label&gt;

                &lt;select  name=&quot;&lt;?php echo &#039;mapview&#039;; ?&gt;&quot; id=&quot;&lt;?php echo $prefix . &#039;mapview&#039;; ?&gt;&quot; class=&quot;geodir-select&quot;&gt;
                    &lt;?php
                    $mapview_options = array(
                        &#039;ROADMAP&#039;=&gt;__(&#039;Default Map&#039;, &#039;geodirectory&#039;),
                        &#039;SATELLITE&#039;=&gt;__(&#039;Satellite Map&#039;, &#039;geodirectory&#039;),
                        &#039;HYBRID&#039;=&gt;__(&#039;Hybrid Map&#039;, &#039;geodirectory&#039;),
                        &#039;TERRAIN&#039;=&gt;__(&#039;Terrain Map&#039;, &#039;geodirectory&#039;),
                    );
                    foreach($mapview_options as $val =&gt; $name){
                        echo &quot;&lt;option value=&#039;$val&#039; &quot;.selected($val,$mapview,false).&quot; &gt;$name&lt;/option&gt;&quot;;
                    }
                    ?&gt;
                &lt;/select&gt;
                &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e(&#039;Please select listing map view to use&#039;, &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;/div&gt;
        &lt;?php }?&gt;

        &lt;?php if (isset($post_mapzoom)) { ?&gt;
            &lt;input type=&quot;hidden&quot; value=&quot;&lt;?php if (isset($post_mapzoom)) {
                echo esc_attr($post_mapzoom);
            } ?&gt;&quot; name=&quot;&lt;?php echo &#039;mapzoom&#039;; ?&gt;&quot; id=&quot;&lt;?php echo $prefix . &#039;mapzoom&#039;; ?&gt;&quot;/&gt;
        &lt;?php }

        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_address&#039;,&#039;geodir_cfi_address&#039;,10,2);



/**
 * Get the html input for the custom field: taxonomy
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_taxonomy($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;)){
        /**
         * Filter the taxonomy html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        if(is_admin() &amp;&amp; $cf[&#039;name&#039;]==&#039;post_tags&#039;){return;}

        //print_r($cf);echo &#039;###&#039;;
        $name = $cf[&#039;name&#039;];
        $frontend_title = $cf[&#039;frontend_title&#039;];
        $frontend_desc = $cf[&#039;desc&#039;];
        $is_required = $cf[&#039;is_required&#039;];
        $is_admin = $cf[&#039;for_admin_use&#039;];
        $required_msg = $cf[&#039;required_msg&#039;];
        $taxonomy = $cf[&#039;post_type&#039;].&quot;category&quot;;
        $placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Select Category&#039;, &#039;geodirectory&#039; );

        if ($value == $cf[&#039;default&#039;]) {
            $value = &#039;&#039;;
        } ?&gt;
        &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;_row&quot;
             class=&quot;&lt;?php if ($is_required) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $taxonomy ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($frontend_title, &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($is_required) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;

            &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;&quot; class=&quot;geodir_taxonomy_field&quot; style=&quot;float:left; width:70%;&quot;&gt;
                &lt;?php
                global $wpdb, $gd_post, $cat_display, $post_cat, $package_id, $exclude_cats;

                $exclude_cats = array();

				$package = geodir_get_post_package( $gd_post, $cf[&#039;post_type&#039;] );
                //if ($is_admin == &#039;1&#039;) {
					if ( ! empty( $package ) &amp;&amp; isset( $package-&gt;exclude_category ) ) {
						if ( is_array( $package-&gt;exclude_category ) ) {
							$exclude_cats = $package-&gt;exclude_category;
						} else {
							$exclude_cats = $package-&gt;exclude_category != &#039;&#039; ? explode( &#039;,&#039;, $package-&gt;exclude_category ) : array();
						}
                    }
                //}

                $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );
				if ( is_array( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;cat_display_type&#039;] ) ) {
					$cat_display = $extra_fields[&#039;cat_display_type&#039;];
				} else {
					$cat_display = &#039;select&#039;;
				}

                if (isset($_REQUEST[&#039;backandedit&#039;]) &amp;&amp; !empty($post_cat[&#039;post_category&#039;]) &amp;&amp; is_array($post_cat[&#039;post_category&#039;])) {
                    $post_cat = implode(&quot;,&quot;, $post_cat[&#039;post_category&#039;]);
                } else {
                    if (isset($_REQUEST[&#039;pid&#039;]) &amp;&amp; $_REQUEST[&#039;pid&#039;] != &#039;&#039;)
                        $post_cat = geodir_get_post_meta($_REQUEST[&#039;pid&#039;], &#039;post_category&#039;, true);
                }

                $category_limit = ! empty( $package ) &amp;&amp; isset( $package-&gt;category_limit ) ? absint( $package-&gt;category_limit ) : 0;
				$category_limit = (int) apply_filters( &#039;geodir_cfi_post_categories_limit&#039;, $category_limit, $post, $package );

                if ( $cat_display != &#039;&#039; ) {
                    $required_limit_msg = &#039;&#039;;
                    if ( $category_limit &gt; 0 &amp;&amp; $cat_display != &#039;select&#039; &amp;&amp; $cat_display != &#039;radio&#039; ) {
                        $required_limit_msg = wp_sprintf( __( &#039;Only select %d categories for this package.&#039;, &#039;geodirectory&#039; ), array( $category_limit ) );
                    } else {
                        $required_limit_msg = $required_msg;
                    }

                    echo &#039;&lt;input type=&quot;hidden&quot; cat_limit=&quot;&#039; . $category_limit . &#039;&quot; id=&quot;cat_limit&quot; value=&quot;&#039; . esc_attr($required_limit_msg) . &#039;&quot; name=&quot;cat_limit[&#039; . $taxonomy . &#039;]&quot;  /&gt;&#039;;
					echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;default_category&quot; value=&quot;&#039; . esc_attr( geodir_get_cf_default_category_value() ) . &#039;&quot;&gt;&#039;;


                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;) {
                        $multiple = &#039;&#039;;
						$default_field = &#039;&#039;;
                        if ($cat_display == &#039;multiselect&#039;) {
                            $multiple = &#039;multiple=&quot;multiple&quot;&#039;;
							$default_field = &#039;data-cmultiselect=&quot;default_category&quot;&#039;;
						} else {
							$default_field = &#039;data-cselect=&quot;default_category&quot;&#039;;
						}
						echo &#039;&lt;select id=&quot;&#039; .$taxonomy . &#039;&quot; &#039; . $multiple . &#039; type=&quot;&#039; . $taxonomy . &#039;&quot; name=&quot;tax_input[&#039;.$taxonomy.&#039;][]&quot; alt=&quot;&#039; . $taxonomy . &#039;&quot; field_type=&quot;&#039; . $cat_display . &#039;&quot; class=&quot;geodir_textfield textfield_x geodir-select&quot; data-placeholder=&quot;&#039; . esc_attr( $placeholder ) . &#039;&quot; &#039; . $default_field . &#039;&gt;&#039;;


                        if ($cat_display == &#039;select&#039;)
                            echo &#039;&lt;option value=&quot;&quot;&gt;&#039; . __(&#039;Select Category&#039;, &#039;geodirectory&#039;) . &#039;&lt;/option&gt;&#039;;

                    }

                    echo geodir_custom_taxonomy_walker($taxonomy);

                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;)
                        echo &#039;&lt;/select&gt;&#039;;

                }

                ?&gt;
            &lt;/div&gt;

            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($frontend_desc, &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($is_required) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($required_msg, &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_taxonomy&#039;,&#039;geodir_cfi_taxonomy&#039;,10,2);


/**
 * Get the html input for the custom field: taxonomy
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_categories($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;)){
        /**
         * Filter the taxonomy html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        if(is_admin() &amp;&amp; $cf[&#039;name&#039;]==&#039;post_tags&#039;){return;}

        //print_r($cf);echo &#039;###&#039;;
        $name = $cf[&#039;name&#039;];
        $frontend_title = $cf[&#039;frontend_title&#039;];
        $frontend_desc = $cf[&#039;desc&#039;];
        $is_required = $cf[&#039;is_required&#039;];
        $is_admin = $cf[&#039;for_admin_use&#039;];
        $required_msg = $cf[&#039;required_msg&#039;];
        $taxonomy = $cf[&#039;post_type&#039;].&quot;category&quot;;
        $placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Select Category&#039;, &#039;geodirectory&#039; );

        if ($value == $cf[&#039;default&#039;]) {
            $value = &#039;&#039;;
        } ?&gt;
        &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;_row&quot;
             class=&quot;&lt;?php echo esc_attr( $cf[&#039;css_class&#039;] ); ?&gt; &lt;?php if ($is_required) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;cat_limit&quot;&gt;
                &lt;?php $frontend_title = __($frontend_title, &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($is_required) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;

            &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;&quot; class=&quot;geodir_taxonomy_field&quot; style=&quot;float:left; width:70%;&quot;&gt;
                &lt;?php

                global $wpdb, $gd_post, $cat_display, $post_cat, $package_id, $exclude_cats;

                $exclude_cats = array();

				$package = geodir_get_post_package( $gd_post, $cf[&#039;post_type&#039;] );
                //if ($is_admin == &#039;1&#039;) {
					if ( ! empty( $package ) &amp;&amp; isset( $package-&gt;exclude_category ) ) {
						if ( is_array( $package-&gt;exclude_category ) ) {
							$exclude_cats = $package-&gt;exclude_category;
						} else {
							$exclude_cats = $package-&gt;exclude_category != &#039;&#039; ? explode( &#039;,&#039;, $package-&gt;exclude_category ) : array();
						}
                    }
                //}

                $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );
				if ( is_array( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;cat_display_type&#039;] ) ) {
					$cat_display = $extra_fields[&#039;cat_display_type&#039;];
				} else {
					$cat_display = &#039;select&#039;;
				}

                $post_cat = geodir_get_cf_value($cf);
                    
				$category_limit = ! empty( $package ) &amp;&amp; isset( $package-&gt;category_limit ) ? absint( $package-&gt;category_limit ) : 0;
				$category_limit = (int) apply_filters( &#039;geodir_cfi_post_categories_limit&#039;, $category_limit, $gd_post, $package );

                if ($cat_display != &#039;&#039;) {

                    $required_limit_msg = &#039;&#039;;
                    if ($category_limit &gt; 0 &amp;&amp; $cat_display != &#039;select&#039; &amp;&amp; $cat_display != &#039;radio&#039;) {

                        $required_limit_msg = wp_sprintf( __(&#039;Only select %d categories for this package.&#039;, &#039;geodirectory&#039;), $category_limit );

                    } else {
                        $required_limit_msg = $required_msg;
                    }

                    echo &#039;&lt;input type=&quot;hidden&quot; cat_limit=&quot;&#039; . $category_limit . &#039;&quot; id=&quot;cat_limit&quot; value=&quot;&#039; . esc_attr($required_limit_msg) . &#039;&quot; name=&quot;cat_limit[&#039; . $taxonomy . &#039;]&quot;  /&gt;&#039;;
					echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;default_category&quot; value=&quot;&#039; . esc_attr( geodir_get_cf_default_category_value() ) . &#039;&quot;&gt;&#039;;

                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;) {
                        $multiple = &#039;&#039;;
						$default_field = &#039;&#039;;
                        if ($cat_display == &#039;multiselect&#039;) {
                            $multiple = &#039;multiple=&quot;multiple&quot;&#039;;
							$default_field = &#039;data-cmultiselect=&quot;default_category&quot;&#039;;
						} else {
							$default_field = &#039;data-cselect=&quot;default_category&quot;&#039;;
						}

                        echo &#039;&lt;select id=&quot;&#039; .$taxonomy . &#039;&quot; &#039; . $multiple . &#039; type=&quot;&#039; . $taxonomy . &#039;&quot; name=&quot;tax_input[&#039;.$taxonomy.&#039;][]&quot; alt=&quot;&#039; . $taxonomy . &#039;&quot; field_type=&quot;&#039; . $cat_display . &#039;&quot; class=&quot;geodir_textfield textfield_x geodir-select&quot; data-placeholder=&quot;&#039; . esc_attr( $placeholder ) . &#039;&quot; &#039; . $default_field . &#039; aria-label=&quot;&#039; . esc_attr( $placeholder ) . &#039;&quot;&gt;&#039;;

                        if ($cat_display == &#039;select&#039;)
                            echo &#039;&lt;option value=&quot;&quot;&gt;&#039; . __(&#039;Select Category&#039;, &#039;geodirectory&#039;) . &#039;&lt;/option&gt;&#039;;

                    }

                    echo GeoDir_Admin_Taxonomies::taxonomy_walker($taxonomy);

                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;)
                        echo &#039;&lt;/select&gt;&#039;;

                }

                ?&gt;
            &lt;/div&gt;

            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($frontend_desc, &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($is_required) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($required_msg, &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_categories&#039;,&#039;geodir_cfi_categories&#039;,10,2);


/**
 * Get the html input for the custom field: tags
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_tags( $html, $cf ) {
    // we use the standard WP tags UI in backend
    if ( is_admin() ) {
        return &#039;&#039;;
    }

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if ( has_filter(&quot;geodir_custom_field_input_tags_{$html_var}&quot; ) ) {
        /**
         * Filter the multiselect html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters( &quot;geodir_custom_field_input_tags_{$html_var}&quot;, $html, $cf );
    }

    // If no html then we run the standard output.
    if ( empty( $html ) ) {
        ob_start(); // Start  buffering;

        $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );
        $value = geodir_get_cf_value( $cf );

        $placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Enter tags separated by a comma ,&#039;, &#039;geodirectory&#039; );
        $cf[&#039;option_values&#039;] = &quot;tag1,tag2&quot;;

        $post_type = isset( $_REQUEST[&#039;listing_type&#039;] ) ? geodir_clean_slug( $_REQUEST[&#039;listing_type&#039;] ) : &#039;&#039;;
        $term_array = array();

        if ( $post_type ) {
            $tag_no       = 10;
            if ( is_array( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;no_of_tag&#039;] ) ) {
                $tag_no = absint( $extra_fields[&#039;no_of_tag&#039;] );
            }
            $tag_filter = array(
                &#039;taxonomy&#039;   =&gt; $post_type . &#039;_tags&#039;,
                &#039;hide_empty&#039; =&gt; false,
                &#039;orderby&#039;    =&gt; &#039;count&#039;,
                &#039;order&#039;      =&gt; &#039;DESC&#039;,
                &#039;number&#039;     =&gt; $tag_no,
            );
            $tag_args   = apply_filters( &#039;geodir_custom_field_input_tag_args&#039;, $tag_filter );
            $terms      = get_terms( $tag_args );
            if ( ! empty( $terms ) ) {
                foreach( $terms as $term ) {
                    $term_array[] = $term-&gt;name;
                }
            }

            if ( ! empty( $term_array ) ) {
                $cf[&#039;option_values&#039;] = implode( &quot;,&quot;, $term_array );
            }
        }

        // Enable spell check
        $spellcheck = is_array( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;spellcheck&#039;] ) ? &#039;true&#039; : &#039;&#039;;

        ?&gt;
        &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;_row&quot;
             class=&quot;&lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;required_field&#039;; ?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $cf[&#039;name&#039;] ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($cf[&#039;is_required&#039;]) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;; ?&gt;
            &lt;/label&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;gd_field_&lt;?php echo $cf[&#039;name&#039;]; ?&gt;&quot; value=&quot;1&quot;/&gt;
            &lt;div class=&quot;geodir_multiselect_list&quot;&gt;
                &lt;select field_type=&quot;&lt;?php echo $cf[&#039;type&#039;]; ?&gt;&quot; name=&quot;tax_input[&lt;?php echo wp_strip_all_tags( esc_attr($post_type ) ) .&quot;_tags&quot;; ?&gt;][]&quot; id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;&quot; multiple=&quot;multiple&quot; class=&quot;geodir_textfield textfield geodir-select-tags&quot; data-placeholder=&quot;&lt;?php echo esc_attr( $placeholder ); ?&gt;&quot; spellcheck=&quot;&lt;?php echo $spellcheck; ?&gt;&quot;&gt;
                    &lt;?php
                    // current tags
                    $current_tags_arr = geodir_string_values_to_options($value, true);

                    // popular tags
                    $option_values_arr = geodir_string_values_to_options($cf[&#039;option_values&#039;], true);

                    // add the popular tags
                    $select_options = &#039;&#039;;
                    $value_array = array();
                    if(!empty($value)){
                        $value_array = array_map(&#039;trim&#039;,explode(&quot;,&quot;,$value));
                    }
                    if (!empty($option_values_arr) || !empty($current_tags_arr)) {
                        $select_options .= &#039;&lt;optgroup label=&quot;&#039;.__(&#039;Popular tags&#039;,&#039;geodirectory&#039;).&#039;&quot;&gt;&#039;;
                        foreach ($option_values_arr as $option_row) {
                            if(is_array($current_tags_arr) &amp;&amp; in_array($option_row,$current_tags_arr)){
                                continue;
                            }
                            $option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;
                            $option_value = isset($option_row[&#039;value&#039;]) ? $option_row[&#039;value&#039;] : &#039;&#039;;
                            $selected = in_array($option_value,$value_array ) ? &#039;selected=&quot;selected&quot;&#039; : &#039;&#039;;
                            $select_options .= &#039;&lt;option value=&quot;&#039; . esc_attr($option_value) . &#039;&quot; &#039; . $selected . &#039;&gt;&#039; . $option_label . &#039;&lt;/option&gt;&#039;;
                        }
                        $select_options .= &#039;&lt;/optgroup&gt;&#039;;
                    }

                    // add the post current tags
                    if (!empty($current_tags_arr)) {
                        $select_options .= &#039;&lt;optgroup label=&quot;&#039;.__(&#039;Your tags&#039;,&#039;geodirectory&#039;).&#039;&quot;&gt;&#039;;
                        foreach ($current_tags_arr as $option_row) {
                            $option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;
                            $option_value = isset($option_row[&#039;value&#039;]) ? $option_row[&#039;value&#039;] : &#039;&#039;;
                            $selected = in_array($option_value,$value_array ) ? &#039;selected=&quot;selected&quot;&#039; : &#039;&#039;;
                            $select_options .= &#039;&lt;option value=&quot;&#039; . esc_attr($option_value) . &#039;&quot; &#039; . $selected . &#039;&gt;&#039; . $option_label . &#039;&lt;/option&gt;&#039;;
                        }
                        $select_options .= &#039;&lt;/optgroup&gt;&#039;;
                    }



                    echo $select_options;
?&gt;
                    &lt;/select&gt;&lt;/div&gt;

            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($cf[&#039;desc&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php if ($cf[&#039;is_required&#039;]) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;
        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_tags&#039;,&#039;geodir_cfi_tags&#039;,10,2);



/**
 * Get the html input for the custom field: business_hours
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 2.0.0
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_business_hours( $html, $cf ) {
	global $gd_post;

	if ( empty( $html ) ) {
		$htmlvar_name = $cf[&#039;htmlvar_name&#039;];
		$name = $cf[&#039;name&#039;];
		$label = __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
		$description = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );
		$value = geodir_get_cf_value( $cf );

		$locale = function_exists( &#039;get_user_locale&#039; ) ? get_user_locale() : get_locale();
		$time_format = geodir_bh_input_time_format();
		$timezone_string = geodir_timezone_string();
		$weekdays = geodir_get_short_weekdays();

		$hours = array();
		$display = &#039;none&#039;;

		if ( ! empty( $value ) ) {
			$display = &#039;&#039;;
			$value = stripslashes_deep( $value );
			$periods = geodir_schema_to_array( $value, ( ! empty( $gd_post-&gt;country ) ? $gd_post-&gt;country : &#039;&#039; ) );
			if ( ! empty( $periods[&#039;hours&#039;] ) ) {
				$hours = $periods[&#039;hours&#039;];
			}

			if ( ! empty( $periods[&#039;timezone_string&#039;] ) ) {
				$timezone_string = $periods[&#039;timezone_string&#039;];
			}
		} else {
			$hours = geodir_bh_default_values(); // Default value
		}

		$timezone_data = geodir_timezone_data( $timezone_string );

		ob_start();
		?&gt;
		&lt;script type=&quot;text/javascript&quot;&gt;jQuery(function($){GeoDir_Business_Hours.init({&#039;field&#039;:&#039;&lt;?php echo $htmlvar_name; ?&gt;&#039;,&#039;value&#039;:&#039;&lt;?php echo $value; ?&gt;&#039;,&#039;json&#039;:&#039;&lt;?php echo stripslashes_deep(json_encode($value)); ?&gt;&#039;,&#039;offset&#039;:&lt;?php echo (int) $timezone_data[&#039;offset&#039;]; ?&gt;,&#039;utc_offset&#039;:&#039;&lt;?php echo $timezone_data[&#039;utc_offset&#039;]; ?&gt;&#039;,&#039;offset_dst&#039;:&lt;?php echo (int) $timezone_data[&#039;offset_dst&#039;]; ?&gt;,&#039;utc_offset_dst&#039;:&#039;&lt;?php echo $timezone_data[&#039;utc_offset_dst&#039;]; ?&gt;&#039;,&#039;has_dst&#039;:&lt;?php echo (int) $timezone_data[&#039;has_dst&#039;]; ?&gt;,&#039;is_dst&#039;:&lt;?php echo (int) $timezone_data[&#039;is_dst&#039;]; ?&gt;});});&lt;/script&gt;
        &lt;div id=&quot;&lt;?php echo $name;?&gt;_row&quot; class=&quot;geodir_form_row clearfix gd-fieldset-details gd-bh-row&quot;&gt;
            &lt;label for=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_active_1&quot;&gt;&lt;?php echo $label; ?&gt;&lt;/label&gt;
			&lt;div class=&quot;gd-bh-field&quot; data-field-name=&quot;&lt;?php echo $htmlvar_name; ?&gt;&quot; role=&quot;radiogroup&quot;&gt;
				&lt;span class=&quot;gd-radios&quot; role=&quot;radio&quot;&gt;&lt;input name=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[active]&quot; id=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_active_1&quot; value=&quot;1&quot; class=&quot;gd-checkbox&quot; field_type=&quot;radio&quot; type=&quot;radio&quot; &lt;?php checked( ! empty( $value ), true ); ?&gt; data-field=&quot;active&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Yes&#039;, &#039;geodirectory&#039; ); ?&gt;&quot;&gt; &lt;?php _e( &#039;Yes&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/span&gt; 
				&lt;span class=&quot;gd-radios&quot; role=&quot;radio&quot;&gt;&lt;input name=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[active]&quot; id=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_active_0&quot; value=&quot;0&quot; class=&quot;gd-checkbox&quot; field_type=&quot;radio&quot; type=&quot;radio&quot; &lt;?php checked( empty( $value ), true ); ?&gt; data-field=&quot;active&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;No&#039;, &#039;geodirectory&#039; ); ?&gt;&quot;&gt; &lt;?php _e( &#039;No&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/span&gt;
				&lt;div class=&quot;gd-bh-items&quot; style=&quot;display:&lt;?php echo $display; ?&gt;&quot; data-12am=&quot;&lt;?php echo esc_attr( date_i18n( $time_format, strtotime( &#039;00:00&#039; ) ) ); ?&gt;&quot;&gt;
					&lt;table class=&quot;form-table widefat fixed&quot;&gt;
						&lt;thead&gt;
							&lt;tr&gt;&lt;th class=&quot;gd-bh-day&quot;&gt;&lt;?php _e( &#039;Day&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/th&gt;&lt;th class=&quot;gd-bh-24hours&quot;&gt;&lt;?php _e( &#039;Open 24 hours&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/th&gt;&lt;th class=&quot;gd-bh-time&quot;&gt;&lt;?php _e( &#039;Opening Hours&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/th&gt;&lt;th class=&quot;gd-bh-act&quot;&gt;&lt;span class=&quot;sr-only&quot;&gt;&lt;?php _e( &#039;Add&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;
						&lt;/thead&gt;
						&lt;tbody&gt;
							&lt;tr style=&quot;display:none!important&quot;&gt;&lt;td colspan=&quot;4&quot; class=&quot;gd-bh-blank&quot;&gt;&lt;div class=&quot;gd-bh-hours&quot;&gt;&lt;input type=&quot;text&quot; id=&quot;GD_UNIQUE_ID_o&quot; data-field-alt=&quot;open&quot; data-bh=&quot;time&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Open&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; readonly&gt; - &lt;input type=&quot;text&quot; id=&quot;GD_UNIQUE_ID_c&quot; data-field-alt=&quot;close&quot; data-bh=&quot;time&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Close&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; readonly&gt;&lt;input id=&quot;GD_UNIQUE_ID_oa&quot; type=&quot;hidden&quot; data-field=&quot;open&quot;&gt;&lt;input type=&quot;hidden&quot; id=&quot;GD_UNIQUE_ID_ca&quot; data-field=&quot;close&quot;&gt; &lt;span class=&quot;gd-bh-remove&quot;&gt;&lt;i class=&quot;fas fa-minus-circle&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;
							&lt;?php foreach ( $weekdays as $day_no =&gt; $day ) { ?&gt;
							&lt;tr class=&quot;gd-bh-item&lt;?php echo ( empty( $hours[ $day_no ] ) ? &#039; gd-bh-item-closed&#039; : &#039;&#039; ); ?&gt;&quot;&gt;
								&lt;td class=&quot;gd-bh-day&quot;&gt;&lt;?php echo $day; ?&gt;&lt;/td&gt;
								&lt;td class=&quot;gd-bh-24hours&quot;&gt;&lt;input type=&quot;checkbox&quot; value=&quot;1&quot;&gt;&lt;/td&gt;
								&lt;td class=&quot;gd-bh-time&quot; data-day=&quot;&lt;?php echo $day_no; ?&gt;&quot; data-field=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[hours][&lt;?php echo $day_no; ?&gt;]&quot;&gt;
									&lt;?php 
										if ( ! empty( $hours[ $day_no ] ) ) {
											$slots = $hours[ $day_no ];

											foreach ( $slots as $slot ) {
												$open = $close = $open_display = $close_display = $open_His = $close_His = &#039;&#039;;

												$unique_id = uniqid( rand() );

												if ( ! empty( $slot[&#039;opens&#039;] ) ) {
													$open = $slot[&#039;opens&#039;];
													$open_time = strtotime( $open );
													$open_display = date_i18n( $time_format, $open_time );
													$open_His = date_i18n( &#039;H:i:s&#039;, $open_time );
												}

												if ( ! empty( $slot[&#039;closes&#039;] ) ) {
													$close = $slot[&#039;closes&#039;];
													$close_time = strtotime( $close );
													$close_display = date_i18n( $time_format, $close_time );
													$close_His = date_i18n( &#039;H:i:s&#039;, $close_time );
												}
										?&gt;
										&lt;div class=&quot;gd-bh-hours&lt;?php echo ( ( $open == &#039;00:00&#039; &amp;&amp; $open == $close ) ? &#039; gd-bh-has24&#039; : &#039;&#039; ); ?&gt;&quot;&gt;
											&lt;input type=&quot;text&quot; id=&quot;&lt;?php echo $unique_id; ?&gt;_o&quot; data-field-alt=&quot;open&quot; data-bh=&quot;time&quot; value=&quot;&lt;?php echo esc_attr( $open_display ); ?&gt;&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Open&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; data-time=&quot;&lt;?php echo $open_His; ?&gt;&quot; readonly&gt; - &lt;input type=&quot;text&quot; id=&quot;&lt;?php echo $unique_id; ?&gt;_c&quot; data-field-alt=&quot;close&quot; data-bh=&quot;time&quot; value=&quot;&lt;?php echo esc_attr( $close_display ); ?&gt;&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Close&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; data-time=&quot;&lt;?php echo $close_His; ?&gt;&quot; readonly&gt;&lt;input type=&quot;hidden&quot; id=&quot;&lt;?php echo $unique_id; ?&gt;_oa&quot; name=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[hours][&lt;?php echo $day_no; ?&gt;][open][]&quot; data-field=&quot;open&quot; value=&quot;&lt;?php echo esc_attr( $open ); ?&gt;&quot;&gt;&lt;input type=&quot;hidden&quot; id=&quot;&lt;?php echo $unique_id; ?&gt;_ca&quot; name=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[hours][&lt;?php echo $day_no; ?&gt;][close][]&quot; data-field=&quot;close&quot; value=&quot;&lt;?php echo esc_attr( $close ); ?&gt;&quot;&gt; &lt;span class=&quot;gd-bh-remove&quot;&gt;&lt;i class=&quot;fas fa-minus-circle&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;
										&lt;/div&gt;
										&lt;?php } ?&gt;
									&lt;?php } else { ?&gt;
									&lt;div class=&quot;gd-bh-closed&quot;&gt;&lt;?php _e( &#039;Closed&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/div&gt;
									&lt;?php } ?&gt;
								&lt;/td&gt;
								&lt;td class=&quot;gd-bh-act&quot;&gt;&lt;span class=&quot;gd-bh-add&quot;&gt;&lt;i class=&quot;fas fa-plus-circle&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/td&gt;
							&lt;/tr&gt;
							&lt;?php } ?&gt;
							&lt;tr class=&quot;gd-tz-item&quot;&gt;
								&lt;td colspan=&quot;4&quot;&gt;&lt;label for=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_timezone_string&quot;&gt;&lt;?php _e( &#039;Timezone&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/label&gt;
									&lt;select data-field=&quot;timezone_string&quot; id=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_timezone_string&quot; class=&quot;geodir_textfield textfield_x geodir-select&quot; data-placeholder=&quot;&lt;?php esc_attr_e( &#039;Select a city/timezone&amp;hellip;&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; data-allow_clear=&quot;true&quot;&gt;&lt;?php echo geodir_timezone_choice( $timezone_string, $locale ) ;?&gt;&lt;/select&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;
						&lt;/tbody&gt;
					&lt;/table&gt;
				&lt;/div&gt;
				&lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo $htmlvar_name; ?&gt;&quot; value=&quot;&lt;?php echo esc_attr( $value ); ?&gt;&quot;&gt;
			&lt;/div&gt;
            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php echo $description; ?&gt;&lt;/span&gt;
        &lt;/div&gt;
        &lt;?php
        $html = ob_get_clean();
    }
	
	return $html;
}
add_filter( &#039;geodir_custom_field_input_business_hours&#039;, &#039;geodir_cfi_business_hours&#039;, 10, 2 );



/**
 * Get the html input for the custom field: images
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_files( $html, $cf ) {
    $html_var = $cf[&#039;htmlvar_name&#039;];

    // we use the standard WP tags UI in backend
    if ( is_admin() &amp;&amp; $html_var == &#039;post_images&#039; ) {
        return &#039;&#039;;
    }

    // Check if there is a custom field specific filter.
    if ( has_filter(&quot;geodir_custom_field_input_files_{$html_var}&quot; ) ) {
        /**
         * Filter the multiselect html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_files_{$html_var}&quot;, $html, $cf );
    }

    // If no html then we run the standard output.
    if ( empty( $html ) ) {
        global $gd_post, $post;

		if ( empty( $gd_post ) &amp;&amp; ! empty( $post ) ) {
            $gd_post = geodir_get_post_info( $post-&gt;ID );
        }

        ob_start(); // Start buffering;

        $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );
        $file_limit = ! empty( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;file_limit&#039;] ) ? absint( $extra_fields[&#039;file_limit&#039;] ) : 0;
        $file_limit = apply_filters( &quot;geodir_custom_field_file_limit&quot;, $file_limit, $cf, $gd_post );

        $allowed_file_types = isset( $extra_fields[&#039;gd_file_types&#039;] ) ? maybe_unserialize( $extra_fields[&#039;gd_file_types&#039;] ) : array( &#039;jpg&#039;,&#039;jpe&#039;,&#039;jpeg&#039;,&#039;gif&#039;,&#039;png&#039;,&#039;bmp&#039;,&#039;ico&#039;,&#039;webp&#039;);
        $display_file_types = $allowed_file_types != &#039;&#039; ? &#039;.&#039; . implode( &quot;, .&quot;, $allowed_file_types ) : &#039;&#039;;
        if ( ! empty( $allowed_file_types ) ) {
			$allowed_file_types = implode( &quot;,&quot;, $allowed_file_types );
		}

        // adjust values here
        $id = $cf[&#039;htmlvar_name&#039;]; // this will be the name of form field. Image url(s) will be submitted in $_POST using this key. So if $id == img1 then $_POST[img1] will have all the image urls

        $revision_id = isset( $gd_post-&gt;post_parent ) &amp;&amp; $gd_post-&gt;post_parent ? $gd_post-&gt;ID : &#039;&#039;;
        $post_id = isset( $gd_post-&gt;post_parent ) &amp;&amp; $gd_post-&gt;post_parent ? $gd_post-&gt;post_parent : $gd_post-&gt;ID;

        // check for any auto save temp media values first
        $temp_media = get_post_meta( $post_id, &quot;__&quot; . $revision_id, true );
        if ( ! empty( $temp_media ) &amp;&amp; isset( $temp_media[ $html_var ] ) ) {
            $files = $temp_media[ $html_var ];
        } else {
            $files = GeoDir_Media::get_field_edit_string( $post_id, $html_var, $revision_id );
        }

        if ( ! empty( $files ) ) {
            $total_files = count( explode( &#039;::&#039;, $files ) );
        } else {
            $total_files = 0;
        }

        $image_limit = absint( $file_limit );
        $multiple = $image_limit == 1 ? false : true; // Allow multiple files upload
        $show_image_input_box = true;
        /**
         * Filter to be able to show/hide the image upload section of the add listing form.
         *
         * @since 1.0.0
         * @param bool $show_image_input_box Set true to show. Set false to not show.
         * @param string $listing_type The custom post type slug.
         */
        $show_image_input_box = apply_filters( &#039;geodir_file_uploader_on_add_listing&#039;, $show_image_input_box, $cf[&#039;post_type&#039;] );

        if ( $show_image_input_box ) {
            add_thickbox();  
            ?&gt;

            &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;_row&quot; class=&quot;&lt;?php if ( $cf[&#039;is_required&#039;] ) {echo &#039;required_field&#039;;} ?&gt; geodir_form_row clearfix gd-fieldset-details &quot;&gt;

                &lt;label for=&quot;&lt;?php echo $id; ?&gt;&quot;&gt;
                    &lt;?php $frontend_title = esc_attr__( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
                    echo ( trim( $frontend_title ) ) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                    &lt;?php if ( $cf[&#039;is_required&#039;] ) {
                        echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;
                    } ?&gt;
                &lt;/label&gt;
                &lt;span class=&quot;geodir_message_note gd_images_desc&quot;&gt;&lt;?php _e( $cf[&#039;desc&#039;], &#039;geodirectory&#039; ); ?&gt;&lt;/span&gt;
                &lt;?php
                // params for file upload
                $is_required = $cf[&#039;is_required&#039;];

                // the file upload template
                echo geodir_get_template_html( &quot;file-upload.php&quot;, array(
                    &#039;id&#039;                  =&gt; $id,
                    &#039;is_required&#039;         =&gt; $is_required,
                    &#039;files&#039;	              =&gt; $files,
                    &#039;image_limit&#039;         =&gt; $image_limit,
                    &#039;total_files&#039;         =&gt; $total_files,
                    &#039;allowed_file_types&#039;  =&gt; $allowed_file_types,
                    &#039;display_file_types&#039;  =&gt; $display_file_types,
                    &#039;multiple&#039;            =&gt; $multiple,
                ) );

                if ( $is_required ) { ?&gt;
                    &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php esc_attr_e($cf[&#039;required_msg&#039;], &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
                &lt;?php } ?&gt;
            &lt;/div&gt;
            &lt;?php
        }
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_images&#039;,&#039;geodir_cfi_files&#039;,10,2);
add_filter(&#039;geodir_custom_field_input_file&#039;,&#039;geodir_cfi_files&#039;,10,2);
</code></pre>
            </article>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <footer class="phpdocumentor phpdocumentor-footer">
    <div class="phpdocumentor-section">
        <span>Geodirectory Code Reference API documentation generated by <a href="http://www.phpdoc.org/">phpDocumentor</a> on May 12th, 2022 at 06:35 am.</span>
    </div>
</footer>

    <script>
        cssVars({});
    </script>
    <script>
        var searchParams = {
            'searchIndex': '..\/js\/searchIndex.json'
        };
    </script>
    <script src="../js/searchIndex.js?updated=1652337338"></script>
    <script src="../js/search.js?updated=1652337338"></script>
</body>
</html>
