<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Geodirectory Code Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.png" />
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/base.css?updated=1652334990">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/template.css?updated=1652334990">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
            <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/js/all.min.js" integrity="sha256-0vuk8LXoyrmCjp1f0O300qo1M75ZQyhH9X3J6d+scmk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@7.2.0/dist/js/autoComplete.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8KCYZ2CYMS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8KCYZ2CYMS', {
		'content_group' : 'WooCommerce Core Code Reference',
	});
</script>
        <script src="../js/prism.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            window.dispatchEvent(new HashChangeEvent('hashchange'));
        });
    </script>
</head>
<body id="top">
    <header class="phpdocumentor-top-header">
    <section class="phpdocumentor-section">
        <div class="site-branding">
            <a class="site-logo" href="../index.html"><img width="180" src="../images/logo.svg" alt="WooCommerce" /></a>
        </div>
        <nav class="main-navigation">
            <ul>
                <li><a href="../hooks/hooks.html">Hooks Reference</a></li>
                <li><a href="https://docs.woocommerce.com/">Documentation</a></li>
                <li><a href="https://woocommerce.github.io/woocommerce-rest-api-docs/">REST API Docs</a></li>
                <li><a href="https://woocommerce.com/careers/?utm_source=woocommerce+core+code+reference&utm_medium=devdocs&utm_campaign=woo+careers" target="_blank">We're hiring!</a></li>
            </ul>
        </nav>
    </section>
</header>

<div class="phpdocumentor-header">
    <section class="phpdocumentor-section">
        <h1 class="phpdocumentor-title">Geodirectory Code Reference</h1>
        <section class="phpdocumentor-search">
    <label class="phpdocumentor-label">
        <span class="visually-hidden">Search (click ESC to close search results)</span>
        <input id="autoComplete" tabindex="1" type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading..." disabled />
    </label>
</section>

    </section>
</div>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <aside class="phpdocumentor-column -four phpdocumentor-sidebar">
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                <h3 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/default.html"><abbr title="\">Global</abbr></a></h3>
                                        <h4 class="phpdocumentor-sidebar__root-namespace"><a href="../namespaces/elementorpro.html"><abbr title="\ElementorPro">ElementorPro</abbr></a></h4>
                <ul class="phpdocumentor-list">
                                            <li><a href="../namespaces/elementorpro-modules.html"><abbr title="\ElementorPro\Modules">Modules</abbr></a></li>
                                    </ul>
                        </section>

        <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                    <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/Geodirectory.html"><abbr title="\Geodirectory">Geodirectory</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectory.html"><abbr title="\GeoDirectory">GeoDirectory</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/GeoDirectory-Templates.html"><abbr title="\GeoDirectory\Templates">Templates</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAbstracts.html"><abbr title="\GeoDirectoryAbstracts">GeoDirectoryAbstracts</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAPI.html"><abbr title="\GeoDirectoryAPI">GeoDirectoryAPI</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClasses.html"><abbr title="\GeoDirectoryClasses">GeoDirectoryClasses</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminFunctions.html"><abbr title="\GeoDirectoryAdminFunctions">GeoDirectoryAdminFunctions</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoruAdmin.html"><abbr title="\GeoDirectoruAdmin">GeoDirectoruAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdmin.html"><abbr title="\GeoDirectoryAdmin">GeoDirectoryAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirAdmin.html"><abbr title="\GeoDirAdmin">GeoDirAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectroyAdmin.html"><abbr title="\GeoDirectroyAdmin">GeoDirectroyAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminSystemStatus.html"><abbr title="\GeoDirectoryAdminSystemStatus">GeoDirectoryAdminSystemStatus</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminTools.html"><abbr title="\GeoDirectoryAdminTools">GeoDirectoryAdminTools</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryAdminWidgets.html"><abbr title="\GeoDirectoryAdminWidgets">GeoDirectoryAdminWidgets</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClassesEmails.html"><abbr title="\GeoDirectoryClassesEmails">GeoDirectoryClassesEmails</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryClassesData.html"><abbr title="\GeoDirectoryClassesData">GeoDirectoryClassesData</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDIrectoryClassesData.html"><abbr title="\GeoDIrectoryClassesData">GeoDIrectoryClassesData</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/ElementorPro.html"><abbr title="\ElementorPro">ElementorPro</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/ElementorPro-Modules.html"><abbr title="\ElementorPro\Modules">Modules</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryFunctions.html"><abbr title="\GeoDirectoryFunctions">GeoDirectoryFunctions</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryparamarraytermsAnarrayoftermobjects.html"><abbr title="\GeoDirectoryparamarraytermsAnarrayoftermobjects">GeoDirectoryparamarraytermsAnarrayoftermobjects</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WP.html"><abbr title="\WP">WP</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/WP-Background.html"><abbr title="\WP\Background">Background</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/GeoDirectoryTemplates.html"><abbr title="\GeoDirectoryTemplates">GeoDirectoryTemplates</abbr></a></h3>
                        </section>
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../indices/files.html">Files</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../hooks/hooks.html">Hooks Reference</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <ul class="phpdocumentor-breadcrumbs">
    </ul>

    <article class="phpdocumentor-element -file">
        <h2 class="phpdocumentor-content__title">input-functions-aui.php</h2>

                

            <section class="phpdocumentor-functions">
        <h3 class="phpdocumentor-elements__header" id="functions">
            Functions
            <a href="#functions" class="headerlink"><i class="fas fa-link"></i></a>
        </h3>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_fieldset">
        geodir_cfi_fieldset()
        <a href="#function_geodir_cfi_fieldset" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.20">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">20</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: fieldset</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_fieldset</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_admin_only">
        geodir_cfi_admin_only()
        <a href="#function_geodir_cfi_admin_only" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.58">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">58</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_admin_only</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_input_output">
        geodir_cfi_input_output()
        <a href="#function_geodir_cfi_input_output" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.69">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">69</span>
</aside>

        <p class="phpdocumentor-summary">Many input types share the same output function.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_input_output</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href=""><abbr title=""></abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href=""><abbr title=""></abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"></section>

            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_text">
        geodir_cfi_text()
        <a href="#function_geodir_cfi_text" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.151">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">151</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: text</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_text</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_email">
        geodir_cfi_email()
        <a href="#function_geodir_cfi_email" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.191">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">191</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: email</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_email</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_phone">
        geodir_cfi_phone()
        <a href="#function_geodir_cfi_phone" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.229">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">229</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: phone</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_phone</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_url">
        geodir_cfi_url()
        <a href="#function_geodir_cfi_url" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.267">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">267</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: url</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_url</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_radio">
        geodir_cfi_radio()
        <a href="#function_geodir_cfi_radio" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.303">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">303</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: radio</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_radio</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_checkbox">
        geodir_cfi_checkbox()
        <a href="#function_geodir_cfi_checkbox" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.389">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">389</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: checkbox</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_checkbox</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_textarea">
        geodir_cfi_textarea()
        <a href="#function_geodir_cfi_textarea" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.496">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">496</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: textarea</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_textarea</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_select">
        geodir_cfi_select()
        <a href="#function_geodir_cfi_select" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.598">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">598</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: select</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_select</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_multiselect">
        geodir_cfi_multiselect()
        <a href="#function_geodir_cfi_multiselect" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.701">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">701</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: multiselect</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_multiselect</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_html">
        geodir_cfi_html()
        <a href="#function_geodir_cfi_html" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.991">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">991</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: html</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_html</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_datepicker">
        geodir_cfi_datepicker()
        <a href="#function_geodir_cfi_datepicker" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.1081">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1081</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: datepicker</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_datepicker</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_time">
        geodir_cfi_time()
        <a href="#function_geodir_cfi_time" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.1212">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1212</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: time</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_time</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_address">
        geodir_cfi_address()
        <a href="#function_geodir_cfi_address" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.1301">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1301</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: address</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_address</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">global</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <section class="phpdocumentor-description"><p>null|int $mapzoom Map zoom level.</p>
</section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_taxonomy">
        geodir_cfi_taxonomy()
        <a href="#function_geodir_cfi_taxonomy" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.1662">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1662</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: taxonomy</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_taxonomy</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_categories">
        geodir_cfi_categories()
        <a href="#function_geodir_cfi_categories" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.1808">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1808</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: taxonomy</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_categories</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_tags">
        geodir_cfi_tags()
        <a href="#function_geodir_cfi_tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.1985">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1985</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: tags</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_tags</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_business_hours">
        geodir_cfi_business_hours()
        <a href="#function_geodir_cfi_business_hours" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.2192">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">2192</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: business_hours</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_business_hours</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_cfi_files">
        geodir_cfi_files()
        <a href="#function_geodir_cfi_files" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.2352">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">2352</span>
</aside>

        <p class="phpdocumentor-summary">Get the html input for the custom field: images</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_cfi_files</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$html</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cf</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$html</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The html to be filtered.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cf</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The custom field array details.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.6.6</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_input_parse_year_range">
        geodir_input_parse_year_range()
        <a href="#function_geodir_input_parse_year_range" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.2497">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">2497</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_input_parse_year_range</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$range</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$range</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    
</article>
                    <article class="phpdocumentor-element -function - ">
    <h4 class="phpdocumentor-element__name" id="function_geodir_input_parse_year">
        geodir_input_parse_year()
        <a href="#function_geodir_input_parse_year" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="geodirectory/includes/custom-fields/input-functions-aui.php"><a href="../files/geodirectory-includes-custom-fields-input-functions-aui.html#source-view.2530">geodirectory/includes/custom-fields/input-functions-aui.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">2530</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">geodir_input_parse_year</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$range</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$range</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

    
</article>
            </section>

                    <h3 class="phpdocumentor-elements__header" id="source-code">
                Source code
                <a href="#source-code" class="headerlink"><i class="fas fa-link"></i></a>
            </h3>
            <pre id="source-view" tabindex="-1" class="language-php line-numbers linkable-line-numbers"><code>&lt;?php
/**
 * Custom fields input functions
 *
 * @since 1.6.6
 * @package GeoDirectory
 */



/**
 * Get the html input for the custom field: fieldset
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_fieldset($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_fieldset_{$html_var}&quot;)){
        /**
         * Filter the fieldset html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_fieldset_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if ( empty( $html ) ) {
        $horizontal = true;

        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        ob_start(); // Start  buffering;
        ?&gt;
        &lt;fieldset class=&quot;form-group&quot; id=&quot;geodir_fieldset_&lt;?php echo (int) $cf[&#039;id&#039;]; ?&gt;&quot;&lt;?php echo $conditional_attrs; ?&gt;&gt;
            &lt;h3 class=&quot;h3&quot;&gt;&lt;?php echo __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; ); ?&gt;&lt;/h3&gt;
            &lt;?php if ( $cf[&#039;desc&#039;] != &#039;&#039; ) {
                echo &#039;&lt;small class=&quot;text-muted&quot;&gt;( &#039; . __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; ) . &#039; )&lt;/small&gt;&#039;;
            } ?&gt;
        &lt;/fieldset&gt;
        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_fieldset&#039;,&#039;geodir_cfi_fieldset&#039;,10,2);

function geodir_cfi_admin_only($cf){
    return !empty($cf[&#039;for_admin_use&#039;]) ? &#039; &lt;i class=&quot;far fa-eye text-warning c-pointer&quot; data-toggle=&quot;tooltip&quot;  title=&quot;&#039;.__(&quot;Admin only&quot;,&quot;geodirectory&quot;).&#039;&quot;&gt;&lt;/i&gt;&#039; : &#039;&#039;;
}

/**
 * Many input types share the same output function.
 *
 * @param $cf
 *
 * @return string
 */
function geodir_cfi_input_output($cf){
    global $geodir_label_type;
    $extra_attributes = array();
    $title = &#039;&#039;;
    $value = geodir_get_cf_value($cf);

    $type = $cf[&#039;type&#039;];

    // blank value if default set for email. @todo, not sure we need this?
    if($type == &#039;email&#039; &amp;&amp; $value == $cf[&#039;default&#039;]){
        $value = &#039;&#039;;
    }

    //number and float validation $validation_pattern
    if(isset($cf[&#039;data_type&#039;]) &amp;&amp; $cf[&#039;data_type&#039;]==&#039;INT&#039;){$type = &#039;number&#039;; $extra_attributes[&#039;lang&#039;] =&#039;EN&#039;;}
    elseif(isset($cf[&#039;data_type&#039;]) &amp;&amp; $cf[&#039;data_type&#039;]==&#039;FLOAT&#039;){$type = &#039;float&#039;; $extra_attributes[&#039;lang&#039;] =&#039;EN&#039;;}

    //validation
    if(isset($cf[&#039;validation_pattern&#039;]) &amp;&amp; $cf[&#039;validation_pattern&#039;]){
        $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
    }

    // validation message
    if(isset($cf[&#039;validation_msg&#039;]) &amp;&amp; $cf[&#039;validation_msg&#039;]){
        $title = $cf[&#039;validation_msg&#039;];
    }

    // field type (used for validation)
    $extra_attributes[&#039;field_type&#039;] = $cf[&#039;type&#039;];

    // required
    $required = !empty($cf[&#039;is_required&#039;]) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;
    $required_msg = $required &amp;&amp; $cf[&#039;required_msg&#039;] != &#039;&#039; ? __( $cf[&#039;required_msg&#039;] , &#039;geodirectory&#039;) : &#039;&#039;;
    $validation_msg = $title != &#039;&#039; ? __( $title , &#039;geodirectory&#039;) : $required_msg;

    // admin only
    $admin_only = geodir_cfi_admin_only($cf);
    $conditional_attrs = geodir_conditional_field_attrs( $cf );

    $label = __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );

    if ( $cf[&#039;name&#039;] == &#039;service_distance&#039; ) {
        $type = &#039;number&#039;;

        if ( geodir_get_option( &#039;search_distance_long&#039; ) == &#039;km&#039; ) {
            $label .= &#039; &#039; . __( &#039;(km)&#039;, &#039;geodirectory&#039;);
        } else {
            $label .= &#039; &#039; . __( &#039;(miles)&#039;, &#039;geodirectory&#039;);
        }
    }

    return aui()-&gt;input(
        array(
            &#039;id&#039;                =&gt; $cf[&#039;name&#039;],
            &#039;name&#039;              =&gt; $cf[&#039;name&#039;],
            &#039;required&#039;          =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
            &#039;label&#039;             =&gt; $label . $admin_only . $required,
            &#039;label_show&#039;        =&gt; true,
            &#039;label_type&#039;        =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
            &#039;type&#039;              =&gt; $type,
            &#039;title&#039;             =&gt; $title,
            &#039;validation_text&#039;   =&gt; $validation_msg,
            &#039;validation_pattern&#039;=&gt; ! empty( $cf[&#039;validation_pattern&#039;] ) ? $cf[&#039;validation_pattern&#039;] : &#039;&#039;,
            &#039;placeholder&#039;       =&gt; esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;),
            &#039;class&#039;             =&gt; &#039;&#039;,
            &#039;value&#039;             =&gt; $value,
            &#039;help_text&#039;         =&gt; __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; ),
            &#039;extra_attributes&#039;  =&gt; $extra_attributes,
            &#039;wrap_attributes&#039;   =&gt; $conditional_attrs
        )
    );
}

/**
 * Get the html input for the custom field: text
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_text($html,$cf){

    // don&#039;t show title in admin
    if(is_admin() &amp;&amp; isset($cf[&#039;htmlvar_name&#039;]) &amp;&amp; $cf[&#039;htmlvar_name&#039;]==&#039;post_title&#039;){return &#039;&#039;;}

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_text_{$html_var}&quot;)){
        /**
         * Filter the text html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_text_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        $html = geodir_cfi_input_output($cf);

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_text&#039;,&#039;geodir_cfi_text&#039;,10,2);


/**
 * Get the html input for the custom field: email
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_email($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_email_{$html_var}&quot;)){
        /**
         * Filter the email html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_email_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        $html = geodir_cfi_input_output($cf);

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_email&#039;,&#039;geodir_cfi_text&#039;,10,2);



/**
 * Get the html input for the custom field: phone
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_phone($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_phone_{$html_var}&quot;)){
        /**
         * Filter the phone html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_phone_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        $html = geodir_cfi_input_output($cf);

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_phone&#039;,&#039;geodir_cfi_phone&#039;,10,2);



/**
 * Get the html input for the custom field: url
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_url($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_url_{$html_var}&quot;)){
        /**
         * Filter the url html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_url_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        $html = geodir_cfi_input_output($cf);
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_url&#039;,&#039;geodir_cfi_url&#039;,10,2);


/**
 * Get the html input for the custom field: radio
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_radio( $html, $cf ) {
	$html_var = $cf[&#039;htmlvar_name&#039;];

	// Check if there is a custom field specific filter.
	if ( has_filter( &quot;geodir_custom_field_input_radio_{$html_var}&quot; ) ) {
		/**
		 * Filter the radio html by individual custom field.
		 *
		 * @param string $html The html to filter.
		 * @param array $cf The custom field array.
		 * @since 1.6.6
		 */
		$html = apply_filters( &quot;geodir_custom_field_input_radio_{$html_var}&quot;, $html, $cf );
	}

	// If no html then we run the standard output.
	if ( empty( $html ) ) {
		global $geodir_label_type;

		$option_values_deep = geodir_string_to_options( $cf[&#039;option_values&#039;], true );
		$option_values = array();

		if ( ! empty( $option_values_deep ) ) {
			foreach( $option_values_deep as $option ) {
				$option_values[$option[&#039;value&#039;]] = $option[&#039;label&#039;];
			}
		}

		// admin only
		$admin_only = geodir_cfi_admin_only($cf);
		$conditional_attrs = geodir_conditional_field_attrs( $cf );

		// Help text
		$help_text = $cf[&#039;desc&#039;] != &#039;&#039; ? __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; ) : &#039;&#039;;

		$value = geodir_get_cf_value( $cf );

		// required
		$_required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;
		$required = false;
		$extra_attributes = array();

		if ( ! empty( $_required ) ) {
			$cf_name = esc_attr( $cf[&#039;name&#039;] );
			$extra_attributes[&#039;onchange&#039;] = &quot;if(jQuery(&#039;input[name=\&quot;&quot; . $cf_name . &quot;\&quot;]:checked&#039;).length || !jQuery(&#039;input#&quot; . $cf_name . &quot;0&#039;).is(&#039;:visible&#039;)){jQuery(&#039;#&quot; . $cf_name . &quot;0&#039;).removeAttr(&#039;required&#039;)}else{jQuery(&#039;#&quot; . $cf_name . &quot;0&#039;).attr(&#039;required&#039;,true)}&quot;;
			$extra_attributes[&#039;oninput&#039;] = &quot;try{document.getElementById(&#039;&quot; . $cf_name . &quot;0&#039;).setCustomValidity(&#039;&#039;)}catch(e){}&quot;;
			$extra_attributes[&#039;oninvalid&#039;] = &#039;try{document.getElementById(\&#039;&#039; . $cf_name . &#039;0\&#039;).setCustomValidity(\&#039;&#039; . esc_attr( addslashes( __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; ) ) ) . &#039;\&#039;)}catch(e){}&#039;;

			if ( empty( $value ) ) {
				$required = true;
			}
		}

		$html = aui()-&gt;radio(
			array(
				&#039;id&#039;                =&gt; $cf[&#039;name&#039;],
				&#039;name&#039;              =&gt; $cf[&#039;name&#039;],
				&#039;type&#039;              =&gt; &quot;radio&quot;,
				&#039;title&#039;             =&gt; esc_attr__( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; ),
				&#039;label&#039;             =&gt; esc_attr__( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; ) . $admin_only . $_required,
				&#039;label_type&#039;        =&gt; ! empty( $geodir_label_type ) ? $geodir_label_type : &#039;horizontal&#039;,
				&#039;help_text&#039;         =&gt; $help_text,
				&#039;class&#039;             =&gt; &#039;&#039;,
				&#039;value&#039;             =&gt; $value,
				&#039;required&#039;          =&gt; $required,
				&#039;options&#039;           =&gt; $option_values,
				&#039;wrap_attributes&#039;   =&gt; $conditional_attrs,
				&#039;extra_attributes&#039;  =&gt; $extra_attributes
			)
		);
	}

	return $html;
}
add_filter(&#039;geodir_custom_field_input_radio&#039;,&#039;geodir_cfi_radio&#039;,10,2);


/**
 * Get the html input for the custom field: checkbox
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_checkbox($html,$cf){

    // check it its a terms and conditions in admin area
    if(is_admin() &amp;&amp; isset($cf[&#039;field_type_key&#039;]) &amp;&amp; $cf[&#039;field_type_key&#039;]==&#039;terms_conditions&#039;){ return $html;}

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_checkbox_{$html_var}&quot;)){
        /**
         * Filter the checkbox html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_checkbox_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if ( empty( $html ) ) {
        global $geodir_label_type;

        $title = &#039;&#039;;
        $value = geodir_get_cf_value( $cf );
        // Set default checked.
        if ( $value === &#039;&#039; &amp;&amp; $cf[&#039;default&#039;] ) {
            $value = &#039;1&#039;;
        }
        $checked          = $value == &#039;1&#039; ? true : false;
        $extra_attributes = array();
        $validation_text = &#039;&#039;;

        //validation
        if ( isset( $cf[&#039;validation_pattern&#039;] ) &amp;&amp; $cf[&#039;validation_pattern&#039;] ) {
            $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
        }

        // required message
        if ( ! empty( $cf[&#039;is_required&#039;] ) &amp;&amp; ! empty( $cf[&#039;required_msg&#039;] ) ) {
            $title = __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; );
            $validation_text = $title;
        }

        // validation message
        if ( isset( $cf[&#039;validation_msg&#039;] ) &amp;&amp; $cf[&#039;validation_msg&#039;] ) {
            $title = $cf[&#039;validation_msg&#039;];
            $validation_text = $title;
        }

        // field type (used for validation)
        $extra_attributes[&#039;field_type&#039;] = $cf[&#039;type&#039;];


        // required
        $required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // help text
        $help_text = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );

        if ( isset( $cf[&#039;field_type_key&#039;] ) &amp;&amp; $cf[&#039;field_type_key&#039;] == &#039;terms_conditions&#039; ) {
            $tc        = geodir_terms_and_conditions_page_id();
            $tc_link   = get_permalink( $tc );
            $help_text = &quot;&lt;a href=&#039;$tc_link&#039; target=&#039;_blank&#039;&gt;&quot; . __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; ) . &quot; &lt;i class=\&quot;fas fa-external-link-alt\&quot; aria-hidden=\&quot;true\&quot;&gt;&lt;/i&gt;&lt;/a&gt;&quot;;
        }

        $html = &#039;&lt;input type=&quot;hidden&quot; name=&quot;&#039; . $cf[&#039;name&#039;] . &#039;&quot; id=&quot;checkbox_&#039; . $cf[&#039;name&#039;] . &#039;&quot; value=&quot;0&quot;/&gt;&#039;; // this ensures a value is sent, if the next one is checked then that will set it as true

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);
        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        $html .= aui()-&gt;input(
            array(
                &#039;id&#039;               =&gt; $cf[&#039;name&#039;],
                &#039;name&#039;             =&gt; $cf[&#039;name&#039;],
                &#039;type&#039;             =&gt; &quot;checkbox&quot;,
                &#039;value&#039;            =&gt; &#039;1&#039;,
                &#039;title&#039;            =&gt; $title,
                &#039;label&#039;            =&gt; __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; ) . $admin_only. $required,
                &#039;label_show&#039;       =&gt; true,
                &#039;required&#039;          =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
                &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
                &#039;checked&#039;          =&gt; $checked,
                &#039;help_text&#039;        =&gt; $help_text,
                &#039;extra_attributes&#039; =&gt; $extra_attributes,
                &#039;validation_text&#039;  =&gt; $validation_text,
                &#039;wrap_attributes&#039;  =&gt; $conditional_attrs
            )
        );

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_checkbox&#039;,&#039;geodir_cfi_checkbox&#039;,10,2);


/**
 * Get the html input for the custom field: textarea
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_textarea($html,$cf){

    // don&#039;t show title in admin
    if(is_admin() &amp;&amp; isset($cf[&#039;htmlvar_name&#039;]) &amp;&amp; $cf[&#039;htmlvar_name&#039;]==&#039;post_content&#039;){return &#039;&#039;;}

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_textarea_{$html_var}&quot;)){
        /**
         * Filter the textarea html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_textarea_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        global $geodir_label_type;

        $validation_text = &#039;&#039;;
        $extra_attributes = array();
        $value = geodir_get_cf_value($cf);
        $extra_fields = maybe_unserialize($cf[&#039;extra_fields&#039;]);
        $html_editor = ! empty( $extra_fields[&#039;advanced_editor&#039;] );

        //validation
        if ( isset( $cf[&#039;validation_pattern&#039;] ) &amp;&amp; $cf[&#039;validation_pattern&#039;] ) {
            $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
        }

        // Required message
        if ( ! empty( $cf[&#039;is_required&#039;] ) &amp;&amp; ! empty( $cf[&#039;required_msg&#039;] ) ) {
            $validation_text = __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; );
        }

        // Validation message
        if ( ! empty( $cf[&#039;validation_msg&#039;] ) ) {
            $validation_text = __( $cf[&#039;validation_msg&#039;], &#039;geodirectory&#039; );
        }

        // wysiwyg
        $wysiwyg = apply_filters( &#039;geodir_custom_field_allow_html_editor&#039;, $html_editor, $cf );

        // Allow html tags
        $allow_tags = apply_filters( &#039;geodir_custom_field_textarea_allow_tags&#039;, ( $wysiwyg || $cf[&#039;name&#039;] == &#039;video&#039; ), $cf );

        // field type (used for validation)
        $extra_attributes[&#039;field_type&#039;] =  $wysiwyg ? &#039;editor&#039; :  $cf[&#039;type&#039;];

        $extra_attributes = apply_filters( &#039;geodir_cfi_aui_textarea_attributes&#039;, $extra_attributes, $cf );

        // required
        $required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);
        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        // help text
        $help_text = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );

        $html = aui()-&gt;textarea(array(
            &#039;name&#039;       =&gt; $cf[&#039;name&#039;],
            &#039;class&#039;      =&gt; &#039;&#039;,
            &#039;id&#039;         =&gt; $cf[&#039;name&#039;],
            &#039;placeholder&#039;=&gt; esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;),
            &#039;title&#039;      =&gt; $validation_text,
            &#039;value&#039;      =&gt; stripslashes($value),
            &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
            &#039;required&#039;   =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
            &#039;label&#039;      =&gt; __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;).$admin_only . $required,
            &#039;validation_text&#039;   =&gt; $validation_text,
            &#039;validation_pattern&#039; =&gt; !empty($cf[&#039;validation_pattern&#039;]) ? $cf[&#039;validation_pattern&#039;] : &#039;&#039;,
            &#039;no_wrap&#039;    =&gt; false,
            &#039;rows&#039;      =&gt; 8,
            &#039;wysiwyg&#039;   =&gt; $wysiwyg ? array(&#039;quicktags&#039; =&gt; true) : false,
            &#039;allow_tags&#039; =&gt; $allow_tags,
            &#039;help_text&#039;        =&gt; $help_text,
            &#039;extra_attributes&#039; =&gt; $extra_attributes,
            &#039;wrap_attributes&#039; =&gt; $conditional_attrs
        ));
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_textarea&#039;,&#039;geodir_cfi_textarea&#039;,10,2);


/**
 * Get the html input for the custom field: select
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_select($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_select_{$html_var}&quot;)){
        /**
         * Filter the select html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_select_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {
        global $geodir_label_type;

        $extra_attributes = array();
        $value = geodir_get_cf_value($cf);
        $validation_text = &#039;&#039;;

        // Required
        $required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // Required message
        if ( $required &amp;&amp; ! empty( $cf[&#039;required_msg&#039;] ) ) {
            $validation_text = __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; );
        }

        // Validation message
        if ( ! empty( $cf[&#039;validation_msg&#039;] ) ) {
            $validation_text = __( $cf[&#039;validation_msg&#039;], &#039;geodirectory&#039; );
        }

        // Validation
        if ( ! empty( $cf[&#039;validation_pattern&#039;] ) ) {
            $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
        }

        $title = $validation_text;

        // help text
        $help_text = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );

        // placeholder
        $placeholder = esc_attr__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; );
        if ( empty( $placeholder ) ) {
            $placeholder = wp_sprintf( __( &#039;Select %s&amp;hellip;&#039;, &#039;geodirectory&#039; ), __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;));
        }

        //extra
        $extra_attributes[&#039;data-placeholder&#039;] = esc_attr( $placeholder );
        $extra_attributes[&#039;option-ajaxchosen&#039;] = &#039;false&#039;;

        // Set validation message
        if ( ! empty( $validation_text ) ) {
            $extra_attributes[&#039;oninvalid&#039;] = &#039;try{this.setCustomValidity(\&#039;&#039; . esc_attr( addslashes( $validation_text ) ) . &#039;\&#039;)}catch(e){}&#039;;
            $extra_attributes[&#039;onchange&#039;] = &#039;try{this.setCustomValidity(\&#039;\&#039;)}catch(e){}&#039;;
        }

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);
        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        $html .= aui()-&gt;select( array(
            &#039;id&#039;               =&gt; $cf[&#039;name&#039;],
            &#039;name&#039;               =&gt; $cf[&#039;name&#039;],
            &#039;title&#039;             =&gt; $title,
            &#039;placeholder&#039;      =&gt; $placeholder,
            &#039;value&#039;            =&gt; $value,
            &#039;required&#039;   =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
            &#039;label_show&#039;       =&gt; true,
            &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
            &#039;label&#039;      =&gt; __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;).$admin_only.$required,
            &#039;validation_text&#039;    =&gt; $validation_text,
            &#039;validation_pattern&#039; =&gt; !empty($cf[&#039;validation_pattern&#039;]) ? $cf[&#039;validation_pattern&#039;] : &#039;&#039;,
            &#039;help_text&#039;        =&gt; $help_text,
            &#039;extra_attributes&#039; =&gt; $extra_attributes,
            &#039;options&#039;          =&gt; geodir_string_values_to_options($cf[&#039;option_values&#039;], true),
            &#039;select2&#039;       =&gt; true,
            &#039;data-allow-clear&#039; =&gt; true,
            &#039;wrap_attributes&#039; =&gt; $conditional_attrs
        ) );

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_select&#039;,&#039;geodir_cfi_select&#039;,10,2);


/**
 * Get the html input for the custom field: multiselect
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_multiselect( $html, $cf ) {
	$html_var = $cf[&#039;htmlvar_name&#039;];

	// Check if there is a custom field specific filter.
	if ( has_filter( &quot;geodir_custom_field_input_multiselect_{$html_var}&quot; ) ) {
		/**
		 * Filter the multiselect html by individual custom field.
		 *
		 * @param string $html The html to filter.
		 * @param array $cf The custom field array.
		 * @since 1.6.6
		 */
		$html = apply_filters( &quot;geodir_custom_field_input_multiselect_{$html_var}&quot;, $html, $cf );
	}

	// If no html then we run the standard output.
	if ( empty( $html ) ) {
		global $geodir_label_type;
		$extra_attributes = array();
		$_value = geodir_get_cf_value($cf);
		$extra_fields = !empty($cf[&#039;extra_fields&#039;]) ? maybe_unserialize($cf[&#039;extra_fields&#039;]) : NULL;
		$multi_display = !empty($extra_fields[&#039;multi_display_type&#039;]) ? $extra_fields[&#039;multi_display_type&#039;] : &#039;select&#039;;
		$validation_text = &#039;&#039;;
		$id = $cf[&#039;htmlvar_name&#039;];

		// required
		$required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

		// Required message
		if ( $required &amp;&amp; ! empty( $cf[&#039;required_msg&#039;] ) ) {
			$validation_text = __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; );
		}

		// Validation message
		if ( ! empty( $cf[&#039;validation_msg&#039;] ) ) {
			$validation_text = __( $cf[&#039;validation_msg&#039;], &#039;geodirectory&#039; );
		}

				// Validation
		if ( ! empty( $cf[&#039;validation_pattern&#039;] ) ) {
			$extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
		}

		$title = $validation_text;

		// help text
		$help_text = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );

		// placeholder
		$placeholder = esc_attr__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; );
		if ( empty( $placeholder ) ) {
			$placeholder = wp_sprintf( __( &#039;Select %s&amp;hellip;&#039;, &#039;geodirectory&#039; ), __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;));
		}

		$value = ( ! is_array( $_value ) &amp;&amp; $_value !== &#039;&#039; ) ? trim( $_value ) : $_value;
		if ( ! is_array( $value ) ) {
			$value = explode( &#039;,&#039;, $value );
		}

		if ( ! empty( $value ) ) {
			$value = stripslashes_deep( $value );
			$value = array_map( &#039;trim&#039;, $value );
		}
		$value = array_filter( $value );

		//extra
		$extra_attributes[&#039;data-placeholder&#039;] = esc_attr( $placeholder );
		$extra_attributes[&#039;option-ajaxchosen&#039;] = &#039;false&#039;;

		// admin only
		$admin_only = geodir_cfi_admin_only( $cf );

		if ( $multi_display == &#039;select&#039; ) {
			// Set validation message
			if ( ! empty( $validation_text ) ) {
				$extra_attributes[&#039;oninvalid&#039;] = &#039;try{this.setCustomValidity(\&#039;&#039; . esc_attr( addslashes( $validation_text ) ) . &#039;\&#039;)}catch(e){}&#039;;
				$extra_attributes[&#039;onchange&#039;] = &#039;try{this.setCustomValidity(\&#039;\&#039;)}catch(e){}&#039;;
			}

			$conditional_attrs = geodir_conditional_field_attrs( $cf );

			$html .= aui()-&gt;select( array(
				&#039;id&#039;                 =&gt; $cf[&#039;name&#039;],
				&#039;name&#039;               =&gt; $cf[&#039;name&#039;],
				&#039;title&#039;              =&gt; $title,
				&#039;placeholder&#039;        =&gt; $placeholder,
				&#039;value&#039;              =&gt; $value,
				&#039;required&#039;           =&gt; ! empty( $cf[&#039;is_required&#039;] ) ? true : false,
				&#039;label_show&#039;         =&gt; true,
				&#039;label_type&#039;         =&gt; ! empty( $geodir_label_type ) ? $geodir_label_type : &#039;horizontal&#039;,
				&#039;label&#039;              =&gt; __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; ) . $admin_only . $required,
				&#039;validation_text&#039;    =&gt; $validation_text,
				&#039;validation_pattern&#039; =&gt; ! empty( $cf[&#039;validation_pattern&#039;] ) ? $cf[&#039;validation_pattern&#039;] : &#039;&#039;,
				&#039;help_text&#039;          =&gt; $help_text,
				&#039;extra_attributes&#039;   =&gt; $extra_attributes,
				&#039;options&#039;            =&gt; geodir_string_values_to_options( $cf[&#039;option_values&#039;], true ),
				&#039;select2&#039;            =&gt; true,
				&#039;multiple&#039;           =&gt; true,
				&#039;data-allow-clear&#039;   =&gt; false,
				&#039;wrap_attributes&#039;    =&gt; $conditional_attrs
			) );
		} elseif ( $multi_display == &#039;radiox&#039; ) {
			$option_values_deep = geodir_string_to_options( $cf[&#039;option_values&#039;], true );
			$option_values = array();

			if ( ! empty( $option_values_deep ) ) {
				foreach( $option_values_deep as $option ) {
					$option_values[$option[&#039;value&#039;]] = $option[&#039;label&#039;];
				}
			}

			$conditional_attrs = geodir_conditional_field_attrs( $cf );

			$html .= aui()-&gt;radio(
				array(
					&#039;id&#039;                =&gt; $cf[&#039;name&#039;],
					&#039;name&#039;              =&gt; $cf[&#039;name&#039;],
					&#039;type&#039;              =&gt; &quot;radio&quot;,
					&#039;inline&#039;            =&gt; false,
					&#039;title&#039;             =&gt; esc_attr__($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;),
					&#039;label&#039;             =&gt; esc_attr__($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;).$admin_only.$required,
					&#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
					&#039;class&#039;             =&gt; &#039;&#039;,
					&#039;value&#039;             =&gt; $value,
					&#039;options&#039;           =&gt; $option_values,
					&#039;wrap_attributes&#039;   =&gt; $conditional_attrs
				)
			);
		} else {
			$conditional_attrs = geodir_conditional_field_attrs( $cf );
			$horizontal = true;
			ob_start();
			?&gt;
			&lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;_row&quot; class=&quot;&lt;?php if ( $cf[&#039;is_required&#039;] ) {echo &#039;required_field&#039;;} ?&gt; form-group row&quot;&lt;?php echo $conditional_attrs; ?&gt;&gt;
				&lt;label for=&quot;&lt;?php echo $id; ?&gt;&quot; class=&quot;&lt;?php echo $horizontal ? &#039;  col-sm-2 col-form-label&#039; : &#039;&#039;;?&gt;&quot;&gt;
					&lt;?php $frontend_title = esc_attr__( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
					echo ( trim( $frontend_title ) ) ? $frontend_title : &#039;&amp;nbsp;&#039;; echo $admin_only;?&gt;
					&lt;?php if ( $cf[&#039;is_required&#039;] ) {
						echo &#039;&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039;;
					} ?&gt;
				&lt;/label&gt;
			&lt;?php

			// Set hidden input to save empty value for checkbox set.
			if ( $multi_display == &#039;checkbox&#039; &amp;&amp; ! empty( $cf[&#039;name&#039;] ) ) {
				echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;&#039; . esc_attr( $cf[&#039;name&#039;] ) . &#039;&quot; value=&quot;&quot;/&gt;&#039;;
			}

			if ( $horizontal ) {
				echo &quot;&lt;div class=&#039;col-sm-10 mt-2&#039; &gt;&lt;div class=&#039; border rounded px-2 scrollbars-ios&#039; style=&#039;max-height: 150px;overflow-y:auto;overflow-x: hidden;&#039;&gt;&quot;;
			}

			$option_values_arr = geodir_string_values_to_options( $cf[&#039;option_values&#039;], true );

			if ( ! empty( $option_values_arr ) ) {
				foreach ( $option_values_arr as $i =&gt; $option_row ) {
					if ( isset( $option_row[&#039;optgroup&#039;] ) &amp;&amp; ( $option_row[&#039;optgroup&#039;] == &#039;start&#039; || $option_row[&#039;optgroup&#039;] == &#039;end&#039; ) ) {
						$option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;

						echo $option_row[&#039;optgroup&#039;] == &#039;start&#039; ? &#039;&lt;h6&gt;&#039; . $option_label . &#039;&lt;/h6&gt;&#039; : &#039;&#039;;
					} else {
						if ( ! is_array( $value) &amp;&amp; $value != &#039;&#039; ) {
							$value = trim( $value );
						}

						$option_label = isset($option_row[&#039;label&#039;]) ? $option_row[&#039;label&#039;] : &#039;&#039;;
						$option_value = isset($option_row[&#039;value&#039;]) ? $option_row[&#039;value&#039;] : &#039;&#039;;
						$checked = &#039;&#039;;

						if ( ( ! is_array( $value ) &amp;&amp; trim( $value ) != &#039;&#039; ) || ( is_array( $value ) &amp;&amp; ! empty( $value ) ) ) {
							if ( ! is_array( $value ) ) {
								$value_array = explode( &#039;,&#039;, $value );
							} else {
								$value_array = $value;
							}

							$value_array = stripslashes_deep( $value_array );

							if ( is_array( $value_array ) ) {
								$value_array = array_map( &#039;trim&#039;, $value_array );

								if ( in_array( $option_value, $value_array ) ) {
									$checked = &#039;checked=&quot;checked&quot;&#039;;
								}
							}
						}

						if ( $multi_display == &#039;checkbox&#039; ) {
							// Set checkbox required.
							$required = false;
							$extra_attributes = array();

							if ( ! empty( $cf[&#039;is_required&#039;] ) ) {
								$cf_name = esc_attr( $cf[&#039;name&#039;] );
								$extra_attributes[&#039;onchange&#039;] = &quot;if(jQuery(&#039;[name=\&quot;&quot; . $cf_name . &quot;[]\&quot;]:checked&#039;).length || !jQuery(&#039;input#&quot; . $cf_name . &quot;_0&#039;).is(&#039;:visible&#039;)){jQuery(&#039;#&quot; . $cf_name . &quot;_0&#039;).removeAttr(&#039;required&#039;)}else{jQuery(&#039;#&quot; . $cf_name . &quot;_0&#039;).attr(&#039;required&#039;,true)}&quot;;
								$extra_attributes[&#039;oninput&#039;] = &quot;try{document.getElementById(&#039;&quot; . $cf_name . &quot;_0&#039;).setCustomValidity(&#039;&#039;)}catch(e){}&quot;;

								if ( $i === 0 ) {
									$extra_attributes[&#039;oninvalid&#039;] = &#039;try{document.getElementById(\&#039;&#039; . $cf_name . &#039;_0\&#039;).setCustomValidity(\&#039;&#039; . esc_attr( addslashes( __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; ) ) ) . &#039;\&#039;)}catch(e){}&#039;;

									if ( empty( $value ) ) {
										$required = true;
									}
								}
							}

							echo aui()-&gt;input(
									array(
										&#039;name&#039;             =&gt; $cf[&#039;name&#039;] . &#039;[]&#039;,
										&#039;id&#039;               =&gt; $cf[&#039;name&#039;] .&#039;_&#039;. $i,
										&#039;type&#039;             =&gt; esc_attr( $multi_display ),
										&#039;value&#039;            =&gt; esc_attr( $option_value ),
										&#039;title&#039;            =&gt; $title,
										&#039;label&#039;            =&gt; $option_label,
										&#039;label_type&#039;       =&gt; &#039;hidden&#039;,
										&#039;no_wrap&#039;          =&gt; true,
										&#039;checked&#039;          =&gt; $checked,
										&#039;required&#039;         =&gt; $required,
										&#039;extra_attributes&#039; =&gt; $extra_attributes
									)
								);
						} else {
							// Set redio required.
							$required = false;
							$extra_attributes = array();

							if ( ! empty( $cf[&#039;is_required&#039;] ) ) {
								$cf_name = esc_attr( $cf[&#039;name&#039;] );
								$extra_attributes[&#039;onchange&#039;] = &quot;if(jQuery(&#039;input[name=\&quot;&quot; . $cf_name . &quot;\&quot;]:checked&#039;).length || !jQuery(&#039;input#&quot; . $cf_name . &quot;_00&#039;).is(&#039;:visible&#039;)){jQuery(&#039;#&quot; . $cf_name . &quot;_00&#039;).removeAttr(&#039;required&#039;)}else{jQuery(&#039;#&quot; . $cf_name . &quot;_00&#039;).attr(&#039;required&#039;,true)}&quot;;
								$extra_attributes[&#039;oninput&#039;] = &quot;try{document.getElementById(&#039;&quot; . $cf_name . &quot;_00&#039;).setCustomValidity(&#039;&#039;)}catch(e){}&quot;;

								if ( $i === 0 ) {
									$extra_attributes[&#039;oninvalid&#039;] = &#039;try{document.getElementById(\&#039;&#039; . $cf_name . &#039;_00\&#039;).setCustomValidity(\&#039;&#039; . esc_attr( addslashes( __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; ) ) ) . &#039;\&#039;)}catch(e){}&#039;;

									if ( empty( $value ) ) {
										$required = true;
									}
								}
							}

							if ( is_array( $value ) ) {
								$value = ! empty( $value ) ? $value[0] : &#039;&#039;;
							}
							echo aui()-&gt;radio(
								array(
									&#039;name&#039;              =&gt; $cf[&#039;name&#039;],
									&#039;id&#039;                =&gt; $cf[&#039;name&#039;] .&#039;_&#039;. $i,
									&#039;type&#039;              =&gt; &quot;radio&quot;,
									&#039;inline&#039;            =&gt; false,
									&#039;label&#039;             =&gt; &#039;&#039;,
									&#039;label_type&#039;        =&gt; &#039;hidden&#039;,
									&#039;wrap_class&#039;        =&gt; &#039;mb-1&#039;,
									&#039;class&#039;             =&gt; &#039;&#039;,
									&#039;value&#039;             =&gt; $value,
									&#039;options&#039;           =&gt; array( esc_attr( $option_value ) =&gt; $option_label ),
									&#039;required&#039;         =&gt; $required,
									&#039;extra_attributes&#039; =&gt; $extra_attributes
								)
							);
						}
					}
				}
			}

			$description = $help_text != &#039;&#039; &amp;&amp; class_exists( &quot;AUI_Component_Helper&quot; ) ? AUI_Component_Helper::help_text( $help_text ) : &#039;&#039;;

			if ( $horizontal ) {
				echo &quot;&lt;/div&gt;&quot; . $description . &quot;&lt;/div&gt;&quot;;
			}

			echo &quot;&lt;/div&gt;&quot;;

			$html .= ob_get_clean();
		}
	}

	return $html;
}
add_filter(&#039;geodir_custom_field_input_multiselect&#039;,&#039;geodir_cfi_multiselect&#039;,10,2);


/**
 * Get the html input for the custom field: html
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_html($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_html_{$html_var}&quot;)){
        /**
         * Filter the html html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_html_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {
        global $geodir_label_type;

        $title = &#039;&#039;;
        $extra_attributes = array();
        $value = geodir_get_cf_value($cf);
        $extra_fields = maybe_unserialize($cf[&#039;extra_fields&#039;]);
        $html_editor = ! empty( $extra_fields[&#039;advanced_editor&#039;] );

        //validation
        if ( isset( $cf[&#039;validation_pattern&#039;] ) &amp;&amp; $cf[&#039;validation_pattern&#039;] ) {
            $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
        }

        // validation message
        if ( isset( $cf[&#039;validation_msg&#039;] ) &amp;&amp; $cf[&#039;validation_msg&#039;] ) {
            $title = $cf[&#039;validation_msg&#039;];
        }

        // field type (used for validation)
        $extra_attributes[&#039;field_type&#039;] = &#039;editor&#039; ;

        // required
        $required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // help text
        $help_text = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );

        // $editor_settings = array(&#039;media_buttons&#039; =&gt; false, &#039;textarea_rows&#039; =&gt; 10);

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);

        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        $html = aui()-&gt;textarea(array(
            &#039;name&#039;       =&gt; $cf[&#039;name&#039;],
            &#039;class&#039;      =&gt; &#039;&#039;,
            &#039;id&#039;         =&gt; $cf[&#039;name&#039;],
            &#039;placeholder&#039;=&gt; esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;),
            &#039;title&#039;      =&gt; $title,
            &#039;value&#039;      =&gt; stripslashes($value),
            &#039;label_show&#039;       =&gt; true,
            &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
            &#039;required&#039;   =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
            &#039;label&#039;      =&gt; __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;).$admin_only.$required,
            &#039;validation_text&#039;   =&gt; !empty($cf[&#039;validation_msg&#039;]) ? $cf[&#039;validation_msg&#039;] : &#039;&#039;,
            &#039;validation_pattern&#039; =&gt; !empty($cf[&#039;validation_pattern&#039;]) ? $cf[&#039;validation_pattern&#039;] : &#039;&#039;,
            &#039;no_wrap&#039;    =&gt; false,
            &#039;rows&#039;      =&gt; 8,
            &#039;wysiwyg&#039;   =&gt; array(&#039;quicktags&#039; =&gt; true),
            &#039;help_text&#039;        =&gt; $help_text,
            &#039;extra_attributes&#039; =&gt; $extra_attributes,
            &#039;wrap_attributes&#039;  =&gt; $conditional_attrs
        ));

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_html&#039;,&#039;geodir_cfi_html&#039;,10,2);



/**
 * Get the html input for the custom field: datepicker
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_datepicker($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_datepicker_{$html_var}&quot;)){
        /**
         * Filter the datepicker html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_datepicker_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {
        global $geodir_label_type;

        $extra_attributes = array();
        $title = &#039;&#039;;
        $value = geodir_get_cf_value($cf);

        $name = $cf[&#039;name&#039;];
        $extra_fields = ! empty( $cf[&#039;extra_fields&#039;] ) ? maybe_unserialize( $cf[&#039;extra_fields&#039;] ) : NULL;
        $date_format = ! empty( $extra_fields[&#039;date_format&#039;] ) ? $extra_fields[&#039;date_format&#039;] : &#039;yy-mm-dd&#039;;
        $jquery_date_format = $date_format;

        // check if we need to change the format or not
        $date_format_len = strlen(str_replace(&#039; &#039;, &#039;&#039;, $date_format));
        if($date_format_len&gt;5){// if greater then 5 then it&#039;s the old style format.

            $search = array(&#039;dd&#039;,&#039;d&#039;,&#039;DD&#039;,&#039;mm&#039;,&#039;m&#039;,&#039;MM&#039;,&#039;yy&#039;); //jQuery UI datepicker format
            $replace = array(&#039;d&#039;,&#039;j&#039;,&#039;l&#039;,&#039;m&#039;,&#039;n&#039;,&#039;F&#039;,&#039;Y&#039;);//PHP date format

            $date_format = str_replace($search, $replace, $date_format);
        }else{
            $jquery_date_format = geodir_date_format_php_to_aui( $jquery_date_format );
        }

        if($value==&#039;0000-00-00&#039;){$value=&#039;&#039;;}//if date not set, then mark it empty

        $value = geodir_date($value, &#039;Y-m-d&#039;, $date_format);

        //validation
        if(isset($cf[&#039;validation_pattern&#039;]) &amp;&amp; $cf[&#039;validation_pattern&#039;]){
            $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
        }

        // validation message
        if(isset($cf[&#039;validation_msg&#039;]) &amp;&amp; $cf[&#039;validation_msg&#039;]){
            $title = $cf[&#039;validation_msg&#039;];
        }

        // field type (used for validation)
        $extra_attributes[&#039;field_type&#039;] = $cf[&#039;type&#039;];

        // flatpickr attributes
        $extra_attributes[&#039;data-alt-input&#039;] = &#039;true&#039;;
        $extra_attributes[&#039;data-alt-format&#039;] = $date_format;
        $extra_attributes[&#039;data-date-format&#039;] = &#039;Y-m-d&#039;;

        // minDate / maxDate
        if ( ! empty( $extra_fields[&#039;date_range&#039;] ) ) {
            $year_range = geodir_input_parse_year_range( $extra_fields[&#039;date_range&#039;] );

            // minDate
            if ( ! empty( $year_range[&#039;min_year&#039;] ) ) {
                $extra_attributes[&#039;data-min-date&#039;] = $year_range[&#039;min_year&#039;] . &#039;-01-01&#039;;
            }

            // maxDate
            if ( ! empty( $year_range[&#039;max_year&#039;] ) ) {
                $extra_attributes[&#039;data-max-date&#039;] = $year_range[&#039;max_year&#039;] . &#039;-12-31&#039;;
            }
        }

        /**
         * Filter datepicker field extra attributes.
         *
         * @since 2.1.1.11
         *
         * @param array $extra_attributes Field attributes.
         * @param array $cf The custom field array.
         */
        $extra_attributes = apply_filters( &#039;geodir_cfi_datepicker_extra_attrs&#039;, $extra_attributes, $cf );

        // required
        $required = !empty($cf[&#039;is_required&#039;]) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);

        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        $html = aui()-&gt;input(
            array(
                &#039;id&#039;                =&gt; $cf[&#039;name&#039;],
                &#039;name&#039;              =&gt; $cf[&#039;name&#039;],
                &#039;required&#039;          =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
                &#039;label&#039;              =&gt; __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;).$admin_only . $required,
                &#039;label_show&#039;       =&gt; true,
                &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
                &#039;type&#039;              =&gt; &#039;datepicker&#039;,
                &#039;title&#039;             =&gt;  $title,
                &#039;placeholder&#039;       =&gt; esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;),
                &#039;class&#039;             =&gt; &#039;&#039;,
                &#039;value&#039;             =&gt; $value, // esc_attr(stripslashes($value))
                &#039;help_text&#039;         =&gt; __($cf[&#039;desc&#039;], &#039;geodirectory&#039;),
                &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                &#039;wrap_attributes&#039;   =&gt; $conditional_attrs
            )
        );

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_datepicker&#039;,&#039;geodir_cfi_datepicker&#039;,10,2);


/**
 * Get the html input for the custom field: time
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_time($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_time_{$html_var}&quot;)){
        /**
         * Filter the time html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_time_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {
        global $geodir_label_type;

        $extra_attributes = array();
        $title = &#039;&#039;;
        $value = geodir_get_cf_value($cf);

        if ($value != &#039;&#039;)
            $value = date(&#039;H:i&#039;, strtotime($value));

        //validation
        if(isset($cf[&#039;validation_pattern&#039;]) &amp;&amp; $cf[&#039;validation_pattern&#039;]){
            $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
        }

        // validation message
        if(isset($cf[&#039;validation_msg&#039;]) &amp;&amp; $cf[&#039;validation_msg&#039;]){
            $title = $cf[&#039;validation_msg&#039;];
        }

        // field type (used for validation)
        $extra_attributes[&#039;field_type&#039;] = $cf[&#039;type&#039;];

        // flatpickr attributes
        $extra_attributes[&#039;data-enable-time&#039;] = &#039;true&#039;;
        $extra_attributes[&#039;data-no-calendar&#039;] = &#039;true&#039;;
        $extra_attributes[&#039;data-date-format&#039;] = &#039;H:i&#039;;

        // required
        $required = !empty($cf[&#039;is_required&#039;]) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);

        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        $html = aui()-&gt;input(
            array(
                &#039;id&#039;                =&gt; $cf[&#039;name&#039;],
                &#039;name&#039;              =&gt; $cf[&#039;name&#039;],
                &#039;required&#039;          =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
                &#039;label&#039;              =&gt; __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;).$admin_only.$required,
                &#039;label_show&#039;       =&gt; true,
                &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
                &#039;type&#039;              =&gt; &#039;timepicker&#039;,
                &#039;title&#039;             =&gt;  $title,
                &#039;placeholder&#039;       =&gt; esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;),
                &#039;class&#039;             =&gt; &#039;&#039;,
                &#039;value&#039;             =&gt; $value, // esc_attr(stripslashes($value))
                &#039;help_text&#039;         =&gt; __($cf[&#039;desc&#039;], &#039;geodirectory&#039;),
                &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                &#039;wrap_attributes&#039;   =&gt; $conditional_attrs
            )
        );
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_time&#039;,&#039;geodir_cfi_time&#039;,10,2);


/**
 * Get the html input for the custom field: address
 *
 * @global null|int $mapzoom Map zoom level.
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_address( $html, $cf ) {
    global $mapzoom;

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_address_{$html_var}&quot;)){
        /**
         * Filter the address html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_address_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        global $post,$gd_post,$geodirectory,$geodir_label_type;

        if(empty($gd_post)){
            $gd_post = geodir_get_post_info($post-&gt;ID);
        }


        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);
        $name = $cf[&#039;name&#039;];
        $type = $cf[&#039;type&#039;];
        $frontend_desc = $cf[&#039;desc&#039;];
        $is_required = $cf[&#039;is_required&#039;];
        $required_msg = $cf[&#039;required_msg&#039;];
        $frontend_title = $cf[&#039;frontend_title&#039;];
        $is_admin = $cf[&#039;for_admin_use&#039;];
        $extra_fields = stripslashes_deep(maybe_unserialize($cf[&#039;extra_fields&#039;]));
        $prefix = $name . &#039;_&#039;;
        $street2_title = &#039;&#039;;

        // street2
        if(!isset($extra_fields[&#039;street2_lable&#039;])){$extra_fields[&#039;street2_lable&#039;] = &#039;&#039;;}

        ($frontend_title != &#039;&#039;) ? $address_title = $frontend_title : $address_title = geodir_ucwords($prefix . &#039; street&#039;);
        ($extra_fields[&#039;street2_lable&#039;] != &#039;&#039;) ? $street2_title = $extra_fields[&#039;street2_lable&#039;] : $zip_title = geodir_ucwords($prefix . &#039; street2&#039;);
        ($extra_fields[&#039;zip_lable&#039;] != &#039;&#039;) ? $zip_title = $extra_fields[&#039;zip_lable&#039;] : $zip_title = geodir_ucwords($prefix . &#039; zip/post code &#039;);
        ($extra_fields[&#039;map_lable&#039;] != &#039;&#039;) ? $map_title = $extra_fields[&#039;map_lable&#039;] : $map_title = geodir_ucwords(&#039;set address on map&#039;);
        ($extra_fields[&#039;mapview_lable&#039;] != &#039;&#039;) ? $mapview_title = $extra_fields[&#039;mapview_lable&#039;] : $mapview_title = geodir_ucwords($prefix . &#039; mapview&#039;);

        $street  = $gd_post-&gt;street;
        $street2 = isset( $gd_post-&gt;street2 ) ? $gd_post-&gt;street2 : &#039;&#039;;
        $zip     = isset( $gd_post-&gt;zip ) ? $gd_post-&gt;zip : &#039;&#039;;
        $lat     = isset( $gd_post-&gt;latitude) ? $gd_post-&gt;latitude : &#039;&#039;;
        $lng     = isset( $gd_post-&gt;longitude) ? $gd_post-&gt;longitude : &#039;&#039;;
        $mapview = isset( $gd_post-&gt;mapview ) ? $gd_post-&gt;mapview : &#039;&#039;;
        $post_mapzoom = isset( $gd_post-&gt;mapzoom ) ? $gd_post-&gt;mapzoom : &#039;&#039;;

        // Map zoom
        if ( ! empty( $post_mapzoom ) ) {
            $_mapzoom = absint( $post_mapzoom );
        } elseif ( ! empty( $_REQUEST[&#039;mapzoom&#039;] ) ) {
            $_mapzoom = absint( $_REQUEST[&#039;mapzoom&#039;] );
        } else {
            $_mapzoom = 0;
        }

        if ( ! empty( $_mapzoom ) &amp;&amp; $_mapzoom &gt; 0 &amp;&amp; $_mapzoom &lt; 21 ) {
            $mapzoom = $_mapzoom;
        } else {
            $mapzoom = 12; // Default zoom
        }

        /**
         * Filter add listing page map zoom.
         *
         * @since 2.0.0.94
         *
         * @param int $mapzoom Map zoom level.
         * @param object $gd_post The GeoDirectory post object.
         */
        $mapzoom = apply_filters( &#039;geodir_add_listing_page_map_zoom&#039;, $mapzoom, $gd_post );

        $location = $geodirectory-&gt;location-&gt;get_default_location();
        if (empty($city)) $city = isset($location-&gt;city) ? $location-&gt;city : &#039;&#039;;
        if (empty($region)) $region = isset($location-&gt;region) ? $location-&gt;region : &#039;&#039;;
        if (empty($country)) $country = isset($location-&gt;country) ? $location-&gt;country : &#039;&#039;;

        $lat_lng_blank = false;
        if (empty($lat) &amp;&amp; empty($lng)) {
            $lat_lng_blank = true;
        }

        if (empty($lat)) $lat = isset($location-&gt;city_latitude) ? $location-&gt;city_latitude : &#039;&#039;;
        if (empty($lng)) $lng = isset($location-&gt;city_longitude) ? $location-&gt;city_longitude : &#039;&#039;;

        /**
         * Filter the default latitude.
         *
         * @since 1.0.0
         *
         * @param float $lat Default latitude.
         * @param bool $is_admin For admin use only?.
         */
        $lat = apply_filters(&#039;geodir_default_latitude&#039;, $lat, $is_admin);
        /**
         * Filter the default longitude.
         *
         * @since 1.0.0
         *
         * @param float $lat Default longitude.
         * @param bool $is_admin For admin use only?.
         */
        $lng = apply_filters(&#039;geodir_default_longitude&#039;, $lng, $is_admin);

        $locate_me = !empty($extra_fields[&#039;show_map&#039;]) &amp;&amp; GeoDir_Maps::active_map() != &#039;none&#039; ? true : false;

        $extra_attributes = array();
        $title = &#039;&#039;;
        $value = geodir_get_cf_value($cf);

        // field type (used for validation)
        $extra_attributes[&#039;field_type&#039;] = &#039;text&#039;;

        // required
        $required = !empty($cf[&#039;is_required&#039;]) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // NOTE autocomplete=&quot;new-password&quot; seems to be the only way to disable chrome autofill and others.
        $extra_attributes[&#039;autocomplete&#039;] = &#039;new-password&#039;;

        // make hint appear when field selected
        $extra_attributes[&#039;onfocus&#039;] = &quot;jQuery(&#039;.gd-locate-me-btn&#039;).tooltip(&#039;show&#039;);jQuery(this).attr(&#039;autocomplete&#039;,&#039;new-password&#039;);&quot;;
        $extra_attributes[&#039;onblur&#039;] = &quot;jQuery(&#039;.gd-locate-me-btn&#039;).tooltip(&#039;hide&#039;);&quot;;

        $address_label_type = !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;;
        if( $address_label_type == &#039;floating&#039;){  $address_label_type = &#039;hidden&#039;;}
        $placeholder = $cf[&#039;placeholder_value&#039;] != &#039;&#039; ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Enter a location&#039;, &#039;geodirectory&#039; );

        $conditional_attrs = geodir_conditional_field_attrs( $cf, &#039;street&#039;, &#039;text&#039; );

        echo aui()-&gt;input(
            array(
                &#039;id&#039;                =&gt; $prefix . &#039;street&#039;,
                &#039;name&#039;              =&gt; &#039;street&#039;,
                &#039;required&#039;          =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
                &#039;label&#039;              =&gt; esc_attr__($address_title, &#039;geodirectory&#039;) .$required,
                &#039;label_show&#039;       =&gt; true,
                &#039;label_type&#039;       =&gt; $address_label_type,
                &#039;type&#039;              =&gt; &#039;text&#039;,
                &#039;title&#039;             =&gt;  $title,
                &#039;placeholder&#039;       =&gt; esc_html( $placeholder ),
                &#039;class&#039;             =&gt; &#039;gd-add-listing-address-input&#039;,
                &#039;value&#039;             =&gt; esc_attr(stripslashes($value)),
                &#039;help_text&#039;         =&gt; __($cf[&#039;desc&#039;], &#039;geodirectory&#039;),
                &#039;input_group_right&#039; =&gt; $locate_me ? &#039;&lt;div class=&quot;gd-locate-me-btn input-group-text c-pointer&quot; data-toggle=&quot;tooltip&quot; title=&quot;&#039; . esc_attr__( &#039;use my location&#039;, &#039;geodirectory&#039; ) . &#039;&quot;&gt;&lt;i class=&quot;fas fa-location-arrow&quot;&gt;&lt;/i&gt;&lt;/div&gt;&#039; : &#039;&#039;,
                &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                &#039;wrap_attributes&#039;   =&gt; $conditional_attrs
            )
        );

        if (isset($extra_fields[&#039;show_street2&#039;]) &amp;&amp; $extra_fields[&#039;show_street2&#039;]) {
            $extra_attributes = array();
            $title = &#039;&#039;;
            // field type (used for validation)
            $extra_attributes[&#039;field_type&#039;] = &#039;text&#039;;
            echo aui()-&gt;input(
                array(
                    &#039;id&#039;                =&gt; $prefix . &#039;street2&#039;,
                    &#039;name&#039;              =&gt; &#039;street2&#039;,
                    &#039;required&#039;          =&gt; false,
                    &#039;label&#039;              =&gt; esc_attr__($street2_title, &#039;geodirectory&#039;),
                    &#039;label_show&#039;       =&gt; true,
                    &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
                    &#039;type&#039;              =&gt; &#039;text&#039;,
                    &#039;title&#039;             =&gt;  $title,
                    &#039;placeholder&#039;       =&gt; esc_html__( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039;),
                    &#039;class&#039;             =&gt; &#039;&#039;,
                    &#039;value&#039;             =&gt; esc_attr(stripslashes($street2)),
                    &#039;help_text&#039;         =&gt; sprintf( __(&#039;Please enter listing %s&#039;, &#039;geodirectory&#039;), __($street2_title, &#039;geodirectory&#039;) ),
                    &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                    &#039;wrap_attributes&#039;   =&gt; geodir_conditional_field_attrs( $cf, &#039;street2&#039;, &#039;text&#039; )
                )
            );
        }

        /**
         * Called after the address input on the add listings.
         *
         * This is used by the location manage to add further locations info etc.
         *
         * @since 1.0.0
         * @param array $cf The array of setting for the custom field. {@see geodir_custom_field_save()}.
         */
        do_action(&#039;geodir_address_extra_listing_fields&#039;, $cf);

        if ( isset( $extra_fields[&#039;show_zip&#039;] ) &amp;&amp; $extra_fields[&#039;show_zip&#039;] ) {
            $title = ! empty( $extra_fields[&#039;zip_required&#039;] ) ? __( &#039;Zip/Post Code is required!&#039;, &#039;geodirectory&#039; ) : &#039;&#039;;
            $extra_attributes = array();
            // field type (used for validation)
            $extra_attributes[&#039;field_type&#039;] = &#039;text&#039;;
            echo aui()-&gt;input(
                array(
                    &#039;id&#039;                =&gt; $prefix . &#039;zip&#039;,
                    &#039;name&#039;              =&gt; &#039;zip&#039;,
                    &#039;required&#039;          =&gt; ( ! empty( $extra_fields[&#039;zip_required&#039;] ) ? true : false ),
                    &#039;label&#039;             =&gt; esc_attr__( $zip_title, &#039;geodirectory&#039; ) . ( ! empty( $extra_fields[&#039;zip_required&#039;] ) ? $required : &#039;&#039; ),
                    &#039;label_show&#039;        =&gt; true,
                    &#039;label_type&#039;        =&gt; ! empty( $geodir_label_type ) ? $geodir_label_type : &#039;horizontal&#039;,
                    &#039;type&#039;              =&gt; &#039;text&#039;,
                    &#039;title&#039;             =&gt;  $title,
                    &#039;class&#039;             =&gt; &#039;&#039;,
                    &#039;value&#039;             =&gt; esc_attr( stripslashes( $zip ) ),
                    &#039;help_text&#039;         =&gt; wp_sprintf( __( &#039;Please enter listing %s&#039;, &#039;geodirectory&#039; ), __( $zip_title, &#039;geodirectory&#039; ) ),
                    &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                    &#039;wrap_attributes&#039;   =&gt; geodir_conditional_field_attrs( $cf, &#039;zip&#039;, &#039;text&#039; )
                )
            );
        } ?&gt;

        &lt;?php  if (isset($extra_fields[&#039;show_map&#039;]) &amp;&amp; $extra_fields[&#039;show_map&#039;]) { ?&gt;

            &lt;div id=&quot;geodir_&lt;?php echo $prefix . &#039;map&#039;; ?&gt;_row&quot; class=&quot;geodir_form_row clearfix gd-fieldset-details&quot;&lt;?php echo geodir_conditional_field_attrs( $cf, &#039;map&#039;, &#039;fieldset&#039; ); ?&gt;&gt;
                &lt;?php
                if ( geodir_core_multi_city() ) {
                    add_filter( &#039;geodir_add_listing_map_restrict&#039;, &#039;__return_false&#039; );
                }

                /**
                 * Contains add listing page map functions.
                 *
                 * @since 1.0.0
                 */
                include( GEODIRECTORY_PLUGIN_DIR . &#039;templates/bootstrap/map/map-add-listing.php&#039; );
                if ($lat_lng_blank) {
                    $lat = &#039;&#039;;
                    $lng = &#039;&#039;;
                }
                ?&gt;
            &lt;/div&gt;
            &lt;?php
            /* Hide latitude/longitude */
            $wrap_class = ( ( isset( $extra_fields[&#039;show_latlng&#039;] ) &amp;&amp; $extra_fields[&#039;show_latlng&#039;] ) || is_admin() ) ? &#039;&#039; : &#039;d-none gd-hidden-latlng&#039;;

            $title = &#039;&#039;;
            $extra_attributes = array();
            // required
            $required = !empty($cf[&#039;is_required&#039;]) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

            // field type (used for validation)
            $extra_attributes[&#039;field_type&#039;] = &#039;number&#039;;

            // number extras
            $extra_attributes[&#039;min&#039;] = &#039;-90&#039;;
            $extra_attributes[&#039;max&#039;] = &#039;90&#039;;
            $extra_attributes[&#039;step&#039;] = &#039;any&#039;;
            $extra_attributes[&#039;lang&#039;] = &#039;EN&#039;;
            $extra_attributes[&#039;size&#039;] = &#039;25&#039;;

            echo aui()-&gt;input(
                array(
                    &#039;id&#039;                =&gt; $prefix . &#039;latitude&#039;,
                    &#039;name&#039;              =&gt; &#039;latitude&#039;,
                    &#039;required&#039;          =&gt; $is_required,
                    &#039;label&#039;             =&gt; esc_attr__( &#039;Address Latitude&#039;, &#039;geodirectory&#039; ) . $required,
                    &#039;label_show&#039;        =&gt; true,
                    &#039;label_type&#039;        =&gt; ! empty( $geodir_label_type ) ? $geodir_label_type : &#039;horizontal&#039;,
                    &#039;type&#039;              =&gt; &#039;number&#039;,
                    &#039;title&#039;             =&gt;  $title,
                    &#039;value&#039;             =&gt; esc_attr( stripslashes( $lat ) ),
                    &#039;help_text&#039;         =&gt; __( &#039;Please enter latitude for google map perfection. eg. : &lt;b&gt;39.955823048131286&lt;/b&gt;&#039;, &#039;geodirectory&#039; ),
                    &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                    &#039;wrap_class&#039;        =&gt; $wrap_class,
                    &#039;wrap_attributes&#039;   =&gt; geodir_conditional_field_attrs( $cf, &#039;latitude&#039; )
                )
            );

            $title = &#039;&#039;;
            $extra_attributes = array();

            // field type (used for validation)
            $extra_attributes[&#039;field_type&#039;] = &#039;number&#039;;

            // number extras
            $extra_attributes[&#039;min&#039;] = &#039;-180&#039;;
            $extra_attributes[&#039;max&#039;] = &#039;180&#039;;
            $extra_attributes[&#039;step&#039;] = &#039;any&#039;;
            $extra_attributes[&#039;lang&#039;] = &#039;EN&#039;;
            $extra_attributes[&#039;size&#039;] = &#039;25&#039;;

            echo aui()-&gt;input(
                array(
                    &#039;id&#039;                =&gt; $prefix . &#039;longitude&#039;,
                    &#039;name&#039;              =&gt; &#039;longitude&#039;,
                    &#039;required&#039;          =&gt; $is_required,
                    &#039;label&#039;             =&gt; esc_attr__( &#039;Address Longitude&#039;, &#039;geodirectory&#039; ) . $required,
                    &#039;label_show&#039;        =&gt; true,
                    &#039;label_type&#039;        =&gt; ! empty( $geodir_label_type ) ? $geodir_label_type : &#039;horizontal&#039;,
                    &#039;type&#039;              =&gt; &#039;number&#039;,
                    &#039;title&#039;             =&gt;  $title,
                    &#039;value&#039;             =&gt; esc_attr( stripslashes( $lng ) ),
                    &#039;help_text&#039;         =&gt; __( &#039;Please enter longitude for google map perfection. eg. : &lt;b&gt;-75.14408111572266&lt;/b&gt;&#039;, &#039;geodirectory&#039; ),
                    &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                    &#039;wrap_class&#039;        =&gt; $wrap_class,
                    &#039;wrap_attributes&#039;   =&gt; geodir_conditional_field_attrs( $cf, &#039;longitude&#039; )
                )
            );
        } ?&gt;

        &lt;?php if (isset($extra_fields[&#039;show_mapview&#039;]) &amp;&amp; $extra_fields[&#039;show_mapview&#039;]) {

            $title = &#039;&#039;;
            $extra_attributes = array();
            // field type (used for validation)
            $extra_attributes[&#039;field_type&#039;] = &#039;text&#039;;
            echo aui()-&gt;select(
                array(
                    &#039;id&#039;                =&gt; $prefix . &#039;mapview&#039;,
                    &#039;name&#039;              =&gt; &#039;mapview&#039;,
                    &#039;required&#039;          =&gt; false,
                    &#039;label&#039;              =&gt; esc_attr__($mapview_title, &#039;geodirectory&#039;),
                    &#039;label_show&#039;       =&gt; true,
                    &#039;label_type&#039;       =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
                    &#039;type&#039;              =&gt; &#039;text&#039;,
                    &#039;title&#039;             =&gt;  $title,
                    &#039;class&#039;             =&gt; &#039;&#039;,
                    &#039;value&#039;             =&gt; esc_attr(stripslashes($mapview)),
                    &#039;help_text&#039;         =&gt; __(&#039;Please select listing map view to use&#039;, &#039;geodirectory&#039;),
                    &#039;extra_attributes&#039;  =&gt; $extra_attributes,
                    &#039;options&#039;           =&gt; array(
                        &#039;ROADMAP&#039;=&gt;__(&#039;Default Map&#039;, &#039;geodirectory&#039;),
                        &#039;SATELLITE&#039;=&gt;__(&#039;Satellite Map&#039;, &#039;geodirectory&#039;),
                        &#039;HYBRID&#039;=&gt;__(&#039;Hybrid Map&#039;, &#039;geodirectory&#039;),
                        &#039;TERRAIN&#039;=&gt;__(&#039;Terrain Map&#039;, &#039;geodirectory&#039;),
                    ),
                    &#039;wrap_attributes&#039;   =&gt; geodir_conditional_field_attrs( $cf, &#039;mapview&#039;, &#039;select&#039; )
                )
            );

        }?&gt;

        &lt;?php if ( isset( $post_mapzoom ) ) { ?&gt;
            &lt;div data-argument=&quot;&lt;?php echo $prefix . &#039;mapzoom&#039;; ?&gt;&quot; class=&quot;form-group row d-none&quot;&lt;?php echo geodir_conditional_field_attrs( $cf, &#039;mapzoom&#039;, &#039;hidden&#039; ); ?&gt;&gt;&lt;input type=&quot;hidden&quot; value=&quot;&lt;?php echo esc_attr( $post_mapzoom ); ?&gt;&quot; name=&quot;&lt;?php echo &#039;mapzoom&#039;; ?&gt;&quot; id=&quot;&lt;?php echo $prefix . &#039;mapzoom&#039;; ?&gt;&quot;/&gt;&lt;/div&gt;
        &lt;?php }

        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_address&#039;,&#039;geodir_cfi_address&#039;,10,2);



/**
 * Get the html input for the custom field: taxonomy
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_taxonomy($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;)){
        /**
         * Filter the taxonomy html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {

        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        if(is_admin() &amp;&amp; $cf[&#039;name&#039;]==&#039;post_tags&#039;){return;}

        //print_r($cf);echo &#039;###&#039;;
        $name = $cf[&#039;name&#039;];
        $frontend_title = $cf[&#039;frontend_title&#039;];
        $frontend_desc = $cf[&#039;desc&#039;];
        $is_required = $cf[&#039;is_required&#039;];
        $is_admin = $cf[&#039;for_admin_use&#039;];
        $required_msg = $cf[&#039;required_msg&#039;];
        $taxonomy = $cf[&#039;post_type&#039;].&quot;category&quot;;
        $placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Select Category&#039;, &#039;geodirectory&#039; );

        if ($value == $cf[&#039;default&#039;]) {
            $value = &#039;&#039;;
        } ?&gt;
        &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;_row&quot;
             class=&quot;&lt;?php if ($is_required) echo &#039;required_field&#039;;?&gt; geodir_form_row clearfix gd-fieldset-details&quot;&gt;
            &lt;label for=&quot;&lt;?php echo esc_attr( $taxonomy ); ?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($frontend_title, &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; ?&gt;
                &lt;?php if ($is_required) echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;

            &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;&quot; class=&quot;geodir_taxonomy_field&quot; style=&quot;float:left; width:70%;&quot;&gt;
                &lt;?php
                global $wpdb, $gd_post, $cat_display, $post_cat, $package_id, $exclude_cats, $post;

                $exclude_cats = array();

                $package = geodir_get_post_package( $gd_post, $cf[&#039;post_type&#039;] );
                //if ($is_admin == &#039;1&#039;) {
                if ( ! empty( $package ) &amp;&amp; isset( $package-&gt;exclude_category ) ) {
                    if ( is_array( $package-&gt;exclude_category ) ) {
                        $exclude_cats = $package-&gt;exclude_category;
                    } else {
                        $exclude_cats = $package-&gt;exclude_category != &#039;&#039; ? explode( &#039;,&#039;, $package-&gt;exclude_category ) : array();
                    }
                }
                //}

                $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );
                if ( is_array( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;cat_display_type&#039;] ) ) {
                    $cat_display = $extra_fields[&#039;cat_display_type&#039;];
                } else {
                    $cat_display = &#039;select&#039;;
                }

                if (isset($_REQUEST[&#039;backandedit&#039;]) &amp;&amp; !empty($post_cat[&#039;post_category&#039;]) &amp;&amp; is_array($post_cat[&#039;post_category&#039;])) {
                    $post_cat = implode(&quot;,&quot;, $post_cat[&#039;post_category&#039;]);
                } else {
                    if (isset($_REQUEST[&#039;pid&#039;]) &amp;&amp; $_REQUEST[&#039;pid&#039;] != &#039;&#039;)
                        $post_cat = geodir_get_post_meta($_REQUEST[&#039;pid&#039;], &#039;post_category&#039;, true);
                }

                $category_limit = ! empty( $package ) &amp;&amp; isset( $package-&gt;category_limit ) ? absint( $package-&gt;category_limit ) : 0;
                $category_limit = (int) apply_filters( &#039;geodir_cfi_post_categories_limit&#039;, $category_limit, $post, $package );

                if ( $cat_display != &#039;&#039; ) {
                    $required_limit_msg = &#039;&#039;;
                    if ( $category_limit &gt; 0 &amp;&amp; $cat_display != &#039;select&#039; &amp;&amp; $cat_display != &#039;radio&#039; ) {
                        $required_limit_msg = wp_sprintf( __( &#039;Only select %d categories for this package.&#039;, &#039;geodirectory&#039; ), array( $category_limit ) );
                    } else {
                        $required_limit_msg = $required_msg;
                    }

                    echo &#039;&lt;input type=&quot;hidden&quot; cat_limit=&quot;&#039; . $category_limit . &#039;&quot; id=&quot;cat_limit&quot; value=&quot;&#039; . esc_attr($required_limit_msg) . &#039;&quot; name=&quot;cat_limit[&#039; . $taxonomy . &#039;]&quot;  /&gt;&#039;;
                    echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;default_category&quot; value=&quot;&#039; . esc_attr( geodir_get_cf_default_category_value() ) . &#039;&quot;&gt;&#039;;

                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;) {
                        $data_attrs = &#039;&#039;;
                        if ( $category_limit == 1 ) {
                            $cat_display = &#039;select&#039;; // Force single select.
                        } elseif ( $category_limit &gt; 0 ) {
                            $data_attrs .= &#039; data-maximum-selection-length=&quot;&#039; . $category_limit . &#039;&quot;&#039;;
                        }
                        $multiple = &#039;&#039;;
                        $default_field = &#039;&#039;;
                        if ($cat_display == &#039;multiselect&#039;) {
                            $multiple = &#039;multiple=&quot;multiple&quot;&#039;;
                            $default_field = &#039;data-cmultiselect=&quot;default_category&quot;&#039;;
                        } else {
                            $default_field = &#039;data-cselect=&quot;default_category&quot;&#039;;
                        }
                        echo &#039;&lt;select id=&quot;&#039; .$taxonomy . &#039;&quot; &#039; . $multiple . &#039; type=&quot;&#039; . $taxonomy . &#039;&quot; name=&quot;tax_input[&#039;.$taxonomy.&#039;][]&quot; alt=&quot;&#039; . $taxonomy . &#039;&quot; field_type=&quot;&#039; . $cat_display . &#039;&quot; class=&quot;geodir_textfield textfield_x geodir-select&quot; data-placeholder=&quot;&#039; . esc_attr( $placeholder ) . &#039;&quot; &#039; . $default_field . &#039;&#039; . $data_attrs . &#039;&gt;&#039;;

                        if ($cat_display == &#039;select&#039;)
                            echo &#039;&lt;option value=&quot;&quot;&gt;&#039; . __(&#039;Select Category&#039;, &#039;geodirectory&#039;) . &#039;&lt;/option&gt;&#039;;

                    }

                    echo geodir_custom_taxonomy_walker($taxonomy);

                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;)
                        echo &#039;&lt;/select&gt;&#039;;

                }

                ?&gt;
            &lt;/div&gt;

            &lt;span class=&quot;geodir_message_note&quot;&gt;&lt;?php _e($frontend_desc, &#039;geodirectory&#039;);?&gt;&lt;/span&gt;
            &lt;?php if ($is_required) { ?&gt;
                &lt;span class=&quot;geodir_message_error&quot;&gt;&lt;?php _e($required_msg, &#039;geodirectory&#039;); ?&gt;&lt;/span&gt;
            &lt;?php } ?&gt;
        &lt;/div&gt;

        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_taxonomy&#039;,&#039;geodir_cfi_taxonomy&#039;,10,2);


/**
 * Get the html input for the custom field: taxonomy
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_categories($html,$cf){

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if(has_filter(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;)){
        /**
         * Filter the taxonomy html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_taxonomy_{$html_var}&quot;,$html,$cf);
    }

    // If no html then we run the standard output.
    if(empty($html)) {
        global $geodir_label_type;
        ob_start(); // Start  buffering;
        $value = geodir_get_cf_value($cf);

        if(is_admin() &amp;&amp; $cf[&#039;name&#039;]==&#039;post_tags&#039;){return;}

        $horizontal = empty( $geodir_label_type ) || $geodir_label_type == &#039;horizontal&#039; ? true : false;
        //print_r($cf);echo &#039;###&#039;;
        $name = $cf[&#039;name&#039;];
        $frontend_title = $cf[&#039;frontend_title&#039;];
        $frontend_desc = $cf[&#039;desc&#039;];
        $is_required = $cf[&#039;is_required&#039;];
        $is_admin = $cf[&#039;for_admin_use&#039;];
        $required_msg = $cf[&#039;required_msg&#039;];
        $taxonomy = $cf[&#039;post_type&#039;].&quot;category&quot;;
        $placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Select Category&#039;, &#039;geodirectory&#039; );

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);
        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        if ($value == $cf[&#039;default&#039;]) {
            $value = &#039;&#039;;
        } ?&gt;

        &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;_row&quot;
             class=&quot;&lt;?php echo esc_attr( $cf[&#039;css_class&#039;] ); ?&gt; &lt;?php if ($is_required) echo &#039;required_field&#039;;?&gt; form-group &lt;?php echo $horizontal ? &#039; row&#039; : &#039;&#039;;?&gt;&quot;  data-argument=&quot;&lt;?php echo esc_attr($taxonomy);?&gt;&quot;&lt;?php echo $conditional_attrs; ?&gt;&gt;
            &lt;label for=&quot;cat_limit&quot; class=&quot; &lt;?php echo $horizontal ? &#039; col-sm-2 col-form-label&#039; : &#039;&#039;; echo $geodir_label_type == &#039;hidden&#039; || $geodir_label_type==&#039;floating&#039; ? &#039; sr-only &#039; : &#039;&#039;;?&gt;&quot;&gt;
                &lt;?php $frontend_title = __($frontend_title, &#039;geodirectory&#039;);
                echo (trim($frontend_title)) ? $frontend_title : &#039;&amp;nbsp;&#039;; echo $admin_only;?&gt;
                &lt;?php if ($is_required) echo &#039;&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039;;?&gt;
            &lt;/label&gt;

            &lt;div id=&quot;&lt;?php echo $taxonomy;?&gt;_wrap&quot; class=&quot;geodir_taxonomy_field &lt;?php echo $horizontal ? &#039; col-sm-10&#039; : &#039;&#039;;?&gt;&quot; &gt;
                &lt;?php

                global $wpdb, $gd_post, $cat_display, $post_cat, $package_id, $exclude_cats;

                $exclude_cats = array();

                $package = geodir_get_post_package( $gd_post, $cf[&#039;post_type&#039;] );
                //if ($is_admin == &#039;1&#039;) {
                if ( ! empty( $package ) &amp;&amp; isset( $package-&gt;exclude_category ) ) {
                    if ( is_array( $package-&gt;exclude_category ) ) {
                        $exclude_cats = $package-&gt;exclude_category;
                    } else {
                        $exclude_cats = $package-&gt;exclude_category != &#039;&#039; ? explode( &#039;,&#039;, $package-&gt;exclude_category ) : array();
                    }
                }
                //}

                $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );
                if ( is_array( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;cat_display_type&#039;] ) ) {
                    $cat_display = $extra_fields[&#039;cat_display_type&#039;];
                } else {
                    $cat_display = &#039;select&#039;;
                }

                $post_cat = geodir_get_cf_value($cf);

                $category_limit = ! empty( $package ) &amp;&amp; isset( $package-&gt;category_limit ) ? absint( $package-&gt;category_limit ) : 0;
                $category_limit = (int) apply_filters( &#039;geodir_cfi_post_categories_limit&#039;, $category_limit, $gd_post, $package );

                if ($cat_display != &#039;&#039;) {
                    $required_limit_msg = &#039;&#039;;
                    if ($category_limit &gt; 0 &amp;&amp; $cat_display != &#039;select&#039; &amp;&amp; $cat_display != &#039;radio&#039;) {
                        $required_limit_msg = wp_sprintf( __(&#039;Only select %d categories for this package.&#039;, &#039;geodirectory&#039;), $category_limit );
                    } else {
                        $required_limit_msg = $required_msg;
                    }

                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;) {
                        $data_attrs = &#039;&#039;;
                        if ( $category_limit == 1 ) {
                            $cat_display = &#039;select&#039;; // Force single select.
                        } elseif ( $category_limit &gt; 0 ) {
                            $data_attrs .= &#039; data-maximum-selection-length=&quot;&#039; . $category_limit . &#039;&quot;&#039;;
                        }
                        $multiple = &#039;&#039;;
                        $default_field = &#039;&#039;;
                        if ($cat_display == &#039;multiselect&#039;) {
                            $multiple = &#039;multiple=&quot;multiple&quot;&#039;;
                            $default_field = &#039;data-cmultiselect=&quot;default_category&quot;&#039;;
                        } else {
                            $default_field = &#039;data-cselect=&quot;default_category&quot;&#039;;
                        }

                        // Required category message.
                        if ( ! empty( $required_msg ) ) {
                            $required_msg = __( $required_msg, &#039;geodirectory&#039; );
                        } else {
                            $required_msg = __( &#039;Select at least one category from the list!&#039;, &#039;geodirectory&#039; );
                        }
                        $data_attrs .= &#039; required oninvalid=&quot;setCustomValidity(\&#039;&#039; . esc_attr( $required_msg ) . &#039;\&#039;)&quot; onchange=&quot;try{setCustomValidity(\&#039;\&#039;)}catch(e){}&quot;&#039;;

                        echo &#039;&lt;select  id=&quot;&#039; .$taxonomy . &#039;&quot; &#039; . $multiple . &#039; type=&quot;&#039; . $taxonomy . &#039;&quot; name=&quot;tax_input[&#039;.$taxonomy.&#039;][]&quot; alt=&quot;&#039; . $taxonomy . &#039;&quot; field_type=&quot;&#039; . $cat_display . &#039;&quot; class=&quot;geodir-category-select geodir-select aui-select2&quot; data-placeholder=&quot;&#039; . esc_attr( $placeholder ) . &#039;&quot; &#039; . $default_field . &#039; aria-label=&quot;&#039; . esc_attr( $placeholder ) . &#039;&quot; style=&quot;width:100%&quot;&#039; . $data_attrs . &#039;&gt;&#039;;

                        if ($cat_display == &#039;select&#039;)
                            echo &#039;&lt;option value=&quot;&quot;&gt;&#039; . __(&#039;Select Category&#039;, &#039;geodirectory&#039;) . &#039;&lt;/option&gt;&#039;;
                    }

                    echo GeoDir_Admin_Taxonomies::taxonomy_walker($taxonomy);

                    if ($cat_display == &#039;select&#039; || $cat_display == &#039;multiselect&#039;)
                        echo &#039;&lt;/select&gt;&#039;;

                }

                echo class_exists(&quot;AUI_Component_Helper&quot;) ? AUI_Component_Helper::help_text(__($frontend_desc, &#039;geodirectory&#039;)) : &#039;&#039;;
                ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;?php
        // cat limit
        echo &#039;&lt;input type=&quot;hidden&quot; cat_limit=&quot;&#039; . $category_limit . &#039;&quot; id=&quot;cat_limit&quot; value=&quot;&#039; . esc_attr($required_limit_msg) . &#039;&quot; name=&quot;cat_limit[&#039; . $taxonomy . &#039;]&quot;  /&gt;&#039;;

        $html = ob_get_clean();

        // Default category select
        if ( $cat_display == &#039;multiselect&#039; || $cat_display == &#039;checkbox&#039; ) {
            // required
            $required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

            $default_category = (int) geodir_get_cf_default_category_value();

            $html .= aui()-&gt;select( array(
                &#039;id&#039;              =&gt; &quot;default_category&quot;,
                &#039;name&#039;            =&gt; &quot;default_category&quot;,
                &#039;placeholder&#039;     =&gt; esc_attr__( &quot;Select Default Category&quot;, &#039;geodirectory&#039; ),
                &#039;value&#039;           =&gt; $default_category,
                &#039;required&#039;        =&gt; true,
                &#039;label_type&#039;      =&gt; ! empty( $geodir_label_type ) ? $geodir_label_type : &#039;horizontal&#039;,
                &#039;label&#039;           =&gt; __( &quot;Default Category&quot;, &#039;geodirectory&#039; ) . $required,
                &#039;help_text&#039;       =&gt; esc_attr__( &quot;The default category can affect the listing URL and map marker.&quot;, &#039;geodirectory&#039; ),
                &#039;multiple&#039;        =&gt; false,
                &#039;options&#039;         =&gt; $default_category ? array( $default_category =&gt; &#039;&#039; ) : array(),
                &#039;element_require&#039; =&gt; &#039;[%&#039; . $taxonomy . &#039;%]!=null&#039;,
                &#039;wrap_attributes&#039; =&gt; geodir_conditional_field_attrs( $cf, &#039;default_category&#039;, &#039;select&#039; )
            ) );
        } else {
            // leaving this out should set the default as the main cat anyway
            $html .= &#039;&lt;input type=&quot;hidden&quot; id=&quot;default_category&quot; name=&quot;default_category&quot; value=&quot;&#039; . esc_attr( geodir_get_cf_default_category_value() ) . &#039;&quot;&gt;&#039;;
        }
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_categories&#039;,&#039;geodir_cfi_categories&#039;,10,2);


/**
 * Get the html input for the custom field: tags
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_tags( $html, $cf ) {
    global $gd_post;

    // we use the standard WP tags UI in backend
    if ( is_admin() ) {
        return &#039;&#039;;
    }

    $html_var = $cf[&#039;htmlvar_name&#039;];

    // Check if there is a custom field specific filter.
    if ( has_filter(&quot;geodir_custom_field_input_tags_{$html_var}&quot; ) ) {
        /**
         * Filter the multiselect html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters( &quot;geodir_custom_field_input_tags_{$html_var}&quot;, $html, $cf );
    }

    // If no html then we run the standard output.
    if ( empty( $html ) ) {
        global $geodir_label_type;

        $extra_attributes = array();
        $value = geodir_get_cf_value($cf);
        $title = &#039;&#039;;

        $cf[&#039;option_values&#039;] = &quot;tag1,tag2&quot;;

        $package = geodir_get_post_package( $gd_post, $cf[&#039;post_type&#039;] );

        // Tag limit
        $tag_limit = ! empty( $package ) &amp;&amp; isset( $package-&gt;tag_limit ) ? absint( $package-&gt;tag_limit ) : 0;
        $tag_limit = (int) apply_filters( &#039;geodir_cfi_post_tags_limit&#039;, $tag_limit, $gd_post, $package );
        if ( $tag_limit &gt; 0 ) {
             $extra_attributes[&#039;data-maximum-selection-length&#039;] = $tag_limit;
        }

        //validation
        if ( isset( $cf[&#039;validation_pattern&#039;] ) &amp;&amp; $cf[&#039;validation_pattern&#039;] ) {
            $extra_attributes[&#039;pattern&#039;] = $cf[&#039;validation_pattern&#039;];
        }

        // validation message
        if ( isset( $cf[&#039;validation_msg&#039;] ) &amp;&amp; $cf[&#039;validation_msg&#039;] ) {
            $title = $cf[&#039;validation_msg&#039;];
        }

        // required
        $required = ! empty( $cf[&#039;is_required&#039;] ) ? &#039; &lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&#039; : &#039;&#039;;

        // help text
        $help_text = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );

        // field type (used for validation)
        $extra_attributes[&#039;field_type&#039;] = $cf[&#039;type&#039;];

        // placeholder
        $placeholder = ! empty( $cf[&#039;placeholder_value&#039;] ) ? __( $cf[&#039;placeholder_value&#039;], &#039;geodirectory&#039; ) : __( &#039;Enter tags separated by a comma ,&#039;, &#039;geodirectory&#039; );

        $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );

        //extra
        $extra_attributes[&#039;data-placeholder&#039;] = esc_attr( $placeholder );
        $extra_attributes[&#039;option-ajaxchosen&#039;] = &#039;false&#039;;
        $extra_attributes[&#039;data-token-separators&#039;] = &quot;[&#039;,&#039;]&quot;;
        $extra_attributes[&#039;data-tags&#039;] = &#039;true&#039;;
        $extra_attributes[&#039;spellcheck&#039;] = &#039;false&#039;;

        if ( is_array( $extra_fields ) ) {
            // Disable new tags
            if ( ! empty( $extra_fields[&#039;disable_new_tags&#039;] ) ) {
                $extra_attributes[&#039;data-tags&#039;] = &#039;false&#039;;
            }

            // Enable spell check
            if ( ! empty( $extra_fields[&#039;spellcheck&#039;] ) &amp;&amp; empty( $extra_fields[&#039;disable_new_tags&#039;] ) ) {
                $extra_attributes[&#039;spellcheck&#039;] = &#039;true&#039;;
            }
        }

        $post_type = isset( $_REQUEST[&#039;listing_type&#039;] ) ? geodir_clean_slug( $_REQUEST[&#039;listing_type&#039;] ) : &#039;&#039;;
        $term_array = array();
        $options = array();
        if ( $post_type ) {
            $tag_no       = 10;
            if ( is_array( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;no_of_tag&#039;] ) ) {
                $tag_no = absint( $extra_fields[&#039;no_of_tag&#039;] );
            }
            $tag_filter = array(
                &#039;taxonomy&#039;   =&gt; $post_type . &#039;_tags&#039;,
                &#039;hide_empty&#039; =&gt; false,
                &#039;orderby&#039;    =&gt; &#039;count&#039;,
                &#039;order&#039;      =&gt; &#039;DESC&#039;,
                &#039;number&#039;     =&gt; $tag_no,
            );
            $tag_args   = apply_filters( &#039;geodir_custom_field_input_tag_args&#039;, $tag_filter );
            $terms      = get_terms( $tag_args );
            if ( ! empty( $terms ) ) {
                foreach( $terms as $term ) {
                    $term_array[] = $term-&gt;name;
                }
            }

            if ( ! empty( $term_array ) ) {
                $cf[&#039;option_values&#039;] = implode( &quot;,&quot;, $term_array );
            }
        }

        $value_array = array();
        if(!empty($value)){
            $value_array = array_map(&#039;trim&#039;,explode(&quot;,&quot;,$value));
        }

        // popular tags
        $option_values_arr = geodir_string_values_to_options($cf[&#039;option_values&#039;], true);
        if(!empty($option_values_arr)){
            $options =  array_merge( array( array(&#039;label&#039;=&gt;__(&#039;Popular tags&#039;,&#039;geodirectory&#039;),&#039;optgroup&#039;=&gt;&#039;start&#039;) ) ,  $option_values_arr );
            $options =  array_merge( $options , array( array(&#039;optgroup&#039;=&gt;&#039;end&#039;)));

            // remove from the popular list if already selected
            foreach($options as $key =&gt; $val){
                if(!empty($val[&#039;value&#039;]) &amp;&amp; !empty($value_array) &amp;&amp; in_array($val[&#039;value&#039;],$value_array)){
                    unset($options[$key]);
                }
            }
        }

        // current tags
        $current_tags_arr = geodir_string_values_to_options($value, true);
        if(!empty($current_tags_arr)){
            $current_options =  array_merge( array( array(&#039;label&#039;=&gt;__(&#039;Your tags&#039;,&#039;geodirectory&#039;),&#039;optgroup&#039;=&gt;&#039;start&#039;) ) ,  $current_tags_arr );
            $current_options =  array_merge( $current_options , array( array(&#039;optgroup&#039;=&gt;&#039;end&#039;)));
            $options = array_merge( $options, $current_options);
        }

        // admin only
        $admin_only = geodir_cfi_admin_only($cf);
        $conditional_attrs = geodir_conditional_field_attrs( $cf );

        $validation_text = &#039;&#039;;
		// Required message
		if ( $required &amp;&amp; ! empty( $cf[&#039;required_msg&#039;] ) ) {
			$validation_text = __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; );
		}

		// Validation message
		if ( ! empty( $cf[&#039;validation_msg&#039;] ) ) {
			$validation_text = __( $cf[&#039;validation_msg&#039;], &#039;geodirectory&#039; );
		}

		// Set validation message
		if ( ! empty( $validation_text ) ) {
			$extra_attributes[&#039;oninvalid&#039;] = &#039;try{this.setCustomValidity(\&#039;&#039; . esc_attr( addslashes( $validation_text ) ) . &#039;\&#039;)}catch(e){}&#039;;
			$extra_attributes[&#039;onchange&#039;] = &#039;try{this.setCustomValidity(\&#039;\&#039;)}catch(e){}&#039;;
		}

		/**
         * Filter the post tags extra attributes.
         *
         * @since 2.2.4
         *
         * @param array $extra_attributes Tags attributes.
         */
        $extra_attributes = apply_filters( &#039;geodir_cfi_aui_post_tags_attributes&#039;, $extra_attributes, $cf );

        $html = aui()-&gt;select( array(
            &#039;id&#039;                 =&gt; $cf[&#039;name&#039;],
            &#039;name&#039;               =&gt; &quot;tax_input[&quot;.wp_strip_all_tags( esc_attr($post_type ) ) .&quot;_tags&quot;.&quot;][]&quot; ,
            &#039;title&#039;              =&gt; $title,
            &#039;placeholder&#039;        =&gt; $placeholder,
            &#039;value&#039;              =&gt; $value_array,
            &#039;required&#039;           =&gt; !empty($cf[&#039;is_required&#039;]) ? true : false,
            &#039;label_show&#039;         =&gt; true,
            &#039;label_type&#039;         =&gt; !empty($geodir_label_type) ? $geodir_label_type : &#039;horizontal&#039;,
            &#039;label&#039;              =&gt; __($cf[&#039;frontend_title&#039;], &#039;geodirectory&#039;).$admin_only.$required,
            &#039;validation_text&#039;    =&gt; $validation_text,
            &#039;validation_pattern&#039; =&gt; !empty($cf[&#039;validation_pattern&#039;]) ? $cf[&#039;validation_pattern&#039;] : &#039;&#039;,
            &#039;help_text&#039;          =&gt; $help_text,
            &#039;multiple&#039;           =&gt; true,
            &#039;extra_attributes&#039;   =&gt; $extra_attributes,
            &#039;options&#039;            =&gt; $options, //geodir_string_values_to_options($cf[&#039;option_values&#039;], true),
            &#039;select2&#039;            =&gt; true,
            &#039;data-allow-clear&#039;   =&gt; false,
            &#039;style&#039;              =&gt; &#039;width:100%;height:inherit;&#039;,
            &#039;wrap_attributes&#039;    =&gt; $conditional_attrs
        ) );

    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_tags&#039;,&#039;geodir_cfi_tags&#039;,10,2);


/**
 * Get the html input for the custom field: business_hours
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 2.0.0
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_business_hours( $html, $cf ) {
    global $gd_post, $geodir_label_type;

    if ( empty( $html ) ) {
        $horizontal = empty( $geodir_label_type ) || $geodir_label_type == &#039;horizontal&#039; ? true : false;

        $htmlvar_name = $cf[&#039;htmlvar_name&#039;];
        $name = $cf[&#039;name&#039;];
        $label = __( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
        $description = __( $cf[&#039;desc&#039;], &#039;geodirectory&#039; );
        $value = geodir_get_cf_value( $cf );

        $locale = function_exists( &#039;get_user_locale&#039; ) ? get_user_locale() : get_locale();
        $time_format = geodir_bh_input_time_format();
        $timepicker_format = geodir_bh_input_time_format( true );
        $timezone_string = geodir_timezone_string();
        $weekdays = geodir_get_short_weekdays();
        $display = &#039;none&#039;;

        if ( ! empty( $value ) ) {
            $display = &#039;&#039;;
            $value = stripslashes_deep( $value );
            $periods = geodir_schema_to_array( $value, ( ! empty( $gd_post-&gt;country ) ? $gd_post-&gt;country : &#039;&#039; ) );
            if ( ! empty( $periods[&#039;hours&#039;] ) ) {
                $hours = $periods[&#039;hours&#039;];
            }

            if ( ! empty( $periods[&#039;timezone_string&#039;] ) ) {
                $timezone_string = $periods[&#039;timezone_string&#039;];
            }
        } else {
            $hours = geodir_bh_default_values(); // Default value
        }

        $timezone_data = geodir_timezone_data( $timezone_string );


        // enqueue the script
        $aui_settings = AyeCode_UI_Settings::instance();
        $aui_settings-&gt;enqueue_flatpickr();

        $conditional_attrs = geodir_conditional_field_attrs( $cf, $htmlvar_name, &#039;hidden&#039; );

        ob_start();
        ?&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;jQuery(function($){GeoDir_Business_Hours.init({&#039;field&#039;:&#039;&lt;?php echo $htmlvar_name; ?&gt;&#039;,&#039;value&#039;:&#039;&lt;?php echo $value; ?&gt;&#039;,&#039;json&#039;:&#039;&lt;?php echo stripslashes_deep(json_encode($value)); ?&gt;&#039;,&#039;offset&#039;:&lt;?php echo (int) $timezone_data[&#039;offset&#039;]; ?&gt;,&#039;utc_offset&#039;:&#039;&lt;?php echo $timezone_data[&#039;utc_offset&#039;]; ?&gt;&#039;,&#039;offset_dst&#039;:&lt;?php echo (int) $timezone_data[&#039;offset_dst&#039;]; ?&gt;,&#039;utc_offset_dst&#039;:&#039;&lt;?php echo $timezone_data[&#039;utc_offset_dst&#039;]; ?&gt;&#039;,&#039;has_dst&#039;:&lt;?php echo (int) $timezone_data[&#039;has_dst&#039;]; ?&gt;,&#039;is_dst&#039;:&lt;?php echo (int) $timezone_data[&#039;is_dst&#039;]; ?&gt;});});&lt;/script&gt;
        &lt;div id=&quot;&lt;?php echo $name;?&gt;_row&quot; class=&quot;gd-bh-row form-group row&quot;&lt;?php echo $conditional_attrs; ?&gt;&gt;
            &lt;label for=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_active_1&quot; class=&quot;&lt;?php echo ( $horizontal ? &#039; pt-0 col-sm-2 col-form-label&#039; : &#039;&#039; ); ?&gt;&quot;&gt;&lt;?php echo $label; ?&gt;&lt;/label&gt;
            &lt;div class=&quot;gd-bh-field&lt;?php echo ( $horizontal ? &#039; col-sm-10&#039; : &#039;&#039; ); ?&gt;&quot; data-field-name=&quot;&lt;?php echo $htmlvar_name; ?&gt;&quot; role=&quot;radiogroup&quot;&gt;
                &lt;?php echo aui()-&gt;radio(
                    array(
                        &#039;id&#039; =&gt; $htmlvar_name . &#039;_f_active&#039;,
                        &#039;name&#039; =&gt; $htmlvar_name . &#039;_f_active&#039;,
                        &#039;required&#039; =&gt; true,
                        &#039;label&#039; =&gt; &#039;&#039;,
                        &#039;label_type&#039; =&gt; &#039;vertical&#039;,
                        &#039;type&#039; =&gt; &#039;radio&#039;,
                        &#039;value&#039; =&gt; ( $value ? 1 : 0 ),
                        &#039;options&#039; =&gt; array(
                            &#039;1&#039; =&gt; __( &#039;Yes&#039;,&#039;geodirectory&#039; ),
                            &#039;0&#039; =&gt; __( &#039;No&#039;,&#039;geodirectory&#039; )
                        ),
                        &#039;extra_attributes&#039; =&gt; array(
                            &#039;data-field&#039; =&gt; &#039;active&#039;,
                            &#039;data-no-rule&#039; =&gt; 1
                        )
                    )
                );
                ?&gt;
                &lt;div class=&quot;gd-bh-items&quot; style=&quot;display:&lt;?php echo $display; ?&gt;&quot; data-12am=&quot;&lt;?php echo esc_attr( strtoupper( date_i18n( $time_format, strtotime( &#039;00:00&#039; ) ) ) ); ?&gt;&quot;&gt;
                    &lt;table class=&quot;table table-borderless table table-striped&quot;&gt;
                        &lt;thead class=&quot;thead-light&quot;&gt;
                        &lt;tr&gt;&lt;th class=&quot;gd-bh-day&quot;&gt;&lt;?php _e( &#039;Day&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/th&gt;&lt;th class=&quot;gd-bh-24hours&quot;&gt;&lt;?php _e( &#039;Open 24 hours&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/th&gt;&lt;th class=&quot;gd-bh-time&quot;&gt;&lt;?php _e( &#039;Opening Hours&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/th&gt;&lt;th class=&quot;gd-bh-act&quot;&gt;&lt;span class=&quot;sr-only&quot;&gt;&lt;?php _e( &#039;Add&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;
                        &lt;/thead&gt;
                        &lt;tbody&gt;
                        &lt;tr style=&quot;display:none!important&quot;&gt;
                            &lt;td colspan=&quot;4&quot; class=&quot;gd-bh-blank&quot;&gt;
                                &lt;div class=&quot;gd-bh-hours row&quot;&gt;
                                    &lt;div class=&quot;col-10 p-0 mb-1&quot;&gt;&lt;div class=&quot;input-group&quot;&gt;
                                        &lt;div class=&quot;col-md-6 col-sm-12 m-0 p-0&quot;&gt;&lt;input type=&quot;text&quot; field_type=&quot;time&quot; data-enable-time=&quot;true&quot; data-no-calendar=&quot;true&quot; data-date-format=&quot;H:i&quot; data-alt-input=&quot;true&quot; data-alt-format=&quot;&lt;?php echo esc_attr( $timepicker_format ); ?&gt;&quot; data-alt-input-class=&quot;gd-alt-open form-control text-center bg-white rounded-0 w-100 GD_UNIQUE_ID_oa&quot; class=&quot;form-control text-center bg-white rounded-0 w-100&quot; id=&quot;GD_UNIQUE_ID_o&quot; data-field-alt=&quot;open&quot; data-bh=&quot;time&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Open&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; value=&quot;09:00&quot;&gt;&lt;/div&gt;
                                        &lt;div class=&quot;col-md-6 col-sm-12 m-0 p-0&quot;&gt;&lt;input type=&quot;text&quot; field_type=&quot;time&quot; data-enable-time=&quot;true&quot; data-no-calendar=&quot;true&quot; data-date-format=&quot;H:i&quot; data-alt-input=&quot;true&quot; data-alt-format=&quot;&lt;?php echo esc_attr( $timepicker_format ); ?&gt;&quot; data-alt-input-class=&quot;gd-alt-close form-control text-center bg-white rounded-0 w-100 GD_UNIQUE_ID_oa&quot; class=&quot;form-control text-center bg-white rounded-0 w-100&quot; id=&quot;GD_UNIQUE_ID_c&quot; data-field-alt=&quot;close&quot; data-bh=&quot;time&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Close&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; value=&quot;17:00&quot;&gt;&lt;/div&gt;
                                    &lt;/div&gt;&lt;/div&gt;
                                    &lt;div class=&quot;col-2 text-left gd-bh-remove&quot;&gt;&lt;i class=&quot;fas fa-minus-circle c-pointer mt-2&quot; title=&quot;&lt;?php _e(&quot;Remove hours&quot;,&quot;geodirectory&quot;); ?&gt;&quot; data-toggle=&quot;tooltip&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;?php foreach ( $weekdays as $day_no =&gt; $day ) { ?&gt;
                            &lt;tr class=&quot;gd-bh-item&lt;?php echo ( empty( $hours[ $day_no ] ) ? &#039; gd-bh-item-closed&#039; : &#039;&#039; ); ?&gt;&quot;&gt;
                                &lt;td class=&quot;gd-bh-day&quot;&gt;&lt;?php echo $day; ?&gt;&lt;/td&gt;
                                &lt;td class=&quot;gd-bh-24hours&quot;&gt;&lt;div class=&quot;form-check&quot;&gt;&lt;input type=&quot;checkbox&quot; value=&quot;1&quot; class=&quot;form-check-input&quot; &lt;?php echo ( empty( $hours[ $day_no ] ) ? &#039;style=&quot;display:none&quot;&#039; : &#039;&#039; ); ?&gt;&gt;&lt;/div&gt;&lt;/td&gt;
                                &lt;td class=&quot;gd-bh-time&quot; data-day=&quot;&lt;?php echo $day_no; ?&gt;&quot; data-field=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[hours][&lt;?php echo $day_no; ?&gt;]&quot;&gt;
                                    &lt;?php
                                    if ( ! empty( $hours[ $day_no ] ) ) {
                                        $slots = $hours[ $day_no ];

                                        foreach ( $slots as $slot ) {
                                            $open = $close = $open_display = $close_display = $open_His = $close_His = &#039;&#039;;

                                            $unique_id = uniqid( rand() );

                                            if ( ! empty( $slot[&#039;opens&#039;] ) ) {
                                                $open = $slot[&#039;opens&#039;];
                                                $open_time = strtotime( $open );
                                                $open_display = date_i18n( $time_format, $open_time );
                                                $open_His = date_i18n( &#039;H:i:s&#039;, $open_time );
                                            }

                                            if ( ! empty( $slot[&#039;closes&#039;] ) ) {
                                                $close = $slot[&#039;closes&#039;];
                                                $close_time = strtotime( $close );
                                                $close_display = date_i18n( $time_format, $close_time );
                                                $close_His = date_i18n( &#039;H:i:s&#039;, $close_time );
                                            }
                                            ?&gt;
                                            &lt;div class=&quot;gd-bh-hours&lt;?php echo ( ( $open == &#039;00:00&#039; &amp;&amp; $open == $close ) ? &#039; gd-bh-has24&#039; : &#039;&#039; ); ?&gt; row&quot;&gt;
                                                &lt;div class=&quot;col-10 p-0 mb-1&quot;&gt;&lt;div class=&quot;input-group&quot;&gt;
                                                    &lt;div class=&quot;col-md-6 col-sm-12 m-0 p-0&quot;&gt;&lt;input type=&quot;text&quot; field_type=&quot;time&quot; data-enable-time=&quot;true&quot; data-no-calendar=&quot;true&quot; data-date-format=&quot;H:i&quot; data-alt-input=&quot;true&quot; data-alt-format=&quot;&lt;?php echo esc_attr( $timepicker_format ); ?&gt;&quot; data-alt-input-class=&quot;gd-alt-open form-control text-center bg-white rounded-0 w-100 &lt;?php echo $unique_id; ?&gt;_oa&quot; data-aui-init=&quot;flatpickr&quot; class=&quot;form-control text-center bg-white rounded-0 w-100&quot; id=&quot;&lt;?php echo $unique_id; ?&gt;_o&quot; data-field-alt=&quot;open&quot; data-bh=&quot;time&quot; value=&quot;&lt;?php echo esc_attr( $open_His ); ?&gt;&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Open&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; data-time=&quot;&lt;?php echo $open_His; ?&gt;&quot; name=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[hours][&lt;?php echo $day_no; ?&gt;][open][]&quot;&gt;&lt;/div&gt;
                                                    &lt;div class=&quot;col-md-6 col-sm-12 m-0 p-0&quot;&gt;&lt;input type=&quot;text&quot; field_type=&quot;time&quot; data-enable-time=&quot;true&quot; data-no-calendar=&quot;true&quot; data-date-format=&quot;H:i&quot; data-alt-input=&quot;true&quot; data-alt-format=&quot;&lt;?php echo esc_attr( $timepicker_format ); ?&gt;&quot; data-alt-input-class=&quot;gd-alt-close form-control text-center bg-white rounded-0 w-100 &lt;?php echo $unique_id; ?&gt;_oa&quot; data-aui-init=&quot;flatpickr&quot; class=&quot;form-control text-center bg-white rounded-0 w-100&quot; id=&quot;&lt;?php echo $unique_id; ?&gt;_c&quot; data-field-alt=&quot;close&quot; data-bh=&quot;time&quot; value=&quot;&lt;?php echo esc_attr( $close_His ); ?&gt;&quot; aria-label=&quot;&lt;?php esc_attr_e( &#039;Close&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; data-time=&quot;&lt;?php echo $close_His; ?&gt;&quot; name=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f[hours][&lt;?php echo $day_no; ?&gt;][close][]&quot;&gt;&lt;/div&gt;
                                                &lt;/div&gt;&lt;/div&gt;
                                                &lt;div class=&quot;col-2 text-left gd-bh-remove&quot;&gt;&lt;i class=&quot;fas fa-minus-circle c-pointer mt-2&quot; title=&quot;&lt;?php _e( &quot;Remove hours&quot;, &quot;geodirectory&quot; ); ?&gt;&quot; data-toggle=&quot;tooltip&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/div&gt;
                                            &lt;/div&gt;
                                        &lt;?php } ?&gt;
                                    &lt;?php } else { ?&gt;
                                        &lt;div class=&quot;gd-bh-closed text-center&quot;&gt;&lt;?php _e( &#039;Closed&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/div&gt;
                                    &lt;?php } ?&gt;
                                &lt;/td&gt;
                                &lt;td class=&quot;gd-bh-act &quot;&gt;&lt;span class=&quot;gd-bh-add c-pointer&quot; title=&quot;&lt;?php _e(&quot;Add new set of hours&quot;,&quot;geodirectory&quot;); ?&gt;&quot; data-toggle=&quot;tooltip&quot;&gt;&lt;i class=&quot;fas fa-plus-circle&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;?php } ?&gt;
                        &lt;tr class=&quot;gd-tz-item&quot;&gt;
                            &lt;td colspan=&quot;4&quot;&gt;&lt;div class=&quot;row mb-0&quot;&gt;&lt;div class=&quot;col-sm-2 col-form-label&quot;&gt;&lt;label for=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_timezone_string&quot; class=&quot;mb-0&quot;&gt;&lt;?php _e( &#039;Timezone:&#039;, &#039;geodirectory&#039; ); ?&gt;&lt;/label&gt;&lt;/div&gt;&lt;div class=&quot;col-sm-10&quot;&gt;&lt;select data-field=&quot;timezone_string&quot; id=&quot;&lt;?php echo $htmlvar_name; ?&gt;_f_timezone_string&quot; class=&quot;custom-select aui-select2&quot; data-placeholder=&quot;&lt;?php esc_attr_e( &#039;Select a city/timezone&amp;hellip;&#039;, &#039;geodirectory&#039; ); ?&gt;&quot; data-allow-clear=&quot;1&quot; option-ajaxchosen=&quot;false&quot; tabindex=&quot;-1&quot; aria-hidden=&quot;true&quot; data-select2-id=&quot;&lt;?php echo $htmlvar_name; ?&gt;&quot;&gt;&lt;?php echo geodir_timezone_choice( $timezone_string, $locale ) ;?&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                        &lt;/tbody&gt;
                    &lt;/table&gt;
                &lt;/div&gt;
                &lt;input type=&quot;hidden&quot; name=&quot;&lt;?php echo $htmlvar_name; ?&gt;&quot; value=&quot;&lt;?php echo esc_attr( $value ); ?&gt;&quot;&gt;
                &lt;?php if($horizontal){echo &#039;&lt;small class=&quot;form-text text-muted&quot;&gt;&#039;. $description.&#039;&lt;/small&gt;&#039;;} ?&gt;
            &lt;/div&gt;
            &lt;?php if(!$horizontal){echo &#039;&lt;small class=&quot;form-text text-muted&quot;&gt;&#039;. $description.&#039;&lt;/small&gt;&#039;;} ?&gt;
        &lt;/div&gt;
        &lt;?php
        $html = ob_get_clean();
    }

    return $html;
}
add_filter( &#039;geodir_custom_field_input_business_hours&#039;, &#039;geodir_cfi_business_hours&#039;, 10, 2 );



/**
 * Get the html input for the custom field: images
 *
 * @param string $html The html to be filtered.
 * @param array $cf The custom field array details.
 * @since 1.6.6
 *
 * @return string The html to output for the custom field.
 */
function geodir_cfi_files( $html, $cf ) {
    $html_var = $cf[&#039;htmlvar_name&#039;];

    // we use the standard WP tags UI in backend
    if ( is_admin() &amp;&amp; $html_var == &#039;post_images&#039; ) {
        return &#039;&#039;;
    }

    // Check if there is a custom field specific filter.
    if ( has_filter(&quot;geodir_custom_field_input_files_{$html_var}&quot; ) ) {
        /**
         * Filter the multiselect html by individual custom field.
         *
         * @param string $html The html to filter.
         * @param array $cf The custom field array.
         * @since 1.6.6
         */
        $html = apply_filters(&quot;geodir_custom_field_input_files_{$html_var}&quot;, $html, $cf );
    }

    // If no html then we run the standard output.
    if ( empty( $html ) ) {
        global $gd_post, $post;

        if ( empty( $gd_post ) &amp;&amp; ! empty( $post ) ) {
            $gd_post = geodir_get_post_info( $post-&gt;ID );
        }

        ob_start(); // Start buffering;

        $horizontal = true;

        $extra_fields = maybe_unserialize( $cf[&#039;extra_fields&#039;] );
        $file_limit = ! empty( $extra_fields ) &amp;&amp; ! empty( $extra_fields[&#039;file_limit&#039;] ) ? absint( $extra_fields[&#039;file_limit&#039;] ) : 0;
        $file_limit = apply_filters( &quot;geodir_custom_field_file_limit&quot;, $file_limit, $cf, $gd_post );

        $allowed_file_types = isset( $extra_fields[&#039;gd_file_types&#039;] ) ? maybe_unserialize( $extra_fields[&#039;gd_file_types&#039;] ) : array( &#039;jpg&#039;,&#039;jpe&#039;,&#039;jpeg&#039;,&#039;gif&#039;,&#039;png&#039;,&#039;bmp&#039;,&#039;ico&#039;,&#039;webp&#039;);
        $display_file_types = $allowed_file_types != &#039;&#039; ? &#039;.&#039; . implode( &quot;, .&quot;, $allowed_file_types ) : &#039;&#039;;
        if ( ! empty( $allowed_file_types ) ) {
            $allowed_file_types = implode( &quot;,&quot;, $allowed_file_types );
        }

        // adjust values here
        $id = $cf[&#039;htmlvar_name&#039;]; // this will be the name of form field. Image url(s) will be submitted in $_POST using this key. So if $id == img1 then $_POST[img1] will have all the image urls

        $revision_id = isset( $gd_post-&gt;post_parent ) &amp;&amp; $gd_post-&gt;post_parent ? $gd_post-&gt;ID : &#039;&#039;;
        $post_id = isset( $gd_post-&gt;post_parent ) &amp;&amp; $gd_post-&gt;post_parent ? $gd_post-&gt;post_parent : $gd_post-&gt;ID;

        // check for any auto save temp media values first
        $temp_media = get_post_meta( $post_id, &quot;__&quot; . $revision_id, true );
        if ( ! empty( $temp_media ) &amp;&amp; isset( $temp_media[ $html_var ] ) ) {
            $files = $temp_media[ $html_var ];
        } else {
            $files = GeoDir_Media::get_field_edit_string( $post_id, $html_var, $revision_id );
        }

        if ( ! empty( $files ) ) {
            $total_files = count( explode( &#039;::&#039;, $files ) );
        } else {
            $total_files = 0;
        }

        $image_limit = absint( $file_limit );
        $multiple = $image_limit == 1 ? false : true; // Allow multiple files upload
        $show_image_input_box = true;
        /**
         * Filter to be able to show/hide the image upload section of the add listing form.
         *
         * @since 1.0.0
         * @param bool $show_image_input_box Set true to show. Set false to not show.
         * @param string $listing_type The custom post type slug.
         */
        $show_image_input_box = apply_filters( &#039;geodir_file_uploader_on_add_listing&#039;, $show_image_input_box, $cf[&#039;post_type&#039;] );

        if ( $show_image_input_box ) {
            $extra_attributes = array();
            if ( ! empty( $cf[&#039;is_required&#039;] ) ) {
                $extra_attributes[&#039;required&#039;] = &#039;required&#039;;
                $extra_attributes[&#039;style&#039;] = &#039;height:0!important;padding:0!important;margin:0!important;font-size:0!important;line-height:0!important;border:0!important;outline:none!important;position:absolute!important;top:80px!important&#039;;
                $extra_attributes[&#039;aria-label&#039;] = esc_html__( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
            }

            $validation_text = &#039;&#039;;
            // Required message
            if ( ! empty( $cf[&#039;is_required&#039;] ) &amp;&amp; ! empty( $cf[&#039;required_msg&#039;] ) ) {
                $validation_text = __( $cf[&#039;required_msg&#039;], &#039;geodirectory&#039; );
            }

            // Validation message
            if ( ! empty( $cf[&#039;validation_msg&#039;] ) ) {
                $validation_text = __( $cf[&#039;validation_msg&#039;], &#039;geodirectory&#039; );
            }

            // Set validation message
            if ( ! empty( $validation_text ) ) {
                $extra_attributes[&#039;oninvalid&#039;] = &#039;try{this.setCustomValidity(\&#039;&#039; . esc_attr( addslashes( $validation_text ) ) . &#039;\&#039;)}catch(e){}&#039;;
                $extra_attributes[&#039;onchange&#039;] = &#039;try{this.setCustomValidity(\&#039;\&#039;)}catch(e){}&#039;;
            }

            $extra_attributes = class_exists( &quot;AUI_Component_Helper&quot; ) ? AUI_Component_Helper::extra_attributes( $extra_attributes ) : &#039;&#039;;

            // admin only
            $admin_only = geodir_cfi_admin_only($cf);
            $conditional_attrs = geodir_conditional_field_attrs( $cf, $cf[&#039;name&#039;], &#039;hidden&#039; );
            ?&gt;
            &lt;div id=&quot;&lt;?php echo $cf[&#039;name&#039;]; ?&gt;_row&quot; class=&quot;&lt;?php if ( $cf[&#039;is_required&#039;] ) {echo &#039;required_field&#039;;} ?&gt; form-group row&quot;&lt;?php echo $conditional_attrs; ?&gt;&gt;
                &lt;label for=&quot;&lt;?php echo $id; ?&gt;&quot; class=&quot;&lt;?php echo $horizontal ? &#039;  col-sm-2 col-form-label&#039; : &#039;&#039;;?&gt;&quot;&gt;
                    &lt;?php $frontend_title = esc_attr__( $cf[&#039;frontend_title&#039;], &#039;geodirectory&#039; );
                    echo ( trim( $frontend_title ) ) ? $frontend_title : &#039;&amp;nbsp;&#039;; echo $admin_only;?&gt;
                    &lt;?php if ( $cf[&#039;is_required&#039;] ) {
                        echo &#039;&lt;span&gt;*&lt;/span&gt;&#039;;
                    } ?&gt;
                &lt;/label&gt;
                &lt;?php
                if($horizontal){echo &quot;&lt;div class=&#039;col-sm-10&#039;&gt;&quot;;}
                echo class_exists(&quot;AUI_Component_Helper&quot;) ? AUI_Component_Helper::help_text(__( $cf[&#039;desc&#039;], &#039;geodirectory&#039; )) : &#039;&#039;;
                if($horizontal){echo &quot;&lt;/div&gt;&quot;;}

                // params for file upload
                $is_required = $cf[&#039;is_required&#039;];

                if($horizontal){echo &quot;&lt;div class=&#039;mx-3 w-100&#039;&gt;&quot;;}
                // the file upload template
                echo geodir_get_template_html( &quot;bootstrap/file-upload.php&quot;, array(
                    &#039;id&#039;                  =&gt; $id,
                    &#039;is_required&#039;         =&gt; $is_required,
                    &#039;files&#039;               =&gt; $files,
                    &#039;image_limit&#039;         =&gt; $image_limit,
                    &#039;total_files&#039;         =&gt; $total_files,
                    &#039;allowed_file_types&#039;  =&gt; $allowed_file_types,
                    &#039;display_file_types&#039;  =&gt; $display_file_types,
                    &#039;multiple&#039;            =&gt; $multiple,
                    &#039;extra_attributes&#039;    =&gt; $extra_attributes
                ) );
                if($horizontal){echo &quot;&lt;/div&gt;&quot;;}
            ?&gt;&lt;/div&gt;&lt;?php
        }
        $html = ob_get_clean();
    }

    return $html;
}
add_filter(&#039;geodir_custom_field_input_images&#039;,&#039;geodir_cfi_files&#039;,10,2);
add_filter(&#039;geodir_custom_field_input_file&#039;,&#039;geodir_cfi_files&#039;,10,2);

function geodir_input_parse_year_range( $range ) {
	$current_year = (int) date_i18n( &#039;Y&#039; );

	$year_range = array(
		&#039;min_year&#039; =&gt; 0,
		&#039;max_year&#039; =&gt; 0
	);

	$_range = explode( &quot;:&quot;, trim( $range ) );

	if ( isset( $_range[0] ) ) {
		$year_range[&#039;min_year&#039;] = geodir_input_parse_year( $_range[0] );
	}

	if ( isset( $_range[1] ) ) {
		$year_range[&#039;max_year&#039;] = geodir_input_parse_year( $_range[1] );
	}

	if ( ! empty( $year_range[&#039;min_year&#039;] ) &amp;&amp; ! empty( $year_range[&#039;max_year&#039;] ) ) {
		$_year_range = array_values( $year_range );
		$year_range[&#039;min_year&#039;] = min( $_year_range );
		$year_range[&#039;max_year&#039;] = max( $_year_range );
	} else if ( ! empty( $year_range[&#039;min_year&#039;] ) &amp;&amp; empty( $year_range[&#039;max_year&#039;] ) &amp;&amp; (int) $year_range[&#039;min_year&#039;] &gt; $current_year ) {
		$year_range[&#039;max_year&#039;] = $year_range[&#039;min_year&#039;];
		$year_range[&#039;min_year&#039;] = 0;
	} else if ( empty( $year_range[&#039;min_year&#039;] ) &amp;&amp; ! empty( $year_range[&#039;max_year&#039;] ) &amp;&amp; $year_range[&#039;max_year&#039;] &lt; $current_year ) {
		$year_range[&#039;min_year&#039;] = $year_range[&#039;max_year&#039;];
		$year_range[&#039;max_year&#039;] = 0;
	} 

	return $year_range;
}

function geodir_input_parse_year( $range ) {
	$current_year = (int) date_i18n( &#039;Y&#039; );

	$range = str_replace( &quot;c&quot;, $current_year, $range );
	$year = 0;

	if ( strpos( $range, &#039;-&#039; ) !== false ) {
		$_year = explode( &quot;-&quot;, $range );

		$min = trim( $_year[0] );
		$diff = trim( $_year[1] );

		$year = strlen( $min ) == 4 ? $min : $current_year;
		$diff = trim( $_year[1] ) !== &quot;&quot; ? $_year[1] : &quot;&quot;;

		if ( $diff !== &quot;&quot; ) {
			$year = $year - (int) $diff;
		}
	} else if ( strpos( $range, &#039;+&#039; ) !== false ) {
		$_year = explode( &quot;+&quot;, $range );

		$min = trim( $_year[0] );
		$diff = trim( $_year[1] );

		$year = strlen( $min ) == 4 ? $min : $current_year;
		$diff = trim( $_year[1] ) !== &quot;&quot; ? $_year[1] : &quot;&quot;;

		if ( $diff !== &quot;&quot; ) {
			$year = $year + (int) $diff;
		}
	} else {
		$_year = trim( $range );

		if ( $_year !== &quot;&quot; ) {
			if ( strlen( $_year ) == 4 ) {
				$year = (int) $_year;
			} else {
				$year = $current_year + (int) $_year;
			}
		}
	}

	if ( strlen( $year ) != 4 ) {
		$year = 0;
	}

	return $year;
}</code></pre>
            </article>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <footer class="phpdocumentor phpdocumentor-footer">
    <div class="phpdocumentor-section">
        <span>Geodirectory Code Reference API documentation generated by <a href="http://www.phpdoc.org/">phpDocumentor</a> on May 12th, 2022 at 05:56 am.</span>
    </div>
</footer>

    <script>
        cssVars({});
    </script>
    <script>
        var searchParams = {
            'searchIndex': '..\/js\/searchIndex.json'
        };
    </script>
    <script src="../js/searchIndex.js?updated=1652334990"></script>
    <script src="../js/search.js?updated=1652334990"></script>
</body>
</html>
